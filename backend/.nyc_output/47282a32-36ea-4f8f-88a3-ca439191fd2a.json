{"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/cdk.out/asset.a896c152b95a05adf8e91f5e6e451bf4656d8217bddf83f83f30acda828b76bd/index.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/cdk.out/asset.a896c152b95a05adf8e91f5e6e451bf4656d8217bddf83f83f30acda828b76bd/index.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":65}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":39}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":48}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":49}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"9":{"start":{"line":13,"column":0},"end":{"line":15,"column":2}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":37}},"11":{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},"12":{"start":{"line":19,"column":8},"end":{"line":22,"column":10}},"13":{"start":{"line":24,"column":17},"end":{"line":24,"column":27}},"14":{"start":{"line":25,"column":16},"end":{"line":25,"column":47}},"15":{"start":{"line":26,"column":4},"end":{"line":34,"column":8}},"16":{"start":{"line":27,"column":28},"end":{"line":30,"column":5}},"17":{"start":{"line":31,"column":27},"end":{"line":34,"column":5}},"18":{"start":{"line":36,"column":0},"end":{"line":36,"column":32}},"19":{"start":{"line":38,"column":4},"end":{"line":39,"column":70}},"20":{"start":{"line":39,"column":8},"end":{"line":39,"column":70}},"21":{"start":{"line":40,"column":15},"end":{"line":40,"column":28}},"22":{"start":{"line":41,"column":16},"end":{"line":41,"column":54}},"23":{"start":{"line":42,"column":4},"end":{"line":51,"column":9}},"24":{"start":{"line":43,"column":28},"end":{"line":46,"column":5}},"25":{"start":{"line":48,"column":27},"end":{"line":51,"column":5}},"26":{"start":{"line":54,"column":4},"end":{"line":55,"column":71}},"27":{"start":{"line":55,"column":8},"end":{"line":55,"column":71}},"28":{"start":{"line":56,"column":15},"end":{"line":56,"column":28}},"29":{"start":{"line":57,"column":16},"end":{"line":57,"column":56}},"30":{"start":{"line":58,"column":4},"end":{"line":67,"column":9}},"31":{"start":{"line":59,"column":28},"end":{"line":62,"column":5}},"32":{"start":{"line":64,"column":27},"end":{"line":67,"column":5}},"33":{"start":{"line":70,"column":4},"end":{"line":71,"column":82}},"34":{"start":{"line":71,"column":8},"end":{"line":71,"column":82}},"35":{"start":{"line":72,"column":4},"end":{"line":76,"column":10}},"36":{"start":{"line":73,"column":8},"end":{"line":76,"column":10}},"37":{"start":{"line":77,"column":17},"end":{"line":77,"column":32}},"38":{"start":{"line":78,"column":15},"end":{"line":78,"column":28}},"39":{"start":{"line":79,"column":16},"end":{"line":79,"column":55}},"40":{"start":{"line":80,"column":4},"end":{"line":89,"column":9}},"41":{"start":{"line":81,"column":28},"end":{"line":84,"column":5}},"42":{"start":{"line":86,"column":27},"end":{"line":89,"column":5}},"43":{"start":{"line":92,"column":22},"end":{"line":92,"column":42}},"44":{"start":{"line":93,"column":18},"end":{"line":93,"column":34}},"45":{"start":{"line":94,"column":20},"end":{"line":94,"column":38}},"46":{"start":{"line":95,"column":4},"end":{"line":95,"column":41}},"47":{"start":{"line":99,"column":4},"end":{"line":99,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":18},"end":{"line":13,"column":19}},"loc":{"start":{"line":13,"column":41},"end":{"line":15,"column":1}},"line":13},"1":{"name":"addProduct","decl":{"start":{"line":17,"column":15},"end":{"line":17,"column":25}},"loc":{"start":{"line":17,"column":33},"end":{"line":35,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":14},"end":{"line":27,"column":15}},"loc":{"start":{"line":27,"column":28},"end":{"line":30,"column":5}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":31,"column":15},"end":{"line":31,"column":16}},"loc":{"start":{"line":31,"column":27},"end":{"line":34,"column":5}},"line":31},"4":{"name":"deleteProductById","decl":{"start":{"line":37,"column":15},"end":{"line":37,"column":32}},"loc":{"start":{"line":37,"column":40},"end":{"line":52,"column":1}},"line":37},"5":{"name":"(anonymous_5)","decl":{"start":{"line":43,"column":14},"end":{"line":43,"column":15}},"loc":{"start":{"line":43,"column":28},"end":{"line":46,"column":5}},"line":43},"6":{"name":"(anonymous_6)","decl":{"start":{"line":48,"column":15},"end":{"line":48,"column":16}},"loc":{"start":{"line":48,"column":27},"end":{"line":51,"column":5}},"line":48},"7":{"name":"getProductInfoById","decl":{"start":{"line":53,"column":15},"end":{"line":53,"column":33}},"loc":{"start":{"line":53,"column":41},"end":{"line":68,"column":1}},"line":53},"8":{"name":"(anonymous_8)","decl":{"start":{"line":59,"column":14},"end":{"line":59,"column":15}},"loc":{"start":{"line":59,"column":28},"end":{"line":62,"column":5}},"line":59},"9":{"name":"(anonymous_9)","decl":{"start":{"line":64,"column":15},"end":{"line":64,"column":16}},"loc":{"start":{"line":64,"column":27},"end":{"line":67,"column":5}},"line":64},"10":{"name":"updateProductInfoById","decl":{"start":{"line":69,"column":15},"end":{"line":69,"column":36}},"loc":{"start":{"line":69,"column":44},"end":{"line":90,"column":1}},"line":69},"11":{"name":"(anonymous_11)","decl":{"start":{"line":81,"column":14},"end":{"line":81,"column":15}},"loc":{"start":{"line":81,"column":28},"end":{"line":84,"column":5}},"line":81},"12":{"name":"(anonymous_12)","decl":{"start":{"line":86,"column":15},"end":{"line":86,"column":16}},"loc":{"start":{"line":86,"column":27},"end":{"line":89,"column":5}},"line":86},"13":{"name":"getProductsInfo","decl":{"start":{"line":91,"column":15},"end":{"line":91,"column":30}},"loc":{"start":{"line":91,"column":38},"end":{"line":96,"column":1}},"line":91},"14":{"name":"validateProductInformation","decl":{"start":{"line":98,"column":9},"end":{"line":98,"column":35}},"loc":{"start":{"line":98,"column":42},"end":{"line":100,"column":1}},"line":98}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},{"start":{"line":18,"column":4},"end":{"line":23,"column":5}}],"line":18},"1":{"loc":{"start":{"line":38,"column":4},"end":{"line":39,"column":70}},"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":39,"column":70}},{"start":{"line":38,"column":4},"end":{"line":39,"column":70}}],"line":38},"2":{"loc":{"start":{"line":54,"column":4},"end":{"line":55,"column":71}},"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":55,"column":71}},{"start":{"line":54,"column":4},"end":{"line":55,"column":71}}],"line":54},"3":{"loc":{"start":{"line":70,"column":4},"end":{"line":71,"column":82}},"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":71,"column":82}},{"start":{"line":70,"column":4},"end":{"line":71,"column":82}}],"line":70},"4":{"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":42}},"type":"binary-expr","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":22}},{"start":{"line":70,"column":26},"end":{"line":70,"column":42}}],"line":70},"5":{"loc":{"start":{"line":72,"column":4},"end":{"line":76,"column":10}},"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":76,"column":10}},{"start":{"line":72,"column":4},"end":{"line":76,"column":10}}],"line":72}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/lambda/products-lambda/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { SQLConnectionManager, Router, response } from '/opt/sql-layer';\n\n// set routing\nconst router = new Router();\n\nrouter.post('/', addProduct);\nrouter.delete('/:productId', deleteProductById);\nrouter.get('/:productId', getProductInfoById);\nrouter.put('/:productId', updateProductInfoById);\nrouter.get('/', getProductsInfo);\n\n// handles routing and sends request\nexports.handler = async function (event) {\n  return await router.route(event);\n};\n\n// handlers\nexport async function addProduct(event): Promise<response> {\n  if (!validateProductInformation(event.body)) {\n    return {\n      statusCode: 422,\n      body: 'addProduct - Invalid product information',\n    };\n  }\n\n  const prod = event.body;\n  const sql = 'INSERT INTO dev.product SET ?';\n\n  return SQLConnectionManager.query(sql, [prod])\n    .then((results) => ({\n      statusCode: 201,\n      body: results,\n    }))\n    .catch((error) => ({\n      statusCode: error.statusCode,\n      body: error.message,\n    }));\n}\n\nasync function deleteProductById(event): Promise<response> {\n  if (!event.body.id)\n    return { statusCode: 400, body: 'deleteProductById - No id' };\n\n  const id = event.body.id;\n  const sql = 'DELETE FROM dev.product WHERE id = ?';\n\n  return (\n    SQLConnectionManager.query(sql, [id])\n      .then((results) => ({\n        statusCode: 204,\n        body: results,\n      }))\n      // todo check type of error if it is from invalid id (404) or connection error (599)\n      .catch((error) => ({\n        statusCode: error.statusCode,\n        body: error.message,\n      }))\n  );\n}\n\nasync function getProductInfoById(event): Promise<response> {\n  if (!event.body.id)\n    return { statusCode: 400, body: 'getProductInfoById - No id' };\n\n  const id = event.body.id;\n  const sql = 'SELECT * FROM dev.product WHERE id = ?';\n\n  return (\n    SQLConnectionManager.query(sql, [id])\n      .then((results) => ({\n        statusCode: 200,\n        body: results,\n      }))\n      // todo check type of error if it is from invalid id (404) or connection error (599)\n      .catch((error) => ({\n        statusCode: error.statusCode,\n        body: error.message,\n      }))\n  );\n}\n\nasync function updateProductInfoById(event): Promise<response> {\n  if (!event.body.id || !event.body.info)\n    return { statusCode: 400, body: 'updateProductInfoById - No id or info' };\n  if (!validateProductInformation(event.body.info))\n    return {\n      statusCode: 422,\n      body: 'updateProductInfoById - Invalid product information',\n    };\n\n  const info = event.body.info;\n  const id = event.body.id;\n  const sql = 'UPDATE dev.product SET ? WHERE id = ?';\n\n  return (\n    SQLConnectionManager.query(sql, [info, id])\n      .then((results) => ({\n        statusCode: 200,\n        body: results,\n      }))\n      // todo check type of error if it is from invalid id (404) or connection error (599)\n      .catch((error) => ({\n        statusCode: error.statusCode,\n        body: error.message,\n      }))\n  );\n}\n\nasync function getProductsInfo(event): Promise<response> {\n  const searchOpt = event.body.searchOpt;\n  const order = event.body.order;\n  const pageOpt = event.body.pageOpt;\n  return { statusCode: 300, body: '' };\n}\n\n// todo implement\nfunction validateProductInformation(prod) {\n  return prod === prod;\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/cdk.out/asset.e7bc33709c3a38b194c955f3705abc32dbee9b6903597f4601db0431441a1296/customError-layer.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/cdk.out/asset.e7bc33709c3a38b194c955f3705abc32dbee9b6903597f4601db0431441a1296/customError-layer.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":59}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":55}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":34}},"7":{"start":{"line":16,"column":23},"end":{"line":20,"column":1}},"8":{"start":{"line":17,"column":18},"end":{"line":17,"column":40}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":38}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":16}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":37},"end":{"line":10,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":32},"end":{"line":20,"column":1}},"line":16}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"f":{"0":0,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"customError-layer.js","sourceRoot":"","sources":["../../../../src/layer/customError-layer/customError-layer.ts"],"names":[],"mappings":";;;AAQA,MAAa,WAAY,SAAQ,KAAK;IACpC,UAAU,CAAS;IACnB,YAAY,OAAe,EAAE,UAAkB;QAC7C,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC;IACrD,CAAC;IAED,eAAe;QACb,OAAO,wBAAwB,GAAG,IAAI,CAAC,OAAO,CAAC;IACjD,CAAC;CACF;AAXD,kCAWC;AAEM,MAAM,cAAc,GAAG,CAAC,GAAsB,EAAE,EAAE;IACvD,MAAM,KAAK,GAAiB,IAAI,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACnD,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;IAClC,MAAM,KAAK,CAAC;AACd,CAAC,CAAC;AAJW,QAAA,cAAc,kBAIzB","sourcesContent":["export interface ICustomErrorSetup {\n  statusCode: number;\n  message: string;\n}\nexport interface ICustomError extends Error {\n  statusCode?: number;\n  message: string;\n}\nexport class CustomError extends Error {\n  statusCode: number;\n  constructor(message: string, statusCode: number) {\n    super(message);\n    this.statusCode = statusCode;\n    Object.setPrototypeOf(this, CustomError.prototype);\n  }\n\n  getErrorMessage() {\n    return 'Something went wrong: ' + this.message;\n  }\n}\n\nexport const errorGenerator = (obj: ICustomErrorSetup) => {\n  const error: ICustomError = new Error(obj.message);\n  error.statusCode = obj.statusCode;\n  throw error;\n};\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/cdk.out/asset.f01289b08a8cf8528b1ad011971b25228fe8a54ab637cca3dafde450b92c7aaf/sql-layer.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/cdk.out/asset.f01289b08a8cf8528b1ad011971b25228fe8a54ab637cca3dafde450b92c7aaf/sql-layer.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":144}},"26":{"start":{"line":27,"column":14},"end":{"line":27,"column":44}},"27":{"start":{"line":28,"column":28},"end":{"line":28,"column":80}},"28":{"start":{"line":33,"column":8},"end":{"line":33,"column":122}},"29":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"30":{"start":{"line":37,"column":12},"end":{"line":37,"column":19}},"31":{"start":{"line":39,"column":8},"end":{"line":48,"column":11}},"32":{"start":{"line":51,"column":8},"end":{"line":61,"column":11}},"33":{"start":{"line":64,"column":8},"end":{"line":74,"column":9}},"34":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"35":{"start":{"line":66,"column":16},"end":{"line":66,"column":112}},"36":{"start":{"line":69,"column":16},"end":{"line":69,"column":65}},"37":{"start":{"line":73,"column":12},"end":{"line":73,"column":20}},"38":{"start":{"line":77,"column":8},"end":{"line":93,"column":11}},"39":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"40":{"start":{"line":79,"column":16},"end":{"line":79,"column":76}},"41":{"start":{"line":89,"column":12},"end":{"line":92,"column":15}},"42":{"start":{"line":91,"column":16},"end":{"line":91,"column":78}},"43":{"start":{"line":96,"column":8},"end":{"line":120,"column":11}},"44":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"45":{"start":{"line":98,"column":16},"end":{"line":98,"column":69}},"46":{"start":{"line":99,"column":16},"end":{"line":99,"column":23}},"47":{"start":{"line":101,"column":12},"end":{"line":101,"column":40}},"48":{"start":{"line":102,"column":12},"end":{"line":119,"column":15}},"49":{"start":{"line":103,"column":16},"end":{"line":108,"column":17}},"50":{"start":{"line":105,"column":20},"end":{"line":105,"column":47}},"51":{"start":{"line":106,"column":20},"end":{"line":106,"column":71}},"52":{"start":{"line":107,"column":20},"end":{"line":107,"column":27}},"53":{"start":{"line":109,"column":16},"end":{"line":118,"column":19}},"54":{"start":{"line":111,"column":20},"end":{"line":111,"column":56}},"55":{"start":{"line":112,"column":20},"end":{"line":115,"column":21}},"56":{"start":{"line":113,"column":24},"end":{"line":113,"column":62}},"57":{"start":{"line":114,"column":24},"end":{"line":114,"column":31}},"58":{"start":{"line":116,"column":20},"end":{"line":116,"column":35}},"59":{"start":{"line":117,"column":20},"end":{"line":117,"column":37}},"60":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"61":{"start":{"line":124,"column":12},"end":{"line":124,"column":34}},"62":{"start":{"line":128,"column":0},"end":{"line":128,"column":32}},"63":{"start":{"line":131,"column":18},"end":{"line":131,"column":20}},"64":{"start":{"line":133,"column":8},"end":{"line":133,"column":52}},"65":{"start":{"line":136,"column":8},"end":{"line":136,"column":49}},"66":{"start":{"line":139,"column":8},"end":{"line":139,"column":50}},"67":{"start":{"line":142,"column":8},"end":{"line":142,"column":49}},"68":{"start":{"line":145,"column":8},"end":{"line":145,"column":38}},"69":{"start":{"line":146,"column":8},"end":{"line":148,"column":9}},"70":{"start":{"line":147,"column":12},"end":{"line":147,"column":80}},"71":{"start":{"line":149,"column":21},"end":{"line":149,"column":54}},"72":{"start":{"line":150,"column":23},"end":{"line":150,"column":54}},"73":{"start":{"line":151,"column":8},"end":{"line":156,"column":9}},"74":{"start":{"line":152,"column":12},"end":{"line":155,"column":14}},"75":{"start":{"line":158,"column":8},"end":{"line":158,"column":107}},"76":{"start":{"line":161,"column":8},"end":{"line":161,"column":38}},"77":{"start":{"line":162,"column":18},"end":{"line":162,"column":20}},"78":{"start":{"line":163,"column":8},"end":{"line":166,"column":9}},"79":{"start":{"line":164,"column":12},"end":{"line":164,"column":52}},"80":{"start":{"line":165,"column":12},"end":{"line":165,"column":87}},"81":{"start":{"line":167,"column":21},"end":{"line":167,"column":54}},"82":{"start":{"line":168,"column":23},"end":{"line":168,"column":54}},"83":{"start":{"line":169,"column":8},"end":{"line":171,"column":9}},"84":{"start":{"line":170,"column":12},"end":{"line":170,"column":60}},"85":{"start":{"line":172,"column":8},"end":{"line":173,"column":87}},"86":{"start":{"line":173,"column":12},"end":{"line":173,"column":87}},"87":{"start":{"line":175,"column":8},"end":{"line":175,"column":107}},"88":{"start":{"line":178,"column":8},"end":{"line":180,"column":9}},"89":{"start":{"line":179,"column":12},"end":{"line":179,"column":48}},"90":{"start":{"line":181,"column":8},"end":{"line":181,"column":58}},"91":{"start":{"line":184,"column":0},"end":{"line":184,"column":24}},"92":{"start":{"line":188,"column":8},"end":{"line":188,"column":19}},"93":{"start":{"line":191,"column":0},"end":{"line":191,"column":36}},"94":{"start":{"line":193,"column":17},"end":{"line":193,"column":20}},"95":{"start":{"line":195,"column":0},"end":{"line":195,"column":38}},"96":{"start":{"line":197,"column":17},"end":{"line":197,"column":20}},"97":{"start":{"line":199,"column":0},"end":{"line":199,"column":32}},"98":{"start":{"line":201,"column":17},"end":{"line":201,"column":20}},"99":{"start":{"line":204,"column":17},"end":{"line":204,"column":20}},"100":{"start":{"line":206,"column":0},"end":{"line":206,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":18},"end":{"line":34,"column":5}},"line":32},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":48},"end":{"line":49,"column":5}},"line":35},"8":{"name":"(anonymous_8)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":67},"end":{"line":62,"column":5}},"line":50},"9":{"name":"(anonymous_9)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":73},"end":{"line":75,"column":5}},"line":63},"10":{"name":"(anonymous_10)","decl":{"start":{"line":76,"column":4},"end":{"line":76,"column":5}},"loc":{"start":{"line":76,"column":22},"end":{"line":94,"column":5}},"line":76},"11":{"name":"(anonymous_11)","decl":{"start":{"line":77,"column":27},"end":{"line":77,"column":28}},"loc":{"start":{"line":77,"column":48},"end":{"line":93,"column":9}},"line":77},"12":{"name":"(anonymous_12)","decl":{"start":{"line":89,"column":46},"end":{"line":89,"column":47}},"loc":{"start":{"line":89,"column":66},"end":{"line":92,"column":13}},"line":89},"13":{"name":"(anonymous_13)","decl":{"start":{"line":95,"column":4},"end":{"line":95,"column":5}},"loc":{"start":{"line":95,"column":26},"end":{"line":121,"column":5}},"line":95},"14":{"name":"(anonymous_14)","decl":{"start":{"line":96,"column":27},"end":{"line":96,"column":28}},"loc":{"start":{"line":96,"column":48},"end":{"line":120,"column":9}},"line":96},"15":{"name":"(anonymous_15)","decl":{"start":{"line":102,"column":36},"end":{"line":102,"column":37}},"loc":{"start":{"line":102,"column":53},"end":{"line":119,"column":13}},"line":102},"16":{"name":"(anonymous_16)","decl":{"start":{"line":109,"column":39},"end":{"line":109,"column":40}},"loc":{"start":{"line":109,"column":59},"end":{"line":118,"column":17}},"line":109},"17":{"name":"(anonymous_17)","decl":{"start":{"line":122,"column":4},"end":{"line":122,"column":5}},"loc":{"start":{"line":122,"column":22},"end":{"line":126,"column":5}},"line":122},"18":{"name":"(anonymous_18)","decl":{"start":{"line":132,"column":4},"end":{"line":132,"column":5}},"loc":{"start":{"line":132,"column":31},"end":{"line":134,"column":5}},"line":132},"19":{"name":"(anonymous_19)","decl":{"start":{"line":135,"column":4},"end":{"line":135,"column":5}},"loc":{"start":{"line":135,"column":28},"end":{"line":137,"column":5}},"line":135},"20":{"name":"(anonymous_20)","decl":{"start":{"line":138,"column":4},"end":{"line":138,"column":5}},"loc":{"start":{"line":138,"column":29},"end":{"line":140,"column":5}},"line":138},"21":{"name":"(anonymous_21)","decl":{"start":{"line":141,"column":4},"end":{"line":141,"column":5}},"loc":{"start":{"line":141,"column":28},"end":{"line":143,"column":5}},"line":141},"22":{"name":"(anonymous_22)","decl":{"start":{"line":144,"column":4},"end":{"line":144,"column":5}},"loc":{"start":{"line":144,"column":23},"end":{"line":159,"column":5}},"line":144},"23":{"name":"(anonymous_23)","decl":{"start":{"line":160,"column":4},"end":{"line":160,"column":5}},"loc":{"start":{"line":160,"column":33},"end":{"line":176,"column":5}},"line":160},"24":{"name":"(anonymous_24)","decl":{"start":{"line":177,"column":4},"end":{"line":177,"column":5}},"loc":{"start":{"line":177,"column":45},"end":{"line":182,"column":5}},"line":177},"25":{"name":"(anonymous_25)","decl":{"start":{"line":187,"column":4},"end":{"line":187,"column":5}},"loc":{"start":{"line":187,"column":21},"end":{"line":189,"column":5}},"line":187}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},{"start":{"line":36,"column":8},"end":{"line":38,"column":9}}],"line":36},"17":{"loc":{"start":{"line":63,"column":21},"end":{"line":63,"column":39}},"type":"default-arg","locations":[{"start":{"line":63,"column":34},"end":{"line":63,"column":39}}],"line":63},"18":{"loc":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},{"start":{"line":65,"column":12},"end":{"line":70,"column":13}}],"line":65},"19":{"loc":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},{"start":{"line":78,"column":12},"end":{"line":80,"column":13}}],"line":78},"20":{"loc":{"start":{"line":91,"column":16},"end":{"line":91,"column":77}},"type":"cond-expr","locations":[{"start":{"line":91,"column":24},"end":{"line":91,"column":58}},{"start":{"line":91,"column":61},"end":{"line":91,"column":77}}],"line":91},"21":{"loc":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},{"start":{"line":97,"column":12},"end":{"line":100,"column":13}}],"line":97},"22":{"loc":{"start":{"line":103,"column":16},"end":{"line":108,"column":17}},"type":"if","locations":[{"start":{"line":103,"column":16},"end":{"line":108,"column":17}},{"start":{"line":103,"column":16},"end":{"line":108,"column":17}}],"line":103},"23":{"loc":{"start":{"line":112,"column":20},"end":{"line":115,"column":21}},"type":"if","locations":[{"start":{"line":112,"column":20},"end":{"line":115,"column":21}},{"start":{"line":112,"column":20},"end":{"line":115,"column":21}}],"line":112},"24":{"loc":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},{"start":{"line":123,"column":8},"end":{"line":125,"column":9}}],"line":123},"25":{"loc":{"start":{"line":146,"column":8},"end":{"line":148,"column":9}},"type":"if","locations":[{"start":{"line":146,"column":8},"end":{"line":148,"column":9}},{"start":{"line":146,"column":8},"end":{"line":148,"column":9}}],"line":146},"26":{"loc":{"start":{"line":151,"column":8},"end":{"line":156,"column":9}},"type":"if","locations":[{"start":{"line":151,"column":8},"end":{"line":156,"column":9}},{"start":{"line":151,"column":8},"end":{"line":156,"column":9}}],"line":151},"27":{"loc":{"start":{"line":151,"column":12},"end":{"line":151,"column":70}},"type":"binary-expr","locations":[{"start":{"line":151,"column":12},"end":{"line":151,"column":35}},{"start":{"line":151,"column":39},"end":{"line":151,"column":70}}],"line":151},"28":{"loc":{"start":{"line":163,"column":8},"end":{"line":166,"column":9}},"type":"if","locations":[{"start":{"line":163,"column":8},"end":{"line":166,"column":9}},{"start":{"line":163,"column":8},"end":{"line":166,"column":9}}],"line":163},"29":{"loc":{"start":{"line":169,"column":8},"end":{"line":171,"column":9}},"type":"if","locations":[{"start":{"line":169,"column":8},"end":{"line":171,"column":9}},{"start":{"line":169,"column":8},"end":{"line":171,"column":9}}],"line":169},"30":{"loc":{"start":{"line":169,"column":12},"end":{"line":169,"column":70}},"type":"binary-expr","locations":[{"start":{"line":169,"column":12},"end":{"line":169,"column":35}},{"start":{"line":169,"column":39},"end":{"line":169,"column":70}}],"line":169},"31":{"loc":{"start":{"line":172,"column":8},"end":{"line":173,"column":87}},"type":"if","locations":[{"start":{"line":172,"column":8},"end":{"line":173,"column":87}},{"start":{"line":172,"column":8},"end":{"line":173,"column":87}}],"line":172},"32":{"loc":{"start":{"line":178,"column":8},"end":{"line":180,"column":9}},"type":"if","locations":[{"start":{"line":178,"column":8},"end":{"line":180,"column":9}},{"start":{"line":178,"column":8},"end":{"line":180,"column":9}}],"line":178}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0]},"inputSourceMap":{"version":3,"file":"sql-layer.js","sourceRoot":"","sources":["../../../../src/layer/sql-layer/sql-layer.ts"],"names":[],"mappings":"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","sourcesContent":["import * as mysql from 'mysql';\nimport { MysqlError, Query } from 'mysql';\nimport { errorGenerator } from '/opt/customError-layer';\n\nexport class SQLManager {\n  private connection: null | mysql.Connection;\n  private pool: null | mysql.Pool;\n  constructor() {\n    this.createConnectionPool(\n      'sqldb.cyg4txabxn5r.us-west-2.rds.amazonaws.com',\n      'admin',\n      'password',\n      '3306',\n      'sqlDB'\n    );\n  }\n\n  private connectToDB(\n    hostname: string,\n    user: string,\n    password: string,\n    port: string\n  ): void {\n    if (this.connection?.state === 'connected') {\n      return;\n    }\n    this.connection = mysql.createConnection({\n      host: hostname,\n      user: user,\n      password: password,\n      port: Number(port),\n      multipleStatements: true,\n      connectTimeout: 60 * 60 * 1000,\n      timeout: 60 * 60 * 1000,\n      debug: false,\n    });\n  }\n\n  createConnectionPool(\n    hostname: string,\n    user: string,\n    password: string,\n    port: string,\n    database: string\n  ): void {\n    this.pool = mysql.createPool({\n      host: hostname,\n      user: user,\n      database: database,\n      password: password,\n      port: Number(port),\n      waitForConnections: true,\n      connectionLimit: 10,\n      queueLimit: 0,\n      debug: true,\n    });\n  }\n\n  createConnection(\n    useDefault = false,\n    hostname?: string,\n    user?: string,\n    password?: string,\n    port?: string\n  ): void {\n    try {\n      if (useDefault) {\n        this.connectToDB(\n          'sqldb.cyg4txabxn5r.us-west-2.rds.amazonaws.com',\n          'admin',\n          'password',\n          '3306'\n        );\n      } else {\n        this.connectToDB(hostname!, user!, password!, port!);\n      }\n    } catch (e) {\n      throw e as Error;\n    }\n  }\n\n  query(query: string, set?): Promise<Query | any[]> {\n    return new Promise((resolve, reject) => {\n      if (!this.connection) {\n        return reject(new FailedDependencyError('Connection Null'));\n      }\n      // if (this.connection.state !== 'connected') {\n      //   this.connection.connect((error: MysqlError) => {\n      //     if (error) {\n      //       // 599\n      //       reject(new NetworkConnectTimeoutError(error.code));\n      //     }\n      //   });\n      // }\n\n      this.connection.query(query, set, (error, results) => {\n        // todo find types of query errors to return correct status code\n        error ? reject(new BadRequest(error.code)) : resolve(results);\n      });\n    });\n  }\n\n  queryPool(query: string, set?): Promise<Query> {\n    return new Promise((resolve, reject) => {\n      if (!this.pool) {\n        reject(new FailedDependencyError('Connection Null'));\n        return;\n      }\n      console.log('in queryPool');\n\n      this.pool.getConnection((error: MysqlError, conn) => {\n        if (error) {\n          // 599\n          console.log('err1', error);\n          reject(new NetworkConnectTimeoutError(error.code));\n          return;\n        }\n        conn.query(query, set, (error, results) => {\n          // todo find types of query errors to return correct status code\n          console.log('<<query :::: ', query);\n\n          if (error) {\n            reject(new BadRequest('Bad Request'));\n            return;\n          }\n          conn.release();\n          resolve(results);\n        });\n      });\n    });\n  }\n\n  closeConnection(): void {\n    if (this.connection) {\n      this.connection.end();\n    }\n  }\n}\n\n// Promise<{ statusCode: number; body: string } |\nexport type handler = (event?) => Promise<any>;\nexport type response = Promise<any>;\ntype Dict<T> = { [key: string]: T };\n\n// A router to manage routes in the style of express\nexport class Router {\n  private route_table: Dict<Dict<handler>> = {};\n\n  public delete(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'DELETE', func);\n  }\n\n  public get(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'GET', func);\n  }\n\n  public post(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'POST', func);\n  }\n\n  public put(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'PUT', func);\n  }\n\n  public async route(event): Promise<{ statusCode: number; body: string }> {\n    console.log(this.route_table);\n    if (!event.requestContext) {\n      return { statusCode: 407, body: 'ROUTE - expected requestContext' };\n    }\n\n    const path = event.requestContext.resourcePath;\n    const method = event.requestContext.httpMethod;\n\n    if (!this.route_table[path] || !this.route_table[path][method]) {\n      return {\n        statusCode: 405,\n        body: 'ROUTE - Invalid route: ' + path + method,\n      };\n    }\n\n    // calls the function assigned based on the path and method\n    return this.route_table[event.requestContext.resourcePath][\n      event.requestContext.httpMethod\n    ](event);\n  }\n\n  public async routeThrowError(\n    event\n  ): Promise<{ statusCode: number; body: string }> {\n    console.log(this.route_table);\n    let msg = '';\n    if (!event.requestContext) {\n      msg = 'ROUTE - expected requestContext';\n      errorGenerator({ statusCode: 406, message: msg });\n    }\n\n    const path = event.requestContext.resourcePath;\n    const method = event.requestContext.httpMethod;\n\n    if (!this.route_table[path] || !this.route_table[path][method]) {\n      msg = 'ROUTE - Invalid route: ' + path + method;\n    }\n    if (msg != '') errorGenerator({ statusCode: 405, message: msg });\n\n    // calls the function assigned based on the path and method\n    return this.route_table[event.requestContext.resourcePath][\n      event.requestContext.httpMethod\n    ](event);\n  }\n\n  private addRoute(resourcePath: string, httpMethod: string, func: handler) {\n    if (!this.route_table[resourcePath]) {\n      this.route_table[resourcePath] = {};\n    }\n\n    this.route_table[resourcePath][httpMethod] = func;\n  }\n}\n\nexport class NetworkError extends Error {\n  statusCode: number;\n\n  constructor(msg: string) {\n    super(msg);\n  }\n}\n\nexport class NotFoundError extends NetworkError {\n  statusCode = 404;\n}\n\nexport class BadRequest extends NetworkError {\n  statusCode = 400;\n}\n\nclass NetworkConnectTimeoutError extends NetworkError {\n  statusCode = 599;\n}\n\nclass FailedDependencyError extends NetworkError {\n  statusCode = 424;\n}\n\nexport const SQLConnectionManager = new SQLManager();\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/database/mock/data.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/database/mock/data.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":109}},"2":{"start":{"line":5,"column":0},"end":{"line":40,"column":2}},"3":{"start":{"line":41,"column":0},"end":{"line":109,"column":2}},"4":{"start":{"line":110,"column":0},"end":{"line":172,"column":2}},"5":{"start":{"line":173,"column":0},"end":{"line":272,"column":2}},"6":{"start":{"line":273,"column":0},"end":{"line":589,"column":2}},"7":{"start":{"line":590,"column":0},"end":{"line":831,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"data.js","sourceRoot":"","sources":["../../../../src/database/mock/data.ts"],"names":[],"mappings":"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","sourcesContent":["// be/src/database/mock/data.ts\n\nexport const user = {\n  admin: [\n    {\n      id: 1,\n      first_name: 'admin1',\n      last_name: 'admin',\n      email: 'admin1@gmail.com',\n    },\n    {\n      id: 2,\n      first_name: 'admin2',\n      last_name: 'admin',\n      email: 'admin2@gmail.com',\n    },\n  ],\n  users: [\n    {\n      id: 1,\n      first_name: 'Billy',\n      last_name: 'Bob',\n      email: 'billybob@gmail.com',\n    },\n    {\n      id: 2,\n      first_name: 'James',\n      last_name: 'Johnson',\n      email: 'jamesjohnson@gmail.com',\n    },\n    {\n      id: 3,\n      first_name: 'David',\n      last_name: 'Dirk',\n      email: 'daviddirk@gmail.com',\n    },\n  ],\n};\n\nexport const buyer = [\n  {\n    address: '5959 Students Union Blvd, Vancouver, BC, V6T 1K2',\n    orders: [\n      {\n        id: 5,\n        status: 'delievered',\n        products: [\n          {\n            id: 1,\n            product_uri: '/products/1',\n            name: 'Crayola 52-0096 96 Crayons, School and Craft Supplies, Gift for Boys and Girls, Kids, Ages 3,4, 5, 6 and Up, Back to school, School supplies, Arts and Crafts, Gifting',\n            price: 5.87,\n            description:\n              'Classic Crayola crayons True hues and intense brightness in a huge variety of colors Kids art tools are double wrapped for extra strength includes 96 different crayon colors and built-in sharpener Perfect art tool for arts, crafts and creative fun.',\n            img: [\n              'https://m.media-amazon.com/images/I/714VaWknZsL._AC_SL1500_.jpg',\n            ],\n            quantity: 1,\n            shipping_status: 'delivered',\n          },\n          {\n            id: 2,\n            product_uri: '/products/2',\n            name: 'Command Medium Picture Hanging Strips Value Pack, 12 Pairs, White - 17204-EF',\n            price: 11.77,\n            description:\n              'Command picture hanging strips make decorating quick and easy. One click tells you Command picture hanging strips are locked in and holding tight. Best of all, when you are ready to take down or move your pictures, they come off leaving no wall damage, cracked plaster or sticky residue. Command picture hanging strips come in three sizes: small strips hold most 8 in x 10 in (20.32 cm x 25.4 cm) frames, medium strips hold most 18 in x 24 in (45.7 cm x 60.96 cm) frames and large strips hold most 24 in x 36 in (60.96 cm x 91.44 cm) frames. Also available are Command frame stabilizer strips which keep picture frames level even if hung by nails.',\n            img: [\n              'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n            ],\n            quantity: 1,\n            shipping_status: 'delivered',\n          },\n        ],\n        created_at: '2022-02-18',\n      },\n      {\n        id: 6,\n        status: 'shipped',\n        products: [\n          {\n            id: 3,\n            product_uri: '/products/3',\n            name: \"Elmer's 60509q Extra Strength Office Glue Stick, 8g (0.28 Oz.) Each, 3-pack\",\n            price: 3.88,\n            description:\n              \"Elmer's Products, Inc. is a company rich in history and tradition. Since the 1940's the Elmer's family of products has developed to meet the ever-changing needs of consumers. They range from a full line of adhesives, arts, crafts, and educational products for children to a complete offering of craft, hobby, office, and home repair products for adults.\",\n            img: [\n              'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n            ],\n            quantity: 1,\n            shipping_status: 'shipped',\n          },\n          {\n            id: 4,\n            product_uri: '/products/4',\n            name: 'Gorilla Fabric Glue, 100% Waterproof, No Sew Solution, Washer/Dryer Safe, Permanent Bond, 2.5fl oz/73ml, Clear, (1-Pack), 8215402',\n            price: 9.97,\n            description:\n              'Gorilla Fabric Glue is a 100% waterproof, no sew solution for hems, embellishments, trim and more! Formulated to bond fabric, and hard-to-hold embellishments, Gorilla Fabric Glue provides a fast setting, permanent bond that remains flexible after washing.',\n            img: [\n              'https://m.media-amazon.com/images/I/71CyAeNlR7L._AC_SL1500_.jpg',\n            ],\n            quantity: 1,\n            shipping_status: 'shipped',\n          },\n        ],\n        created_at: '2022-02-11',\n      },\n    ],\n  },\n];\n\nexport const seller = [\n  // this is for summary page for seller. more detailed info for each product will be provided in each product page\n  {\n    products: [\n      {\n        product_uri: '/products/1',\n        id: 1,\n        name: 'Crayola 52-0096 96 Crayons, School and Craft Supplies, Gift for Boys and Girls, Kids, Ages 3,4, 5, 6 and Up, Back to school, School supplies, Arts and Crafts, Gifting',\n        price: 5.87,\n        discount: 37,\n        description:\n          'Classic Crayola crayons True hues and intense brightness in a huge variety of colors Kids art tools are double wrapped for extra strength includes 96 different crayon colors and built-in sharpener Perfect art tool for arts, crafts and creative fun.',\n        status: 'instock',\n        address: 'Vancouver, BC, V6S 0G8, CA',\n        img: 'https://m.media-amazon.com/images/I/71CyAeNlR7L._AC_SL1500_.jpg',\n        category_id: 1,\n        total_quantity: 10,\n        sold: 1,\n      },\n      {\n        product_uri: '/products/2',\n        id: 2,\n        name: 'Command Medium Picture Hanging Strips Value Pack, 12 Pairs, White - 17204-EF',\n        price: 11.77,\n        discount: 0, // %\n        description:\n          'Command picture hanging strips make decorating quick and easy. One click tells you Command picture hanging strips are locked in and holding tight. Best of all, when you are ready to take down or move your pictures, they come off leaving no wall damage, cracked plaster or sticky residue. Command picture hanging strips come in three sizes: small strips hold most 8 in x 10 in (20.32 cm x 25.4 cm) frames, medium strips hold most 18 in x 24 in (45.7 cm x 60.96 cm) frames and large strips hold most 24 in x 36 in (60.96 cm x 91.44 cm) frames. Also available are Command frame stabilizer strips which keep picture frames level even if hung by nails.',\n        status: 'instock', // preset (outstock, instock)\n        address: 'Vancouver, BC, V6S 0G8, CA',\n        category_id: 1,\n        img: 'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n        total_quantity: 100,\n        sold: 5,\n      },\n      {\n        product_uri: '/products/3',\n        id: 3,\n        name: \"Elmer's 60509q Extra Strength Office Glue Stick, 8g (0.28 Oz.) Each, 3-pack\",\n        price: 3.88,\n        discount: 0, // %\n        description:\n          \"Elmer's Products, Inc. is a company rich in history and tradition. Since the 1940's the Elmer's family of products has developed to meet the ever-changing needs of consumers. They range from a full line of adhesives, arts, crafts, and educational products for children to a complete offering of craft, hobby, office, and home repair products for adults.\",\n        status: 'instock', // preset (outstock, instock)\n        address: 'Vancouver, BC, V6S 0G8, CA',\n        category_id: 1,\n        img: 'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n        total_quantity: 70,\n        sold: 1,\n      },\n      {\n        product_uri: '/products/4',\n        id: 4,\n        name: 'Gorilla Fabric Glue, 100% Waterproof, No Sew Solution, Washer/Dryer Safe, Permanent Bond, 2.5fl oz/73ml, Clear, (1-Pack), 8215402',\n        price: 9.97,\n        discount: 0, // %\n        description:\n          'Gorilla Fabric Glue is a 100% waterproof, no sew solution for hems, embellishments, trim and more! Formulated to bond fabric, and hard-to-hold embellishments, Gorilla Fabric Glue provides a fast setting, permanent bond that remains flexible after washing.',\n        status: 'instock', // preset (outstock, instock)\n        address: 'Vancouver, BC, V6S 0G8, CA',\n        category_id: 1,\n        img: 'https://m.media-amazon.com/images/I/71CyAeNlR7L._AC_SL1500_.jpg',\n        total_quantity: 70,\n        sold: 1,\n      },\n    ],\n  },\n];\n\nexport const orders = [\n  {\n    id: 1,\n    status: 'in progress',\n    products: [\n      {\n        id: 6,\n        product_uri: 'products/6',\n        name: 'Harry Potter Series 1',\n        price: 25.55,\n        description:\n          \"Harry Potter has never even heard of Hogwarts when the letters start dropping on the doormat at number four, Privet Drive. Addressed in green ink on yellowish parchment with a purple seal, they are swiftly confiscated by his grisly aunt and uncle. Then, on Harry's eleventh birthday, a great beetle-eyed giant of a man called Rubeus Hagrid bursts\",\n        img: 'https://www.amazon.ca/Harry-Potter-Philosophers-Stone-Rowling/dp/1408855895?asin=1408855895&revisionId=&format=4&depth=1',\n        quantity: 1,\n        shipping_status: 'shipped',\n      },\n      {\n        id: 7,\n        product_uri: 'products/7',\n        name: 'Echo Dot (3rd gen) - Smart speaker with Alexa - Charcoal',\n        price: 34.5,\n        description:\n          'Meet Echo Dot - Our most popular smart speaker with a fabric design. It is our most compact smart speaker that fits perfectly into small spaces.Improved speaker quality - Better speaker quality than Echo Dot Gen 2 for richer and louder sound. Pair with a second Echo Dot for stereo sound.',\n        img: 'https://m.media-amazon.com/images/I/61RNVt9kXUL._AC_SL1000_.jpg',\n        quantity: 2,\n        shipping_status: 'prepared',\n      },\n    ],\n    created_at: '2023/02/10',\n  },\n  {\n    id: 2,\n    status: 'ordered',\n    products: [\n      {\n        id: 9,\n        product_uri: 'products/9',\n        name: 'Simple Modern Insulated Thermos Travel Coffee Mug with Snap Flip Lid',\n        price: 19.99,\n        description:\n          'The Kona is a stainless steel thermos thats ideal for hot drinks like coffee and tea, with a wide opening that makes refills easyThe BPA-free twist-on lid has a lockable, push-button cover that snaps closed to prevent leaks and spills and locks the lid back when open for easy drinking; Patent Pending',\n        img: 'https://m.media-amazon.com/images/I/61kfV3CAb0L._AC_SL1300_.jpg',\n        quantity: '1',\n        shipping_status: 'in progress',\n      },\n      {\n        id: 10,\n        product_uri: 'products/10',\n        name: \"DREAM PAIRS Women's Dress Shoes\",\n        price: 54.99,\n        description:\n          'Thermoplastic Elastomers soleSlip-on design: Elastic side goring design to fits the foot shape, easy-on-and-off low heels shoes with light PU sole ensure a secured walking',\n        img: 'https://m.media-amazon.com/images/I/71aVGFCvqQL._AC_UY695_.jpg',\n        quantity: 1,\n        shipping_status: 'shipped',\n      },\n    ],\n    created_at: '2023/02/11',\n  },\n  {\n    id: 3,\n    status: 'delivered',\n    products: [\n      {\n        id: 8,\n        product_uri: 'products/8',\n        name: 'Kindle Paperwhite (8 GB)  Now with a 6.8 display and adjustable warm light',\n        price: 119.99,\n        description:\n          'Kindle Paperwhite  Now with a 6.8 display and thinner borders, adjustable warm light, up to 10 weeks of battery life, and 20% faster page turns.',\n        img: 'https://m.media-amazon.com/images/I/61PHZfkhxIL._AC_SL1000_.jpg',\n        quantity: 2,\n        shipping_status: 'shipped',\n      },\n    ],\n    created_at: '2023/02/08',\n  },\n  {\n    id: 4,\n    status: 'delivered',\n    products: [\n      {\n        id: 11,\n        product_uri: 'products/11',\n        name: 'Vancle Bands Compatible with Fitbit Charge 4 / Charge 3 / Charge 3 SE Bands',\n        price: 8.99,\n        description:\n          'Premium Material: Made of flexible elastomer, sweat resistant & water resistant. Feels lightweight and soft, brings a comfortable wearing experience when you exercise, sleep etc.Buckle Design: Special design buckle are the same color as the fitbit charge 3 band, which is personalize to match your mood and outfit in daily life. Easy to install and resize, Double keep your band precisely and securely',\n        img: 'https://m.media-amazon.com/images/I/61wRFlu38SL._AC_SL1500_.jpg',\n        quantity: 1,\n        shipping_status: 'delivered',\n      },\n      {\n        id: 12,\n        product_uri: 'products/12',\n        name: 'MoKo Case for 6.8. Kindle Paperwhite (11th Generation-2021) and Kindle Paperwhite Signature Edition',\n        price: 21.99,\n        description:\n          'Designed exclusively for 6.8 Amazon All-New Kindle Paperwhite and Kindle Paperwhite Signature Edition E-Reader (11th Generation - 2021/2022/2023 Release). Not fit other prior generation Kindle devices.Automatically wakes or puts your device to sleep when the lid is opened and closed.',\n        img: 'https://m.media-amazon.com/images/I/71BBkBcrlfL._AC_SL1500_.jpg',\n        quantity: 2,\n        shipping_status: 'delivered',\n      },\n    ],\n    created_at: '2023/02/01',\n  },\n];\n\nexport const product = [\n  {\n    id: 1,\n    seller_id: 1,\n    name: 'Crayola 52-0096 96 Crayons, School and Craft Supplies, Gift for Boys and Girls, Kids, Ages 3,4, 5, 6 and Up, Back to school, School supplies, Arts and Crafts, Gifting',\n    price: 5.87,\n    discount: 37, // %\n    description:\n      'Classic Crayola crayons True hues and intense brightness in a huge variety of colors Kids art tools are double wrapped for extra strength includes 96 different crayon colors and built-in sharpener Perfect art tool for arts, crafts and creative fun.',\n    total_quantity: 10,\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    shipping_constraint: [\n      {\n        region: 'BC',\n        distance: 14.3, // float (km based)\n      },\n    ],\n    img: 'https://m.media-amazon.com/images/I/714VaWknZsL._AC_SL1500_.jpg',\n    category_id: 1,\n  },\n  {\n    id: 2,\n    seller_id: 1,\n    name: 'Command Medium Picture Hanging Strips Value Pack, 12 Pairs, White - 17204-EF',\n    price: 11.77,\n    discount: 0, // %\n    description:\n      'Command picture hanging strips make decorating quick and easy. One click tells you Command picture hanging strips are locked in and holding tight. Best of all, when you are ready to take down or move your pictures, they come off leaving no wall damage, cracked plaster or sticky residue. Command picture hanging strips come in three sizes: small strips hold most 8 in x 10 in (20.32 cm x 25.4 cm) frames, medium strips hold most 18 in x 24 in (45.7 cm x 60.96 cm) frames and large strips hold most 24 in x 36 in (60.96 cm x 91.44 cm) frames. Also available are Command frame stabilizer strips which keep picture frames level even if hung by nails.',\n    total_quantity: 100,\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    shipping_constraint: [\n      {\n        region: 'BC',\n        distance: 10.0, // float (km based)\n      },\n    ],\n    img: 'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n    category_id: 1,\n  },\n  {\n    id: 3,\n    seller_id: 1,\n    name: \"Elmer's 60509q Extra Strength Office Glue Stick, 8g (0.28 Oz.) Each, 3-pack\",\n    price: 3.88,\n    discount: 0, // %\n    description:\n      \"Elmer's Products, Inc. is a company rich in history and tradition. Since the 1940's the Elmer's family of products has developed to meet the ever-changing needs of consumers. They range from a full line of adhesives, arts, crafts, and educational products for children to a complete offering of craft, hobby, office, and home repair products for adults.\",\n    total_quantity: 70,\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    shipping_constraint: [\n      {\n        region: 'BC',\n        distance: 10.0, // float (km based)\n      },\n    ],\n    img: 'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n    category_id: 1,\n  },\n  {\n    id: 4,\n    seller_id: 1,\n    name: 'Gorilla Fabric Glue, 100% Waterproof, No Sew Solution, Washer/Dryer Safe, Permanent Bond, 2.5fl oz/73ml, Clear, (1-Pack), 8215402',\n    price: 9.97,\n    discount: 0, // %\n    description:\n      'Gorilla Fabric Glue is a 100% waterproof, no sew solution for hems, embellishments, trim and more! Formulated to bond fabric, and hard-to-hold embellishments, Gorilla Fabric Glue provides a fast setting, permanent bond that remains flexible after washing.',\n    total_quantity: 70,\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    shipping_constraint: {\n      region: 'BC',\n      distance: 10.0, // float (km based)\n    },\n    img: 'https://m.media-amazon.com/images/I/71CyAeNlR7L._AC_SL1500_.jpg',\n    category_id: 1,\n  },\n  {\n    id: 5,\n    seller_id: 2,\n    name: 'Bissell Little Green Proheat Portable Deep Cleaner/Spot Cleaner with self-Cleaning HydroRinse Tool for Carpet and Upholstery 2513B',\n    price: 149.97,\n    discount: 0, // %\n    description:\n      \"No need to pull out a full-size carpet cleaning Machine every time a stain or spot appear on your carpet. With Bissell little green ProHeat, you can remove tough spots and stains when used with Bissell spot & stain + Oxy. It's a powerful compact cleaning Machine. Built-in heatwave technology maintains consistent water temperature while cleaning for heated cleaning.\",\n    total_quantity: 40,\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    shipping_constraint: {\n      region: 'BC',\n      distance: 20.0, // float (km based)\n    },\n    img: 'https://m.media-amazon.com/images/I/91zBUhFKfWL._AC_SL1500_.jpg',\n    category_id: 1,\n  },\n  {\n    id: 6,\n    seller_id: 1,\n    name: 'Harry Potter Series 1',\n    price: 25.55,\n    description:\n      \"Harry Potter has never even heard of Hogwarts when the letters start dropping on the doormat at number four, Privet Drive. Addressed in green ink on yellowish parchment with a purple seal, they are swiftly confiscated by his grisly aunt and uncle. Then, on Harry's eleventh birthday, a great beetle-eyed giant of a man called Rubeus Hagrid bursts\",\n    status: 'in stock',\n    discount: 10.5,\n    total_quantity: 1,\n    address: 'Fremont, California 94536,US',\n    expected_delivery_date: '2023/02/16',\n    shipping_constraint: {\n      region: 'BC',\n    },\n    img: 'https://m.media-amazon.com/images/I/61RNVt9kXUL._AC_SL1000_.jpg',\n    category_id: 2,\n  },\n  {\n    id: 7,\n    seller_id: 2,\n    name: 'Echo Dot (3rd gen) - Smart speaker with Alexa - Charcoal',\n    price: 34.5,\n    discount: 5.99,\n    description:\n      'Meet Echo Dot - Our most popular smart speaker with a fabric design. It is our most compact smart speaker that fits perfectly into small spaces.Improved speaker quality - Better speaker quality than Echo Dot Gen 2 for richer and louder sound. Pair with a second Echo Dot for stereo sound.',\n    total_quantity: 1,\n    status: 'in stock',\n    address: 'Seattle, WA 98109, USA',\n    expected_delivery_date: '2023/02/19',\n    shipping_constraint: {\n      region: 'BC',\n      distance: 10,\n    },\n    img: 'https://m.media-amazon.com/images/I/61RNVt9kXUL._AC_SL1000_.jpg',\n    category_id: 2,\n  },\n  {\n    id: 8,\n    seller_id: 3,\n    name: 'Kindle Paperwhite (8 GB)  Now with a 6.8 display and adjustable warm light',\n    price: 119.99,\n    discount: 10,\n    description:\n      'Kindle Paperwhite  Now with a 6.8 display and thinner borders, adjustable warm light, up to 10 weeks of battery life, and 20% faster page turns.',\n    total_quantity: 1,\n    status: 'low in stock',\n    address: 'Seattle, WA 98109, USA',\n    expected_delivery_date: '2023/02/11',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    img: 'https://m.media-amazon.com/images/I/61PHZfkhxIL._AC_SL1000_.jpg',\n    category_id: 2,\n  },\n  {\n    id: 9,\n    seller_id: 101,\n    name: 'Laptop - HP Pavilion',\n    price: 899.99,\n    promoting: true,\n    description:\n      'The HP Pavilion Laptop packs more performance into a smaller profile, so you can get more done wherever you go. Enjoy mind-blowing entertainment with a micro-edge screen and Audio by B&O.',\n    address: '123 Main St., Anytown, USA',\n    status: 'available',\n    img: 'https://ssl-product-images.www8-hp.com/digmedialib/prodimg/lowres/c07963197.png',\n    created_at: '2022-02-01 10:00:00',\n    updated_at: '2022-02-01 10:00:00',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    total_quantity: 50,\n    category_id: 1,\n  },\n  {\n    id: 10,\n    seller_id: 102,\n    name: 'Smartphone - Samsung Galaxy S22',\n    price: 1099.99,\n    promoting: false,\n    description:\n      'The Samsung Galaxy S22 is the ultimate smartphone, featuring a 6.4-inch Dynamic AMOLED 2X display, 5G connectivity, and a 64MP camera.',\n    address: '456 Oak St., Anytown, USA',\n    status: 'available',\n    img: 'https://img.global.news.samsung.com/ca/wp-content/uploads/2022/02/Galaxy_S22_Ultra_PR_main1F.jpg',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-02 11:00:00',\n    updated_at: '2022-02-03 10:00:00',\n    total_quantity: 100,\n    category_id: 2,\n  },\n\n  {\n    id: 11,\n    seller_id: 103,\n    name: 'Headphones - Bose QuietComfort 35 II',\n    price: 329.99,\n    promoting: false,\n    description:\n      'The Bose QuietComfort 35 II headphones offer world-class noise cancellation and premium sound quality, with up to 20 hours of battery life.',\n    address: '789 Elm St., Anytown, USA',\n    status: 'available',\n    img: 'https://assets.bose.com/content/dam/cloudassets/Bose_DAM/Web/consumer_electronics/global/products/headphones/qc35_ii/product_silo_images/qc35_ii_black_EC_hero.PNG/jcr:content/renditions/cq5dam.web.1280.1280.png',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-03 12:00:00',\n    updated_at: '2022-02-03 13:00:00',\n    total_quantity: 25,\n    category_id: 3,\n  },\n\n  {\n    id: 12,\n    seller_id: 104,\n    name: 'TV - LG OLED C1',\n    price: 1899.99,\n    promoting: true,\n    description:\n      'The LG OLED C1 TV offers stunning picture quality and immersive sound, with features like Dolby Vision IQ and Filmmaker Mode.',\n    address: '101 Main St., Anytown, USA',\n    status: 'available',\n    img: 'https://www.lg.com/ca_en/images/tvs/md07526856/gallery/D-01.jpg',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-04 14:00:00',\n    updated_at: '2022-02-04 14:00:00',\n    total_quantity: 20,\n    category_id: 4,\n  },\n  {\n    id: 13,\n    seller_id: 123,\n    name: 'Organic Avocado',\n    price: 1.99,\n    promoting: true,\n    description: 'Freshly picked organic avocado from a local farm.',\n    address: '123 Main St, Anytown USA',\n    status: 'available',\n    img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Avocado_Hass_-_single_and_halved.jpg/640px-Avocado_Hass_-_single_and_halved.jpg',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-01T10:00:00',\n    updated_at: '2022-02-10T12:00:00',\n    total_quantity: 100,\n    category_id: 5,\n  },\n  {\n    id: 14,\n    seller_id: 234,\n    name: 'Grass-fed Beef',\n    price: 9.99,\n    promoting: false,\n    description: 'Tender and juicy beef from free-range, grass-fed cows.',\n    address: '456 Elm St, Anytown USA',\n    status: 'available',\n    img: 'https://cdn.britannica.com/68/143268-050-917048EA/Beef-loin.jpg',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-02T09:00:00',\n    updated_at: '2022-02-11T14:00:00',\n    total_quantity: 50,\n    category_id: 3,\n  },\n  {\n    id: 15,\n    seller_id: 345,\n    name: 'Organic Strawberries',\n    price: 3.49,\n    promoting: true,\n    description:\n      'Sweet and juicy organic strawberries, hand-picked from the farm.',\n    address: '789 Oak St, Anytown USA',\n    status: 'available',\n    img: 'https://zestfulkitchen.com/wp-content/uploads/2019/06/storing-strawberries-cover-736x809.jpg',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-03T08:00:00',\n    updated_at: '2022-02-12T11:00:00',\n    total_quantity: 200,\n    category_id: 5,\n  },\n  {\n    id: 16,\n    seller_id: 456,\n    name: 'Free-range Chicken Eggs',\n    price: 2.99,\n    promoting: false,\n    description: 'Fresh eggs from free-range chickens, perfect for breakfast.',\n    address: '321 Maple St, Anytown USA',\n    status: 'available',\n    img: 'https://as2.ftcdn.net/v2/jpg/03/06/99/29/1000_F_306992966_T7l06iY9fN1YwNpGhLKjuwd0ZjBW3HUM.jpg',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-04T07:00:00',\n    updated_at: '2022-02-13T10:00:00',\n    total_quantity: 150,\n    category_id: 2,\n  },\n  {\n    id: 17,\n    seller_id: 567,\n    name: 'Wild-caught Salmon',\n    price: 12.99,\n    promoting: true,\n    description: 'Fresh wild-caught salmon, packed with omega-3 fatty acids.',\n    address: '654 Pine St, Anytown USA',\n    status: 'available',\n    img: 'https://images.squarespace-cdn.com/content/v1/588b94cbd2b85799b9969da3/1591202977502-ILYA3R661CZPPI2T21AK/HH+fish.jpg?format=1000w',\n    shipping_constraint: {\n      region: 'Canada',\n      distance: 10,\n    },\n    created_at: '2022-02-05T06:00:00',\n    updated_at: '2022-02-14T09:00:00',\n    total_quantity: 75,\n    category_id: 1,\n  },\n];\n\nexport const products = [\n  {\n    product_uri: '/products/1',\n    id: 1,\n    name: 'Crayola 52-0096 96 Crayons, School and Craft Supplies, Gift for Boys and Girls, Kids, Ages 3,4, 5, 6 and Up, Back to school, School supplies, Arts and Crafts, Gifting',\n    price: 5.87,\n    discount: 37,\n    description:\n      'Classic Crayola crayons True hues and intense brightness in a huge variety of colors Kids art tools are double wrapped for extra strength includes 96 different crayon colors and built-in sharpener Perfect art tool for arts, crafts and creative fun.',\n    status: 'instock',\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    img: 'https://m.media-amazon.com/images/I/71CyAeNlR7L._AC_SL1500_.jpg',\n    category_id: 1,\n    total_quantity: 10,\n  },\n  {\n    product_uri: 'products/2',\n    id: 2,\n    seller_id: 1,\n    name: 'Command Medium Picture Hanging Strips Value Pack, 12 Pairs, White - 17204-EF',\n    price: 11.77,\n    discount: 0, // %\n    description:\n      'Command picture hanging strips make decorating quick and easy. One click tells you Command picture hanging strips are locked in and holding tight. Best of all, when you are ready to take down or move your pictures, they come off leaving no wall damage, cracked plaster or sticky residue. Command picture hanging strips come in three sizes: small strips hold most 8 in x 10 in (20.32 cm x 25.4 cm) frames, medium strips hold most 18 in x 24 in (45.7 cm x 60.96 cm) frames and large strips hold most 24 in x 36 in (60.96 cm x 91.44 cm) frames. Also available are Command frame stabilizer strips which keep picture frames level even if hung by nails.',\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    category_id: 1,\n    img: 'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n    total_quantity: 100,\n  },\n  {\n    product_uri: 'products/3',\n    id: 3,\n    seller_id: 1,\n    name: \"Elmer's 60509q Extra Strength Office Glue Stick, 8g (0.28 Oz.) Each, 3-pack\",\n    price: 3.88,\n    discount: 0, // %\n    description:\n      \"Elmer's Products, Inc. is a company rich in history and tradition. Since the 1940's the Elmer's family of products has developed to meet the ever-changing needs of consumers. They range from a full line of adhesives, arts, crafts, and educational products for children to a complete offering of craft, hobby, office, and home repair products for adults.\",\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    category_id: 1,\n    img: 'https://m.media-amazon.com/images/I/71qv4dZZgIL._AC_SL1500_.jpg',\n    total_quantity: 70,\n  },\n  {\n    product_uri: 'products/4',\n    id: 4,\n    seller_id: 1,\n    name: 'Gorilla Fabric Glue, 100% Waterproof, No Sew Solution, Washer/Dryer Safe, Permanent Bond, 2.5fl oz/73ml, Clear, (1-Pack), 8215402',\n    price: 9.97,\n    discount: 0, // %\n    description:\n      'Gorilla Fabric Glue is a 100% waterproof, no sew solution for hems, embellishments, trim and more! Formulated to bond fabric, and hard-to-hold embellishments, Gorilla Fabric Glue provides a fast setting, permanent bond that remains flexible after washing.',\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    category_id: 1,\n    img: 'https://m.media-amazon.com/images/I/71CyAeNlR7L._AC_SL1500_.jpg',\n    total_quantity: 70,\n  },\n  {\n    product_uri: 'products/5',\n    id: 5,\n    seller_id: 2,\n    name: 'Bissell Little Green Proheat Portable Deep Cleaner/Spot Cleaner with self-Cleaning HydroRinse Tool for Carpet and Upholstery 2513B',\n    price: 149.97,\n    discount: 0, // %\n    description:\n      \"No need to pull out a full-size carpet cleaning Machine every time a stain or spot appear on your carpet. With Bissell little green ProHeat, you can remove tough spots and stains when used with Bissell spot & stain + Oxy. It's a powerful compact cleaning Machine. Built-in heatwave technology maintains consistent water temperature while cleaning for heated cleaning.\",\n    total_quantity: 40,\n    status: 'instock', // preset (outstock, instock)\n    address: 'Vancouver, BC, V6S 0G8, CA',\n    img: 'https://m.media-amazon.com/images/I/91zBUhFKfWL._AC_SL1500_.jpg',\n    category_id: 1,\n  },\n  {\n    product_uri: 'products/6',\n    id: 6,\n    seller_id: 1,\n    name: 'Harry Potter Series 1',\n    price: 25.55,\n    description:\n      \"Harry Potter has never even heard of Hogwarts when the letters start dropping on the doormat at number four, Privet Drive. Addressed in green ink on yellowish parchment with a purple seal, they are swiftly confiscated by his grisly aunt and uncle. Then, on Harry's eleventh birthday, a great beetle-eyed giant of a man called Rubeus Hagrid bursts\",\n    status: 'in stock',\n    discount: 10.5,\n    total_quantity: 1,\n    address: 'Fremont, California 94536,US',\n    expected_delivery_date: '2023/02/16',\n    img: 'https://m.media-amazon.com/images/I/61RNVt9kXUL._AC_SL1000_.jpg',\n    category_id: 2,\n  },\n  {\n    product_uri: 'products/7',\n    id: 7,\n    seller_id: 2,\n    name: 'Echo Dot (3rd gen) - Smart speaker with Alexa - Charcoal',\n    price: 34.5,\n    discount: 5.99,\n    description:\n      'Meet Echo Dot - Our most popular smart speaker with a fabric design. It is our most compact smart speaker that fits perfectly into small spaces.Improved speaker quality - Better speaker quality than Echo Dot Gen 2 for richer and louder sound. Pair with a second Echo Dot for stereo sound.',\n    total_quantity: 1,\n    status: 'in stock',\n    address: 'Seattle, WA 98109, USA',\n    expected_delivery_date: '2023/02/19',\n    img: 'https://m.media-amazon.com/images/I/61RNVt9kXUL._AC_SL1000_.jpg',\n    category_id: 2,\n  },\n  {\n    product_uri: 'products/8',\n    id: 8,\n    seller_id: 3,\n    name: 'Kindle Paperwhite (8 GB)  Now with a 6.8 display and adjustable warm light',\n    price: 119.99,\n    discount: 10,\n    description:\n      'Kindle Paperwhite  Now with a 6.8 display and thinner borders, adjustable warm light, up to 10 weeks of battery life, and 20% faster page turns.',\n    total_quantity: 1,\n    status: 'low in stock',\n    address: 'Seattle, WA 98109, USA',\n    expected_delivery_date: '2023/02/11',\n    img: 'https://m.media-amazon.com/images/I/61PHZfkhxIL._AC_SL1000_.jpg',\n    category_id: 2,\n  },\n  {\n    product_uri: 'products/9',\n    id: 9,\n    seller_id: 101,\n    name: 'Laptop - HP Pavilion',\n    price: 899.99,\n    promoting: true,\n    description:\n      'The HP Pavilion Laptop packs more performance into a smaller profile, so you can get more done wherever you go. Enjoy mind-blowing entertainment with a micro-edge screen and Audio by B&O.',\n    address: '123 Main St., Anytown, USA',\n    status: 'available',\n    img: 'https://ssl-product-images.www8-hp.com/digmedialib/prodimg/lowres/c07963197.png',\n    total_quantity: 50,\n    category_id: 1,\n  },\n  {\n    product_uri: 'products/10',\n    id: 10,\n    seller_id: 102,\n    name: 'Smartphone - Samsung Galaxy S22',\n    price: 1099.99,\n    promoting: false,\n    description:\n      'The Samsung Galaxy S22 is the ultimate smartphone, featuring a 6.4-inch Dynamic AMOLED 2X display, 5G connectivity, and a 64MP camera.',\n    address: '456 Oak St., Anytown, USA',\n    status: 'available',\n    img: 'https://img.global.news.samsung.com/ca/wp-content/uploads/2022/02/Galaxy_S22_Ultra_PR_main1F.jpg',\n    total_quantity: 100,\n    category_id: 2,\n  },\n  {\n    product_uri: 'products/11',\n    id: 11,\n    seller_id: 103,\n    name: 'Headphones - Bose QuietComfort 35 II',\n    price: 329.99,\n    promoting: false,\n    description:\n      'The Bose QuietComfort 35 II headphones offer world-class noise cancellation and premium sound quality, with up to 20 hours of battery life.',\n    address: '789 Elm St., Anytown, USA',\n    status: 'available',\n    img: 'https://assets.bose.com/content/dam/cloudassets/Bose_DAM/Web/consumer_electronics/global/products/headphones/qc35_ii/product_silo_images/qc35_ii_black_EC_hero.PNG/jcr:content/renditions/cq5dam.web.1280.1280.png',\n    total_quantity: 25,\n    category_id: 3,\n  },\n  {\n    product_uri: 'products/12',\n    id: 12,\n    seller_id: 104,\n    name: 'TV - LG OLED C1',\n    price: 1899.99,\n    promoting: true,\n    description:\n      'The LG OLED C1 TV offers stunning picture quality and immersive sound, with features like Dolby Vision IQ and Filmmaker Mode.',\n    address: '101 Main St., Anytown, USA',\n    status: 'available',\n    img: 'https://www.lg.com/ca_en/images/tvs/md07526856/gallery/D-01.jpg',\n    total_quantity: 20,\n    category_id: 4,\n  },\n  {\n    product_uri: 'products/13',\n    id: 13,\n    seller_id: 123,\n    name: 'Organic Avocado',\n    price: 1.99,\n    promoting: true,\n    description: 'Freshly picked organic avocado from a local farm.',\n    address: '123 Main St, Anytown USA',\n    status: 'available',\n    img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Avocado_Hass_-_single_and_halved.jpg/640px-Avocado_Hass_-_single_and_halved.jpg',\n    total_quantity: 100,\n    category_id: 5,\n  },\n  {\n    product_uri: 'products/14',\n    id: 14,\n    seller_id: 234,\n    name: 'Grass-fed Beef',\n    price: 9.99,\n    promoting: false,\n    description: 'Tender and juicy beef from free-range, grass-fed cows.',\n    address: '456 Elm St, Anytown USA',\n    status: 'available',\n    img: 'https://cdn.britannica.com/68/143268-050-917048EA/Beef-loin.jpg',\n    total_quantity: 50,\n    category_id: 3,\n  },\n  {\n    product_uri: 'products/15',\n    id: 15,\n    seller_id: 345,\n    name: 'Organic Strawberries',\n    price: 3.49,\n    promoting: true,\n    description:\n      'Sweet and juicy organic strawberries, hand-picked from the farm.',\n    address: '789 Oak St, Anytown USA',\n    status: 'available',\n    img: 'https://zestfulkitchen.com/wp-content/uploads/2019/06/storing-strawberries-cover-736x809.jpg',\n    total_quantity: 200,\n    category_id: 5,\n  },\n  {\n    product_uri: 'products/16',\n    id: 16,\n    seller_id: 456,\n    name: 'Free-range Chicken Eggs',\n    price: 2.99,\n    promoting: false,\n    description: 'Fresh eggs from free-range chickens, perfect for breakfast.',\n    address: '321 Maple St, Anytown USA',\n    status: 'available',\n    img: 'https://as2.ftcdn.net/v2/jpg/03/06/99/29/1000_F_306992966_T7l06iY9fN1YwNpGhLKjuwd0ZjBW3HUM.jpg',\n    total_quantity: 150,\n    category_id: 2,\n  },\n  {\n    product_uri: 'products/17',\n    id: 17,\n    seller_id: 567,\n    name: 'Wild-caught Salmon',\n    price: 12.99,\n    promoting: true,\n    description: 'Fresh wild-caught salmon, packed with omega-3 fatty acids.',\n    address: '654 Pine St, Anytown USA',\n    status: 'available',\n    img: 'https://images.squarespace-cdn.com/content/v1/588b94cbd2b85799b9969da3/1591202977502-ILYA3R661CZPPI2T21AK/HH+fish.jpg?format=1000w',\n    total_quantity: 75,\n    category_id: 1,\n  },\n];\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/admin-controller.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/admin-controller.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":163}},"4":{"start":{"line":7,"column":24},"end":{"line":7,"column":67}},"5":{"start":{"line":8,"column":20},"end":{"line":8,"column":65}},"6":{"start":{"line":10,"column":20},"end":{"line":10,"column":44}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":34}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":52}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"10":{"start":{"line":16,"column":20},"end":{"line":16,"column":44}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":34}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":63}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":36}},"14":{"start":{"line":22,"column":20},"end":{"line":22,"column":44}},"15":{"start":{"line":23,"column":18},"end":{"line":23,"column":36}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":34}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":30}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"19":{"start":{"line":28,"column":0},"end":{"line":28,"column":26}},"20":{"start":{"line":30,"column":20},"end":{"line":30,"column":44}},"21":{"start":{"line":31,"column":16},"end":{"line":31,"column":39}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":34}},"23":{"start":{"line":33,"column":17},"end":{"line":33,"column":66}},"24":{"start":{"line":34,"column":4},"end":{"line":39,"column":5}},"25":{"start":{"line":35,"column":8},"end":{"line":35,"column":66}},"26":{"start":{"line":38,"column":8},"end":{"line":38,"column":62}},"27":{"start":{"line":41,"column":0},"end":{"line":41,"column":40}},"28":{"start":{"line":43,"column":20},"end":{"line":43,"column":44}},"29":{"start":{"line":44,"column":4},"end":{"line":44,"column":34}},"30":{"start":{"line":45,"column":17},"end":{"line":45,"column":35}},"31":{"start":{"line":46,"column":4},"end":{"line":46,"column":57}},"32":{"start":{"line":48,"column":0},"end":{"line":48,"column":30}},"33":{"start":{"line":50,"column":20},"end":{"line":50,"column":44}},"34":{"start":{"line":51,"column":4},"end":{"line":51,"column":34}},"35":{"start":{"line":52,"column":4},"end":{"line":52,"column":68}},"36":{"start":{"line":54,"column":0},"end":{"line":54,"column":46}},"37":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"38":{"start":{"line":57,"column":8},"end":{"line":57,"column":52}},"39":{"start":{"line":61,"column":4},"end":{"line":63,"column":5}},"40":{"start":{"line":62,"column":8},"end":{"line":62,"column":60}},"41":{"start":{"line":64,"column":4},"end":{"line":66,"column":5}},"42":{"start":{"line":65,"column":8},"end":{"line":65,"column":64}},"43":{"start":{"line":69,"column":17},"end":{"line":69,"column":20}},"44":{"start":{"line":71,"column":0},"end":{"line":71,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"getUsers","decl":{"start":{"line":9,"column":15},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":27},"end":{"line":13,"column":1}},"line":9},"2":{"name":"getAdminById","decl":{"start":{"line":15,"column":15},"end":{"line":15,"column":27}},"loc":{"start":{"line":15,"column":31},"end":{"line":19,"column":1}},"line":15},"3":{"name":"addUser","decl":{"start":{"line":21,"column":15},"end":{"line":21,"column":22}},"loc":{"start":{"line":21,"column":26},"end":{"line":27,"column":1}},"line":21},"4":{"name":"deleteUserById","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":29}},"loc":{"start":{"line":29,"column":33},"end":{"line":40,"column":1}},"line":29},"5":{"name":"addAdmins","decl":{"start":{"line":42,"column":15},"end":{"line":42,"column":24}},"loc":{"start":{"line":42,"column":28},"end":{"line":47,"column":1}},"line":42},"6":{"name":"getAdminDashboard","decl":{"start":{"line":49,"column":15},"end":{"line":49,"column":32}},"loc":{"start":{"line":49,"column":36},"end":{"line":53,"column":1}},"line":49},"7":{"name":"checkAdminAuth","decl":{"start":{"line":55,"column":15},"end":{"line":55,"column":29}},"loc":{"start":{"line":55,"column":39},"end":{"line":59,"column":1}},"line":55},"8":{"name":"isEmailExist","decl":{"start":{"line":60,"column":15},"end":{"line":60,"column":27}},"loc":{"start":{"line":60,"column":34},"end":{"line":67,"column":1}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":34,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":39,"column":5}},{"start":{"line":34,"column":4},"end":{"line":39,"column":5}}],"line":34},"4":{"loc":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},{"start":{"line":56,"column":4},"end":{"line":58,"column":5}}],"line":56},"5":{"loc":{"start":{"line":61,"column":4},"end":{"line":63,"column":5}},"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":63,"column":5}},{"start":{"line":61,"column":4},"end":{"line":63,"column":5}}],"line":61},"6":{"loc":{"start":{"line":64,"column":4},"end":{"line":66,"column":5}},"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":66,"column":5}},{"start":{"line":64,"column":4},"end":{"line":66,"column":5}}],"line":64}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"admin-controller.js","sourceRoot":"","sources":["../../../../src/lambda/admin-lambda/admin-controller.ts"],"names":[],"mappings":"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","sourcesContent":["import { Admin } from '../../utils/types';\nimport AdminService from './admin-service';\nimport { NetworkError, BadRequest, NotFoundError } from '/opt/sql-layer';\n\nexport async function getUsers(e) {\n  const adminId = e.pathParameters.adminId;\n  await checkAdminAuth(adminId);\n  return await AdminService.getUsers();\n}\n\nexport async function getAdminById(e) {\n  const adminId = e.pathParameters.adminId;\n  await checkAdminAuth(adminId);\n  return await AdminService.getAdminById(adminId);\n}\n\nexport async function addUser(e) {\n  const adminId = e.pathParameters.adminId;\n  const pbody = JSON.parse(e.body);\n  await checkAdminAuth(adminId);\n  await isEmailExist(pbody);\n  return await AdminService.addUser(pbody.email);\n}\n\nexport async function deleteUserById(e) {\n  const adminId = e.pathParameters.adminId;\n  const uid = e.pathParameters.userId;\n  await checkAdminAuth(adminId);\n  const user = await AdminService.deleteUserById(uid);\n  if (user.affectedRows == 1) {\n    return { message: `user '${uid}' removed from the user` };\n  } else {\n    throw new NotFoundError('User not found');\n  }\n}\n\nexport async function addAdmins(e) {\n  const adminId = e.pathParameters.adminId;\n  await checkAdminAuth(adminId);\n  const info: Admin = JSON.parse(e.body);\n  return await AdminService.addAdmins(info);\n}\n\nexport async function getAdminDashboard(e) {\n  const adminId = e.pathParameters.adminId;\n  await checkAdminAuth(adminId);\n  return await AdminService.getAdminDashboard(adminId);\n}\n\nasync function checkAdminAuth(adminId) {\n  if (!(await AdminService.checkAdminAuth(adminId))) {\n    throw new Unauthorized('UNAUTHORIZED USER');\n  }\n}\n\nasync function isEmailExist(body) {\n  if (!body.email) {\n    throw new BadRequest('request invalid');\n  }\n  if (!(await AdminService.isEmailExist(body.email))) {\n    throw new BadRequest('email already exist');\n  }\n}\n\nexport class Unauthorized extends NetworkError {\n  statusCode = 401;\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/admin-model.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/admin-model.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":65}},"2":{"start":{"line":6,"column":20},"end":{"line":21,"column":107}},"3":{"start":{"line":22,"column":8},"end":{"line":22,"column":69}},"4":{"start":{"line":25,"column":20},"end":{"line":25,"column":149}},"5":{"start":{"line":26,"column":8},"end":{"line":26,"column":80}},"6":{"start":{"line":29,"column":20},"end":{"line":29,"column":50}},"7":{"start":{"line":30,"column":8},"end":{"line":30,"column":77}},"8":{"start":{"line":33,"column":20},"end":{"line":33,"column":83}},"9":{"start":{"line":34,"column":8},"end":{"line":34,"column":76}},"10":{"start":{"line":37,"column":20},"end":{"line":37,"column":63}},"11":{"start":{"line":38,"column":8},"end":{"line":38,"column":78}},"12":{"start":{"line":41,"column":20},"end":{"line":41,"column":57}},"13":{"start":{"line":42,"column":8},"end":{"line":42,"column":76}},"14":{"start":{"line":48,"column":8},"end":{"line":48,"column":20}},"15":{"start":{"line":51,"column":0},"end":{"line":51,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":21},"end":{"line":23,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":32},"end":{"line":27,"column":5}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":24},"end":{"line":31,"column":5}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":30},"end":{"line":35,"column":5}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":30},"end":{"line":39,"column":5}},"line":36},"5":{"name":"(anonymous_5)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":30},"end":{"line":43,"column":5}},"line":40},"6":{"name":"(anonymous_6)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":32},"end":{"line":46,"column":5}},"line":44},"7":{"name":"(anonymous_7)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":26},"end":{"line":49,"column":5}},"line":47}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{},"inputSourceMap":{"version":3,"file":"admin-model.js","sourceRoot":"","sources":["../../../../src/lambda/admin-lambda/admin-model.ts"],"names":[],"mappings":";;AAAA,8CAAsD;AAEtD,MAAM,UAAU;IACP,KAAK,CAAC,QAAQ;QACnB,MAAM,GAAG,GAAG;;;;;;;;;;;;;;;2GAe2F,CAAC;QACxG,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACnD,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,OAAO;QAC/B,MAAM,GAAG,GAAG,iIAAiI,CAAC;QAC9I,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;IAC9D,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,IAAI;QACvB,MAAM,GAAG,GAAG,8BAA8B,CAAC;QAC3C,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3D,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,GAAG;QAC7B,MAAM,GAAG,GAAG,+DAA+D,CAAC;QAC5E,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,KAAK;QAC7B,MAAM,GAAG,GAAG,2CAA2C,CAAC;QACxD,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAC5D,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,GAAG;QAC7B,MAAM,GAAG,GAAG,qCAAqC,CAAC;QAClD,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,EAAE;QAC/B,EAAE;IACJ,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,IAAI;QACzB,OAAO,IAAI,CAAC;IACd,CAAC;CAaF;AAED,kBAAe,IAAI,UAAU,EAAE,CAAC","sourcesContent":["import { SQLConnectionManager } from '/opt/sql-layer';\n\nclass AdminModel {\n  public async getUsers() {\n    const sql = `SELECT JSON_OBJECT(\n      'admin', (SELECT JSON_ARRAYAGG(JSON_OBJECT(\n        'id', u.id,\n        'first_name', u.first_name,\n        'last_name', u.last_name,\n        'department', d.name,\n        'email', u.email\n        )) FROM sqlDB.user u JOIN sqlDB.department d ON d.id = u.id WHERE u.is_admin = 1),\n        'user', (SELECT JSON_ARRAYAGG(\n          JSON_OBJECT(\n            'id', u.id,\n            'first_name', u.first_name,\n            'last_name', u.last_name,\n            'department', d.name,\n            'email', u.email\n            )) FROM sqlDB.user u JOIN sqlDB.department d ON d.id = u.id WHERE u.is_admin = 0)) as combined`;\n    return await SQLConnectionManager.queryPool(sql);\n  }\n\n  public async getAdminById(adminId) {\n    const sql = `SELECT u.id, u.first_name, u.last_name, d.name, u.email FROM sqlDB.user u JOIN sqlDB.department d ON d.id = u.id WHERE u.id = ?`;\n    return await SQLConnectionManager.queryPool(sql, [adminId]);\n  }\n\n  public async addUser(user) {\n    const sql = `INSERT INTO sqlDB.user SET ?`;\n    return await SQLConnectionManager.queryPool(sql, [user]);\n  }\n\n  public async checkAdminAuth(aid) {\n    const sql = `SELECT COUNT(*) FROM sqlDB.user WHERE is_admin = 1 AND id = ?`;\n    return await SQLConnectionManager.queryPool(sql, [aid]);\n  }\n\n  public async isEmailExist(email) {\n    const sql = `SELECT COUNT(*) FROM user WHERE email = ?`;\n    return await SQLConnectionManager.queryPool(sql, [email]);\n  }\n\n  public async deleteUserById(uid) {\n    const sql = `DELETE FROM sqlDB.user WHERE id = ?`;\n    return await SQLConnectionManager.queryPool(sql, [uid]);\n  }\n\n  public async getAdminDashboard(id) {\n    //\n  }\n\n  public async addAdmins(info) {\n    return true;\n  }\n\n  // public async addAdmin(info) {\n  //   const sql = 'INSERT INTO admin SET ?';\n  //   const newUser = await queryPool(sql);\n  //   return newUser;\n  // }\n\n  // public async findAllAdmins() {\n  //   const sql = 'SELECT * FROM admin';\n  //   const users = await queryPool(sql);\n  //   return users;\n  // }\n}\n\nexport default new AdminModel();\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/admin-service.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/admin-service.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":63}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":60}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":45}},"6":{"start":{"line":13,"column":20},"end":{"line":13,"column":73}},"7":{"start":{"line":14,"column":21},"end":{"line":14,"column":52}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":51}},"9":{"start":{"line":18,"column":22},"end":{"line":18,"column":71}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":52}},"11":{"start":{"line":22,"column":8},"end":{"line":22,"column":59}},"12":{"start":{"line":25,"column":24},"end":{"line":25,"column":71}},"13":{"start":{"line":26,"column":8},"end":{"line":26,"column":51}},"14":{"start":{"line":29,"column":8},"end":{"line":29,"column":65}},"15":{"start":{"line":32,"column":20},"end":{"line":32,"column":67}},"16":{"start":{"line":33,"column":8},"end":{"line":33,"column":68}},"17":{"start":{"line":36,"column":20},"end":{"line":36,"column":67}},"18":{"start":{"line":37,"column":8},"end":{"line":37,"column":68}},"19":{"start":{"line":43,"column":0},"end":{"line":43,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":21},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":25},"end":{"line":16,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":32},"end":{"line":20,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":26},"end":{"line":23,"column":5}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":30},"end":{"line":27,"column":5}},"line":24},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":32},"end":{"line":30,"column":5}},"line":28},"7":{"name":"(anonymous_7)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":30},"end":{"line":34,"column":5}},"line":31},"8":{"name":"(anonymous_8)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":30},"end":{"line":38,"column":5}},"line":35},"9":{"name":"(anonymous_9)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":30},"end":{"line":41,"column":5}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"admin-service.js","sourceRoot":"","sources":["../../../../src/lambda/admin-lambda/admin-service.ts"],"names":[],"mappings":";;;;;AAAA,gEAAuC;AAMvC,MAAM,YAAY;IACT,KAAK,CAAC,QAAQ;QACnB,MAAM,KAAK,GAAG,MAAM,qBAAU,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,IAAI,CAAC,KAAK,CAAE,KAAgB,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,KAAK;QACxB,MAAM,GAAG,GAAG,MAAM,qBAAU,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QACvD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7C,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;IAC7C,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,OAAO;QAC/B,MAAM,KAAK,GAAG,MAAM,qBAAU,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,IAAI;QACzB,OAAO,MAAM,qBAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,GAAG;QAC7B,MAAM,OAAO,GAAG,MAAM,qBAAU,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7C,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,EAAE;QAC/B,OAAO,MAAM,qBAAU,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;IAChD,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,GAAG;QAC7B,MAAM,GAAG,GAAG,MAAM,qBAAU,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACjD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IAC9D,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,KAAK;QAC7B,MAAM,GAAG,GAAG,MAAM,qBAAU,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACjD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IAC9D,CAAC;IAEM,KAAK,CAAC,iBAAiB;QAC5B,EAAE;IACJ,CAAC;CACF;AAED,kBAAe,IAAI,YAAY,EAAE,CAAC","sourcesContent":["import AdminModel from './admin-model';\ntype UserInputValidation = {\n  id?: number;\n  email?: string;\n};\n\nclass AdminService {\n  public async getUsers() {\n    const users = await AdminModel.getUsers();\n    return JSON.parse((users as object)[0].combined);\n  }\n\n  public async addUser(email) {\n    const rst = await AdminModel.addUser({ email: email });\n    const user = JSON.parse(JSON.stringify(rst));\n    return { id: user.insertId, email: email };\n  }\n\n  public async getAdminById(adminId) {\n    const admin = await AdminModel.getAdminById(adminId);\n    return JSON.parse(JSON.stringify(admin))[0];\n  }\n\n  public async addAdmins(info) {\n    return await AdminModel.addAdmins(info);\n  }\n\n  public async deleteUserById(uid) {\n    const userLog = await AdminModel.deleteUserById(uid);\n    return JSON.parse(JSON.stringify(userLog));\n  }\n\n  public async getAdminDashboard(id) {\n    return await AdminModel.getAdminDashboard(id);\n  }\n\n  public async checkAdminAuth(aid) {\n    const rst = await AdminModel.checkAdminAuth(aid);\n    return JSON.parse(JSON.stringify(rst))[0]['COUNT(*)'] !== 0;\n  }\n\n  public async isEmailExist(email) {\n    const rst = await AdminModel.isEmailExist(email);\n    return JSON.parse(JSON.stringify(rst))[0]['COUNT(*)'] === 0;\n  }\n\n  public async deleteUserByEmail() {\n    //\n  }\n}\n\nexport default new AdminService();\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/index.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/admin-lambda/index.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":65}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":56}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":39}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":2}},"5":{"start":{"line":7,"column":26},"end":{"line":7,"column":47}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":52}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":25}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":53}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":59}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":59}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":73}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":72}},"13":{"start":{"line":18,"column":4},"end":{"line":30,"column":6}},"14":{"start":{"line":19,"column":8},"end":{"line":29,"column":9}},"15":{"start":{"line":20,"column":27},"end":{"line":20,"column":47}},"16":{"start":{"line":21,"column":12},"end":{"line":24,"column":14}},"17":{"start":{"line":27,"column":12},"end":{"line":27,"column":29}},"18":{"start":{"line":28,"column":12},"end":{"line":28,"column":19}},"19":{"start":{"line":33,"column":4},"end":{"line":33,"column":31}},"20":{"start":{"line":34,"column":4},"end":{"line":34,"column":57}},"21":{"start":{"line":37,"column":4},"end":{"line":37,"column":31}},"22":{"start":{"line":38,"column":4},"end":{"line":38,"column":53}},"23":{"start":{"line":41,"column":4},"end":{"line":41,"column":31}},"24":{"start":{"line":42,"column":4},"end":{"line":42,"column":52}},"25":{"start":{"line":45,"column":4},"end":{"line":45,"column":31}},"26":{"start":{"line":46,"column":4},"end":{"line":46,"column":59}},"27":{"start":{"line":49,"column":4},"end":{"line":49,"column":31}},"28":{"start":{"line":50,"column":4},"end":{"line":50,"column":62}},"29":{"start":{"line":53,"column":4},"end":{"line":64,"column":5}},"30":{"start":{"line":54,"column":8},"end":{"line":55,"column":60}},"31":{"start":{"line":55,"column":12},"end":{"line":55,"column":60}},"32":{"start":{"line":57,"column":9},"end":{"line":64,"column":5}},"33":{"start":{"line":58,"column":8},"end":{"line":59,"column":61}},"34":{"start":{"line":59,"column":12},"end":{"line":59,"column":61}},"35":{"start":{"line":62,"column":8},"end":{"line":63,"column":60}},"36":{"start":{"line":63,"column":12},"end":{"line":63,"column":60}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":18},"end":{"line":6,"column":19}},"loc":{"start":{"line":6,"column":31},"end":{"line":10,"column":1}},"line":6},"1":{"name":"handling","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":17}},"loc":{"start":{"line":17,"column":27},"end":{"line":31,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":11},"end":{"line":18,"column":12}},"loc":{"start":{"line":18,"column":28},"end":{"line":30,"column":5}},"line":18},"3":{"name":"getAdminL","decl":{"start":{"line":32,"column":15},"end":{"line":32,"column":24}},"loc":{"start":{"line":32,"column":28},"end":{"line":35,"column":1}},"line":32},"4":{"name":"getUsersL","decl":{"start":{"line":36,"column":15},"end":{"line":36,"column":24}},"loc":{"start":{"line":36,"column":28},"end":{"line":39,"column":1}},"line":36},"5":{"name":"addUserL","decl":{"start":{"line":40,"column":15},"end":{"line":40,"column":23}},"loc":{"start":{"line":40,"column":27},"end":{"line":43,"column":1}},"line":40},"6":{"name":"deleteUserL","decl":{"start":{"line":44,"column":15},"end":{"line":44,"column":26}},"loc":{"start":{"line":44,"column":30},"end":{"line":47,"column":1}},"line":44},"7":{"name":"getAdminDashboardL","decl":{"start":{"line":48,"column":15},"end":{"line":48,"column":33}},"loc":{"start":{"line":48,"column":37},"end":{"line":51,"column":1}},"line":48},"8":{"name":"requestValidation","decl":{"start":{"line":52,"column":15},"end":{"line":52,"column":32}},"loc":{"start":{"line":52,"column":36},"end":{"line":65,"column":1}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":28},"end":{"line":22,"column":52}},"type":"binary-expr","locations":[{"start":{"line":22,"column":28},"end":{"line":22,"column":45}},{"start":{"line":22,"column":49},"end":{"line":22,"column":52}}],"line":22},"1":{"loc":{"start":{"line":53,"column":4},"end":{"line":64,"column":5}},"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":64,"column":5}},{"start":{"line":53,"column":4},"end":{"line":64,"column":5}}],"line":53},"2":{"loc":{"start":{"line":53,"column":8},"end":{"line":53,"column":55}},"type":"binary-expr","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":30}},{"start":{"line":53,"column":34},"end":{"line":53,"column":55}}],"line":53},"3":{"loc":{"start":{"line":54,"column":8},"end":{"line":55,"column":60}},"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":55,"column":60}},{"start":{"line":54,"column":8},"end":{"line":55,"column":60}}],"line":54},"4":{"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":48}},"type":"binary-expr","locations":[{"start":{"line":54,"column":12},"end":{"line":54,"column":37}},{"start":{"line":54,"column":41},"end":{"line":54,"column":48}}],"line":54},"5":{"loc":{"start":{"line":57,"column":9},"end":{"line":64,"column":5}},"type":"if","locations":[{"start":{"line":57,"column":9},"end":{"line":64,"column":5}},{"start":{"line":57,"column":9},"end":{"line":64,"column":5}}],"line":57},"6":{"loc":{"start":{"line":58,"column":8},"end":{"line":59,"column":61}},"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":59,"column":61}},{"start":{"line":58,"column":8},"end":{"line":59,"column":61}}],"line":58},"7":{"loc":{"start":{"line":58,"column":12},"end":{"line":58,"column":65}},"type":"binary-expr","locations":[{"start":{"line":58,"column":12},"end":{"line":58,"column":37}},{"start":{"line":58,"column":41},"end":{"line":58,"column":65}}],"line":58},"8":{"loc":{"start":{"line":62,"column":8},"end":{"line":63,"column":60}},"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":63,"column":60}},{"start":{"line":62,"column":8},"end":{"line":63,"column":60}}],"line":62}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/lambda/admin-lambda/index.ts"],"names":[],"mappings":";;AAAA,8CAAoD;AACpD,yDAM4B;AAC5B,MAAM,MAAM,GAAG,IAAI,kBAAM,EAAE,CAAC;AAE5B,OAAO,CAAC,OAAO,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;IAC5B,MAAM,aAAa,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC5C,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,aAAa,CAAC,CAAC;IAChD,OAAO,aAAa,CAAC;AACvB,CAAC,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;AACrD,MAAM,CAAC,IAAI,CAAC,yBAAyB,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC3D,MAAM,CAAC,GAAG,CAAC,yBAAyB,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;AAC3D,MAAM,CAAC,MAAM,CAAC,kCAAkC,EAAE,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;AACzE,MAAM,CAAC,GAAG,CAAC,6BAA6B,EAAE,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC;AAExE,OAAO;AACP,SAAS,QAAQ,CAAC,OAAO;IACvB,OAAO,KAAK,EAAE,KAAK,EAAE,EAAE;QACrB,IAAI;YACF,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC;YACpC,OAAO;gBACL,UAAU,EAAE,MAAM,CAAC,UAAU,IAAI,GAAG;gBACpC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aAC7B,CAAC;SACH;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,OAAO;SACR;IACH,CAAC,CAAC;AACJ,CAAC;AAED,KAAK,UAAU,SAAS,CAAC,CAAC;IACxB,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,+BAAY,EAAC,CAAC,CAAC,CAAC;AAC/B,CAAC;AAED,KAAK,UAAU,SAAS,CAAC,CAAC;IACxB,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,2BAAQ,EAAC,CAAC,CAAC,CAAC;AAC3B,CAAC;AAED,KAAK,UAAU,QAAQ,CAAC,CAAC;IACvB,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,0BAAO,EAAC,CAAC,CAAC,CAAC;AAC1B,CAAC;AAED,KAAK,UAAU,WAAW,CAAC,CAAC;IAC1B,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,iCAAc,EAAC,CAAC,CAAC,CAAC;AACjC,CAAC;AAED,KAAK,UAAU,kBAAkB,CAAC,CAAC;IACjC,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,oCAAiB,EAAC,CAAC,CAAC,CAAC;AACpC,CAAC;AAED,KAAK,UAAU,iBAAiB,CAAC,CAAC;IAChC,IAAI,CAAC,CAAC,UAAU,IAAI,MAAM,IAAI,CAAC,CAAC,UAAU,IAAI,KAAK,EAAE;QACnD,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI;YACtC,MAAM,IAAI,sBAAU,CAAC,aAAa,CAAC,CAAC;KACvC;SAAM,IAAI,CAAC,CAAC,UAAU,IAAI,QAAQ,EAAE;QACnC,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM;YACvD,MAAM,IAAI,sBAAU,CAAC,cAAc,CAAC,CAAC;KACxC;SAAM;QACL,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO;YAAE,MAAM,IAAI,sBAAU,CAAC,aAAa,CAAC,CAAC;KACpE;AACH,CAAC","sourcesContent":["import { Router, BadRequest } from '/opt/sql-layer';\nimport {\n  getUsers,\n  addUser,\n  deleteUserById,\n  getAdminById,\n  getAdminDashboard,\n} from './admin-controller';\nconst router = new Router();\n\nexports.handler = async (e) => {\n  const handlerResult = await router.route(e);\n  console.log('handlerResult :: ', handlerResult);\n  return handlerResult;\n};\n\nrouter.get('/admins/{adminId}', handling(getAdminL));\nrouter.post('/admins/{adminId}/users', handling(addUserL));\nrouter.get('/admins/{adminId}/users', handling(getUsersL));\nrouter.delete('/admins/{adminId}/users/{userId}', handling(deleteUserL));\nrouter.get('/admins/{adminId}/dashboard', handling(getAdminDashboardL));\n\n// util\nfunction handling(handler) {\n  return async (event) => {\n    try {\n      const result = await handler(event);\n      return {\n        statusCode: result.statusCode || 200,\n        body: JSON.stringify(result),\n      };\n    } catch (err) {\n      console.log(err);\n      return;\n    }\n  };\n}\n\nasync function getAdminL(e) {\n  await requestValidation(e);\n  return await getAdminById(e);\n}\n\nasync function getUsersL(e) {\n  await requestValidation(e);\n  return await getUsers(e);\n}\n\nasync function addUserL(e) {\n  await requestValidation(e);\n  return await addUser(e);\n}\n\nasync function deleteUserL(e) {\n  await requestValidation(e);\n  return await deleteUserById(e);\n}\n\nasync function getAdminDashboardL(e) {\n  await requestValidation(e);\n  return await getAdminDashboard(e);\n}\n\nasync function requestValidation(e) {\n  if (e.httpMethod == 'POST' || e.httpMethod == 'PUT') {\n    if (!e.pathParameters.adminId || !e.body)\n      throw new BadRequest('no admin id');\n  } else if (e.httpMethod == 'DELETE') {\n    if (!e.pathParameters.adminId || !e.pathParameters.userId)\n      throw new BadRequest('no parameter');\n  } else {\n    if (!e.pathParameters.adminId) throw new BadRequest('no admin id');\n  }\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/auth-lambda/index.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/auth-lambda/index.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":65}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":56}},"4":{"start":{"line":7,"column":0},"end":{"line":9,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":33}},"6":{"start":{"line":13,"column":4},"end":{"line":18,"column":5}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":55}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":41}},"9":{"start":{"line":19,"column":16},"end":{"line":19,"column":60}},"10":{"start":{"line":20,"column":21},"end":{"line":20,"column":83}},"11":{"start":{"line":21,"column":17},"end":{"line":21,"column":25}},"12":{"start":{"line":22,"column":4},"end":{"line":28,"column":5}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":21}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":46}},"15":{"start":{"line":27,"column":8},"end":{"line":27,"column":36}},"16":{"start":{"line":30,"column":0},"end":{"line":30,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":41},"end":{"line":9,"column":1}},"line":7},"1":{"name":"authorizeLogin","decl":{"start":{"line":11,"column":15},"end":{"line":11,"column":29}},"loc":{"start":{"line":11,"column":37},"end":{"line":29,"column":1}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":28,"column":5}},{"start":{"line":22,"column":4},"end":{"line":28,"column":5}}],"line":22}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/lambda/auth-lambda/index.ts"],"names":[],"mappings":";;;AAAA,8CAAsD;AACtD,gCAAoB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;AAE5C,oCAAoC;AACpC,OAAO,CAAC,OAAO,GAAG,KAAK,WAAW,KAAK;IACrC,OAAO,cAAc,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC,CAAC;AAEF,WAAW;AACJ,KAAK,UAAU,cAAc,CAAC,KAAK;IACxC,IAAI,SAAS,CAAC;IACd,IAAI;QACF,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC;KAChD;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;KAClC;IACD,MAAM,GAAG,GAAG,4CAA4C,CAAC;IAEzD,MAAM,QAAQ,GAAG,MAAM,gCAAoB,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IACpE,MAAM,IAAI,GAAG,QAAiB,CAAC;IAC/B,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;QACnB,OAAO,KAAK,CAAC;KACd;SAAM;QACL,OAAO,CAAC,GAAG,CAAC,GAAG,SAAS,YAAY,CAAC,CAAC;QACtC,MAAM,IAAI,KAAK,CAAC,UAAU,CAAC,CAAC;KAC7B;AACH,CAAC;AAjBD,wCAiBC","sourcesContent":["import { SQLConnectionManager } from '/opt/sql-layer';\nSQLConnectionManager.createConnection(true);\n\n// handles routing and sends request\nexports.handler = async function (event) {\n  return authorizeLogin(event);\n};\n\n// handlers\nexport async function authorizeLogin(event): Promise<any> {\n  let userEmail;\n  try {\n    userEmail = event.request.userAttributes.email;\n  } catch (e) {\n    throw new Error('Missing Email');\n  }\n  const sql = 'SELECT email FROM dev.user WHERE email = ?';\n\n  const response = await SQLConnectionManager.query(sql, [userEmail]);\n  const rows = response as any[];\n  if (rows.length > 0) {\n    return event;\n  } else {\n    console.log(`${userEmail} not in db`);\n    throw new Error('NOT USER');\n  }\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/carts-controller.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/carts-controller.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":103}},"4":{"start":{"line":7,"column":24},"end":{"line":7,"column":67}},"5":{"start":{"line":9,"column":17},"end":{"line":9,"column":84}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":28}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}},"8":{"start":{"line":14,"column":16},"end":{"line":14,"column":39}},"9":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"10":{"start":{"line":16,"column":17},"end":{"line":20,"column":5}},"11":{"start":{"line":21,"column":17},"end":{"line":21,"column":64}},"12":{"start":{"line":22,"column":4},"end":{"line":22,"column":26}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":34}},"14":{"start":{"line":26,"column":16},"end":{"line":26,"column":39}},"15":{"start":{"line":27,"column":18},"end":{"line":27,"column":47}},"16":{"start":{"line":28,"column":17},"end":{"line":28,"column":80}},"17":{"start":{"line":28,"column":34},"end":{"line":28,"column":68}},"18":{"start":{"line":29,"column":4},"end":{"line":29,"column":68}},"19":{"start":{"line":31,"column":0},"end":{"line":31,"column":42}},"20":{"start":{"line":33,"column":16},"end":{"line":33,"column":39}},"21":{"start":{"line":34,"column":16},"end":{"line":34,"column":35}},"22":{"start":{"line":35,"column":4},"end":{"line":35,"column":66}},"23":{"start":{"line":37,"column":0},"end":{"line":37,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"getCartItems","decl":{"start":{"line":8,"column":15},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":31},"end":{"line":11,"column":1}},"line":8},"2":{"name":"addCartItem","decl":{"start":{"line":13,"column":15},"end":{"line":13,"column":26}},"loc":{"start":{"line":13,"column":30},"end":{"line":23,"column":1}},"line":13},"3":{"name":"updateCartItems","decl":{"start":{"line":25,"column":15},"end":{"line":25,"column":30}},"loc":{"start":{"line":25,"column":34},"end":{"line":30,"column":1}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":68}},"line":28},"5":{"name":"deleteCartItem","decl":{"start":{"line":32,"column":15},"end":{"line":32,"column":29}},"loc":{"start":{"line":32,"column":33},"end":{"line":36,"column":1}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"carts-controller.js","sourceRoot":"","sources":["../../../../src/lambda/carts-lambda/carts-controller.ts"],"names":[],"mappings":";;;;;;AAEA,oEAA0C;AAEnC,KAAK,UAAU,YAAY,CAAC,CAAC;IAClC,MAAM,IAAI,GAAG,MAAM,uBAAW,CAAC,YAAY,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACrE,OAAO,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;AAC1B,CAAC;AAHD,oCAGC;AAEM,KAAK,UAAU,WAAW,CAAC,CAAC;IACjC,MAAM,GAAG,GAAG,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC;IACpC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACjC,MAAM,IAAI,GAAc;QACtB,QAAQ,EAAE,GAAG;QACb,UAAU,EAAE,KAAK,CAAC,EAAE;QACpB,QAAQ,EAAE,KAAK,CAAC,QAAQ;KACzB,CAAC;IACF,MAAM,IAAI,GAAG,MAAM,uBAAW,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACjD,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AACxB,CAAC;AAVD,kCAUC;AAEM,KAAK,UAAU,eAAe,CAAC,CAAC;IACrC,MAAM,GAAG,GAAG,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC;IACpC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC;IAC5C,MAAM,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7E,OAAO,MAAM,uBAAW,CAAC,eAAe,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AACtD,CAAC;AALD,0CAKC;AAEM,KAAK,UAAU,cAAc,CAAC,CAAC;IACpC,MAAM,GAAG,GAAG,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC;IACpC,MAAM,GAAG,GAAG,CAAC,CAAC,cAAc,CAAC,EAAE,CAAC;IAChC,OAAO,MAAM,uBAAW,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AACpD,CAAC;AAJD,wCAIC","sourcesContent":["/* eslint-disable @typescript-eslint/no-var-requires */\nimport { Cart_item } from '../../utils/types';\nimport CartService from './carts-service';\n\nexport async function getCartItems(e) {\n  const cart = await CartService.getCartItems(e.pathParameters.userId);\n  return { cart: [cart] };\n}\n\nexport async function addCartItem(e) {\n  const bid = e.pathParameters.userId;\n  const pbody = JSON.parse(e.body);\n  const info: Cart_item = {\n    buyer_id: bid,\n    product_id: pbody.id,\n    quantity: pbody.quantity,\n  };\n  const cart = await CartService.addCartItem(info);\n  return { cart: cart };\n}\n\nexport async function updateCartItems(e) {\n  const bid = e.pathParameters.userId;\n  const pbody = JSON.parse(e.body).cart_items;\n  const info = pbody.map((e) => `(${bid}, ${e.id}, ${e.quantity})`).join(', ');\n  return await CartService.updateCartItems(bid, info);\n}\n\nexport async function deleteCartItem(e) {\n  const bid = e.pathParameters.userId;\n  const pid = e.pathParameters.id;\n  return await CartService.deleteCartItem(bid, pid);\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/carts-model.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/carts-model.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":65}},"2":{"start":{"line":6,"column":20},"end":{"line":11,"column":27}},"3":{"start":{"line":12,"column":8},"end":{"line":12,"column":76}},"4":{"start":{"line":15,"column":8},"end":{"line":15,"column":41}},"5":{"start":{"line":16,"column":20},"end":{"line":16,"column":55}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":70}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":47}},"8":{"start":{"line":21,"column":20},"end":{"line":21,"column":51}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":69}},"10":{"start":{"line":25,"column":20},"end":{"line":25,"column":87}},"11":{"start":{"line":26,"column":8},"end":{"line":26,"column":81}},"12":{"start":{"line":29,"column":20},"end":{"line":29,"column":149}},"13":{"start":{"line":30,"column":8},"end":{"line":30,"column":62}},"14":{"start":{"line":31,"column":8},"end":{"line":31,"column":49}},"15":{"start":{"line":34,"column":20},"end":{"line":34,"column":108}},"16":{"start":{"line":35,"column":8},"end":{"line":38,"column":11}},"17":{"start":{"line":41,"column":20},"end":{"line":43,"column":25}},"18":{"start":{"line":44,"column":8},"end":{"line":44,"column":76}},"19":{"start":{"line":47,"column":0},"end":{"line":47,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":28},"end":{"line":13,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":28},"end":{"line":19,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":29},"end":{"line":23,"column":5}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":35},"end":{"line":27,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":37},"end":{"line":32,"column":5}},"line":28},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":31},"end":{"line":39,"column":5}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":33},"end":{"line":45,"column":5}},"line":40}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{},"inputSourceMap":{"version":3,"file":"carts-model.js","sourceRoot":"","sources":["../../../../src/lambda/carts-lambda/carts-model.ts"],"names":[],"mappings":";;AAAA,8CAAsD;AAEtD,MAAM,SAAS;IACN,KAAK,CAAC,YAAY,CAAC,GAAG;QAC3B,MAAM,GAAG,GAAG;;;;;2BAKW,CAAC;QACxB,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,IAAI;QAC3B,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QACjC,MAAM,GAAG,GAAG,mCAAmC,CAAC;QAChD,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;QAClD,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,gBAAgB;QAC3B,MAAM,GAAG,GAAG,+BAA+B,CAAC;QAC5C,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACnD,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG;QAClC,MAAM,GAAG,GACP,mEAAmE,CAAC;QACtE,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;IAC/D,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,GAAG,EAAE,IAAI;QACpC,MAAM,GAAG,GAAG,uEAAuE,IAAI,sDAAsD,CAAC;QAC9I,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC1C,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,IAAI;QAC9B,MAAM,GAAG,GAAG,wFAAwF,CAAC;QACrG,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE;YAC/C,IAAI,CAAC,QAAQ;YACb,IAAI,CAAC,UAAU;SAChB,CAAC,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,GAAG;QAChC,MAAM,GAAG,GAAG;;yBAES,CAAC;QACtB,OAAO,MAAM,gCAAoB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC1D,CAAC;CACF;AAED,kBAAe,IAAI,SAAS,EAAE,CAAC","sourcesContent":["import { SQLConnectionManager } from '/opt/sql-layer';\n\nclass CartModel {\n  public async getCartItems(bid) {\n    const sql = `SELECT JSON_OBJECT(\n      'products', (SELECT JSON_ARRAYAGG(JSON_OBJECT(\"id\", p.id, \"product_uri\", pm.url, \"name\", p.name, \"quantity\", c.quantity, \"price\", p.price)))) as cart\n      FROM sqlDB.cart_item c\n      INNER JOIN sqlDB.product p ON c.product_id = p.id\n      INNER JOIN sqlDB.product_multimedia pm ON p.id = pm.product_id\n      WHERE c.buyer_id = ?`;\n    return await SQLConnectionManager.queryPool(sql, [bid]);\n  }\n\n  public async addCartItem(info) {\n    console.log('add cart in model');\n    const sql = `INSERT INTO sqlDB.cart_item SET ?`;\n    await SQLConnectionManager.queryPool(sql, [info]);\n    return await this.confirmCartAdd(info);\n  }\n\n  public async findAllCartItems() {\n    const sql = 'SELECT * FROM sqlDB.cart_item';\n    return await SQLConnectionManager.queryPool(sql);\n  }\n\n  public async deleteCartItem(bid, pid) {\n    const sql =\n      'DELETE FROM sqlDB.cart_item WHERE buyer_id = ? AND product_id = ?';\n    return await SQLConnectionManager.queryPool(sql, [bid, pid]);\n  }\n\n  public async updateCartItems(bid, info) {\n    const sql = `INSERT INTO sqlDB.cart_item (buyer_id, product_id, quantity) VALUES ${info} ON DUPLICATE KEY UPDATE quantity = VALUES(quantity)`;\n    await SQLConnectionManager.queryPool(sql);\n    return await this.confirmCartUpdate(bid);\n  }\n\n  public async confirmCartAdd(info) {\n    const sql = `SELECT product_id, quantity FROM sqlDB.cart_item WHERE buyer_id = ? AND product_id = ?`;\n    return await SQLConnectionManager.queryPool(sql, [\n      info.buyer_id,\n      info.product_id,\n    ]);\n  }\n\n  public async confirmCartUpdate(bid) {\n    const sql = `SELECT JSON_ARRAYAGG(JSON_OBJECT(\"id\", buyer_id, \"quantity\", quantity)) as cart_items\n      FROM sqlDB.cart_item\n      WHERE buyer_id = ?`;\n    return await SQLConnectionManager.queryPool(sql, [bid]);\n  }\n}\n\nexport default new CartModel();\n\ntype response = { statusCode: number; body: object | string };\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/carts-service.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/carts-service.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":63}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":65}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":65}},"6":{"start":{"line":11,"column":21},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":64}},"8":{"start":{"line":15,"column":24},"end":{"line":15,"column":76}},"9":{"start":{"line":16,"column":21},"end":{"line":16,"column":56}},"10":{"start":{"line":17,"column":8},"end":{"line":22,"column":9}},"11":{"start":{"line":18,"column":12},"end":{"line":18,"column":73}},"12":{"start":{"line":21,"column":12},"end":{"line":21,"column":93}},"13":{"start":{"line":25,"column":21},"end":{"line":25,"column":66}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":40}},"15":{"start":{"line":29,"column":24},"end":{"line":29,"column":77}},"16":{"start":{"line":30,"column":8},"end":{"line":30,"column":54}},"17":{"start":{"line":33,"column":0},"end":{"line":33,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":28},"end":{"line":13,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":35},"end":{"line":23,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":28},"end":{"line":27,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":36},"end":{"line":31,"column":5}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":17,"column":8},"end":{"line":22,"column":9}},"type":"if","locations":[{"start":{"line":17,"column":8},"end":{"line":22,"column":9}},{"start":{"line":17,"column":8},"end":{"line":22,"column":9}}],"line":17}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"file":"carts-service.js","sourceRoot":"","sources":["../../../../src/lambda/carts-lambda/carts-service.ts"],"names":[],"mappings":";;;;;AAAA,gEAAsC;AACtC,8CAA+C;AAE/C,MAAM,WAAW;IACR,KAAK,CAAC,WAAW,CAAC,IAAI;QAC3B,MAAM,GAAG,GAAG,MAAM,qBAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChD,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC1D,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG;QAClC,MAAM,OAAO,GAAG,MAAM,qBAAS,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACzD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,EAAE;YAC1B,OAAO,EAAE,OAAO,EAAE,YAAY,GAAG,yBAAyB,EAAE,CAAC;SAC9D;aAAM;YACL,MAAM,IAAI,yBAAa,CAAC,2CAA2C,CAAC,CAAC;SACtE;IACH,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,GAAG;QAC3B,MAAM,IAAI,GAAG,MAAM,qBAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QAC/C,OAAO,IAAI,CAAC,KAAK,CAAE,IAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI;QACnC,MAAM,OAAO,GAAG,MAAM,qBAAS,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChD,CAAC;CACF;AAED,kBAAe,IAAI,WAAW,EAAE,CAAC","sourcesContent":["import CartModel from './carts-model';\nimport { NotFoundError } from '/opt/sql-layer';\n\nclass CartService {\n  public async addCartItem(info) {\n    const rst = await CartModel.addCartItem(info);\n    const cart = JSON.parse(JSON.stringify(rst))[0];\n    return { id: cart.product_id, quantity: cart.quantity };\n  }\n\n  public async deleteCartItem(bid, pid) {\n    const cartLog = await CartModel.deleteCartItem(bid, pid);\n    const cart = JSON.parse(JSON.stringify(cartLog));\n    if (cart.affectedRows == 1) {\n      return { message: `product '${pid}' removed from the cart` };\n    } else {\n      throw new NotFoundError('Target product does not exist in the cart');\n    }\n  }\n\n  public async getCartItems(bid) {\n    const cart = await CartModel.getCartItems(bid);\n    return JSON.parse((cart as object)[0].cart);\n  }\n\n  public async updateCartItems(id, info) {\n    const rawCart = await CartModel.updateCartItems(id, info);\n    return JSON.parse(JSON.stringify(rawCart[0]));\n  }\n}\n\nexport default new CartService();\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/index.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/carts-lambda/index.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":65}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":56}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":39}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":2}},"5":{"start":{"line":7,"column":26},"end":{"line":7,"column":47}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":52}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":25}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":64}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":71}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":61}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":61}},"12":{"start":{"line":17,"column":4},"end":{"line":30,"column":6}},"13":{"start":{"line":18,"column":8},"end":{"line":29,"column":9}},"14":{"start":{"line":19,"column":27},"end":{"line":19,"column":47}},"15":{"start":{"line":20,"column":12},"end":{"line":23,"column":14}},"16":{"start":{"line":26,"column":12},"end":{"line":26,"column":29}},"17":{"start":{"line":27,"column":12},"end":{"line":27,"column":19}},"18":{"start":{"line":33,"column":4},"end":{"line":33,"column":31}},"19":{"start":{"line":34,"column":4},"end":{"line":34,"column":57}},"20":{"start":{"line":37,"column":4},"end":{"line":37,"column":31}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":56}},"22":{"start":{"line":41,"column":4},"end":{"line":41,"column":31}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":60}},"24":{"start":{"line":45,"column":4},"end":{"line":45,"column":31}},"25":{"start":{"line":46,"column":4},"end":{"line":46,"column":59}},"26":{"start":{"line":49,"column":4},"end":{"line":56,"column":5}},"27":{"start":{"line":50,"column":8},"end":{"line":51,"column":59}},"28":{"start":{"line":51,"column":12},"end":{"line":51,"column":59}},"29":{"start":{"line":54,"column":8},"end":{"line":55,"column":59}},"30":{"start":{"line":55,"column":12},"end":{"line":55,"column":59}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":18},"end":{"line":6,"column":19}},"loc":{"start":{"line":6,"column":31},"end":{"line":10,"column":1}},"line":6},"1":{"name":"handling","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":17}},"loc":{"start":{"line":16,"column":27},"end":{"line":31,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":11},"end":{"line":17,"column":12}},"loc":{"start":{"line":17,"column":28},"end":{"line":30,"column":5}},"line":17},"3":{"name":"getCartItemsL","decl":{"start":{"line":32,"column":15},"end":{"line":32,"column":28}},"loc":{"start":{"line":32,"column":32},"end":{"line":35,"column":1}},"line":32},"4":{"name":"addCartItemL","decl":{"start":{"line":36,"column":15},"end":{"line":36,"column":27}},"loc":{"start":{"line":36,"column":31},"end":{"line":39,"column":1}},"line":36},"5":{"name":"updateCartItemsL","decl":{"start":{"line":40,"column":15},"end":{"line":40,"column":31}},"loc":{"start":{"line":40,"column":35},"end":{"line":43,"column":1}},"line":40},"6":{"name":"deleteCartItemL","decl":{"start":{"line":44,"column":15},"end":{"line":44,"column":30}},"loc":{"start":{"line":44,"column":34},"end":{"line":47,"column":1}},"line":44},"7":{"name":"requestValidation","decl":{"start":{"line":48,"column":15},"end":{"line":48,"column":32}},"loc":{"start":{"line":48,"column":36},"end":{"line":57,"column":1}},"line":48}},"branchMap":{"0":{"loc":{"start":{"line":21,"column":28},"end":{"line":21,"column":52}},"type":"binary-expr","locations":[{"start":{"line":21,"column":28},"end":{"line":21,"column":45}},{"start":{"line":21,"column":49},"end":{"line":21,"column":52}}],"line":21},"1":{"loc":{"start":{"line":49,"column":4},"end":{"line":56,"column":5}},"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":56,"column":5}},{"start":{"line":49,"column":4},"end":{"line":56,"column":5}}],"line":49},"2":{"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":55}},"type":"binary-expr","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":30}},{"start":{"line":49,"column":34},"end":{"line":49,"column":55}}],"line":49},"3":{"loc":{"start":{"line":50,"column":8},"end":{"line":51,"column":59}},"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":51,"column":59}},{"start":{"line":50,"column":8},"end":{"line":51,"column":59}}],"line":50},"4":{"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":47}},"type":"binary-expr","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":36}},{"start":{"line":50,"column":40},"end":{"line":50,"column":47}}],"line":50},"5":{"loc":{"start":{"line":54,"column":8},"end":{"line":55,"column":59}},"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":55,"column":59}},{"start":{"line":54,"column":8},"end":{"line":55,"column":59}}],"line":54}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/lambda/carts-lambda/index.ts"],"names":[],"mappings":";;AAAA,8CAA8D;AAC9D,yDAK4B;AAC5B,MAAM,MAAM,GAAG,IAAI,kBAAM,EAAE,CAAC;AAG5B,OAAO,CAAC,OAAO,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;IAC5B,MAAM,aAAa,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC5C,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,aAAa,CAAC,CAAC;IAChD,OAAO,aAAa,CAAC;AACvB,CAAC,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,uBAAuB,EAAE,QAAQ,CAAC,gBAAgB,CAAC,CAAC,CAAC;AAChE,MAAM,CAAC,MAAM,CAAC,4BAA4B,EAAE,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC;AACvE,MAAM,CAAC,GAAG,CAAC,uBAAuB,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;AAC7D,MAAM,CAAC,IAAI,CAAC,uBAAuB,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;AAE7D,OAAO;AACP,SAAS,QAAQ,CAAC,OAAY;IAC5B,OAAO,KAAK,EAAE,KAAK,EAAE,EAAE;QACrB,IAAI;YACF,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC;YACpC,OAAO;gBACL,UAAU,EAAE,MAAM,CAAC,UAAU,IAAI,GAAG;gBACpC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aAC7B,CAAC;SACH;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,OAAO;YACP,2DAA2D;SAC5D;IACH,CAAC,CAAC;AACJ,CAAC;AAED,KAAK,UAAU,aAAa,CAAC,CAAC;IAC5B,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,+BAAY,EAAC,CAAC,CAAC,CAAC;AAC/B,CAAC;AAED,KAAK,UAAU,YAAY,CAAC,CAAC;IAC3B,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,8BAAW,EAAC,CAAC,CAAC,CAAC;AAC9B,CAAC;AAED,KAAK,UAAU,gBAAgB,CAAC,CAAC;IAC/B,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,kCAAe,EAAC,CAAC,CAAC,CAAC;AAClC,CAAC;AAED,KAAK,UAAU,eAAe,CAAC,CAAC;IAC9B,MAAM,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,IAAA,iCAAc,EAAC,CAAC,CAAC,CAAC;AACjC,CAAC;AAED,KAAK,UAAU,iBAAiB,CAAC,CAAC;IAChC,IAAI,CAAC,CAAC,UAAU,IAAI,MAAM,IAAI,CAAC,CAAC,UAAU,IAAI,KAAK,EAAE;QACnD,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,IAAI;YAAE,MAAM,IAAI,sBAAU,CAAC,YAAY,CAAC,CAAC;KAC7E;SAAM;QACL,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM;YAAE,MAAM,IAAI,sBAAU,CAAC,YAAY,CAAC,CAAC;KAClE;AACH,CAAC","sourcesContent":["import { Router, BadRequest, response } from '/opt/sql-layer';\nimport {\n  getCartItems,\n  addCartItem,\n  updateCartItems,\n  deleteCartItem,\n} from './carts-controller';\nconst router = new Router();\n\n\nexports.handler = async (e) => {\n  const handlerResult = await router.route(e);\n  console.log('handlerResult :: ', handlerResult);\n  return handlerResult;\n};\n\nrouter.put('/carts/{userId}/items', handling(updateCartItemsL));\nrouter.delete('/carts/{userId}/items/{id}', handling(deleteCartItemL));\nrouter.get('/carts/{userId}/items', handling(getCartItemsL));\nrouter.post('/carts/{userId}/items', handling(addCartItemL));\n\n// util\nfunction handling(handler: any) {\n  return async (event) => {\n    try {\n      const result = await handler(event);\n      return {\n        statusCode: result.statusCode || 200,\n        body: JSON.stringify(result),\n      };\n    } catch (err) {\n      console.log(err);\n      return;\n      //return { statusCode: err.statusCode, body: err.message };\n    }\n  };\n}\n\nasync function getCartItemsL(e) {\n  await requestValidation(e);\n  return await getCartItems(e);\n}\n\nasync function addCartItemL(e): Promise<response> {\n  await requestValidation(e);\n  return await addCartItem(e);\n}\n\nasync function updateCartItemsL(e): Promise<response> {\n  await requestValidation(e);\n  return await updateCartItems(e);\n}\n\nasync function deleteCartItemL(e): Promise<response> {\n  await requestValidation(e);\n  return await deleteCartItem(e);\n}\n\nasync function requestValidation(e) {\n  if (e.httpMethod == 'POST' || e.httpMethod == 'PUT') {\n    if (!e.pathParameters.userId || !e.body) throw new BadRequest('no user id');\n  } else {\n    if (!e.pathParameters.userId) throw new BadRequest('no user id');\n  }\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/dummy.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/dummy.js","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"dummy.js","sourceRoot":"","sources":["../../../src/lambda/dummy.ts"],"names":[],"mappings":"","sourcesContent":[""]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/products-lambda/index.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/products-lambda/index.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":65}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":39}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":48}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":49}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"9":{"start":{"line":13,"column":0},"end":{"line":15,"column":2}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":37}},"11":{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},"12":{"start":{"line":19,"column":8},"end":{"line":22,"column":10}},"13":{"start":{"line":24,"column":17},"end":{"line":24,"column":27}},"14":{"start":{"line":25,"column":16},"end":{"line":25,"column":47}},"15":{"start":{"line":26,"column":4},"end":{"line":34,"column":8}},"16":{"start":{"line":27,"column":28},"end":{"line":30,"column":5}},"17":{"start":{"line":31,"column":27},"end":{"line":34,"column":5}},"18":{"start":{"line":36,"column":0},"end":{"line":36,"column":32}},"19":{"start":{"line":38,"column":4},"end":{"line":39,"column":70}},"20":{"start":{"line":39,"column":8},"end":{"line":39,"column":70}},"21":{"start":{"line":40,"column":15},"end":{"line":40,"column":28}},"22":{"start":{"line":41,"column":16},"end":{"line":41,"column":54}},"23":{"start":{"line":42,"column":4},"end":{"line":51,"column":9}},"24":{"start":{"line":43,"column":28},"end":{"line":46,"column":5}},"25":{"start":{"line":48,"column":27},"end":{"line":51,"column":5}},"26":{"start":{"line":54,"column":4},"end":{"line":55,"column":71}},"27":{"start":{"line":55,"column":8},"end":{"line":55,"column":71}},"28":{"start":{"line":56,"column":15},"end":{"line":56,"column":28}},"29":{"start":{"line":57,"column":16},"end":{"line":57,"column":56}},"30":{"start":{"line":58,"column":4},"end":{"line":67,"column":9}},"31":{"start":{"line":59,"column":28},"end":{"line":62,"column":5}},"32":{"start":{"line":64,"column":27},"end":{"line":67,"column":5}},"33":{"start":{"line":70,"column":4},"end":{"line":71,"column":82}},"34":{"start":{"line":71,"column":8},"end":{"line":71,"column":82}},"35":{"start":{"line":72,"column":4},"end":{"line":76,"column":10}},"36":{"start":{"line":73,"column":8},"end":{"line":76,"column":10}},"37":{"start":{"line":77,"column":17},"end":{"line":77,"column":32}},"38":{"start":{"line":78,"column":15},"end":{"line":78,"column":28}},"39":{"start":{"line":79,"column":16},"end":{"line":79,"column":55}},"40":{"start":{"line":80,"column":4},"end":{"line":89,"column":9}},"41":{"start":{"line":81,"column":28},"end":{"line":84,"column":5}},"42":{"start":{"line":86,"column":27},"end":{"line":89,"column":5}},"43":{"start":{"line":92,"column":22},"end":{"line":92,"column":42}},"44":{"start":{"line":93,"column":18},"end":{"line":93,"column":34}},"45":{"start":{"line":94,"column":20},"end":{"line":94,"column":38}},"46":{"start":{"line":95,"column":4},"end":{"line":95,"column":41}},"47":{"start":{"line":99,"column":4},"end":{"line":99,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":18},"end":{"line":13,"column":19}},"loc":{"start":{"line":13,"column":41},"end":{"line":15,"column":1}},"line":13},"1":{"name":"addProduct","decl":{"start":{"line":17,"column":15},"end":{"line":17,"column":25}},"loc":{"start":{"line":17,"column":33},"end":{"line":35,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":14},"end":{"line":27,"column":15}},"loc":{"start":{"line":27,"column":28},"end":{"line":30,"column":5}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":31,"column":15},"end":{"line":31,"column":16}},"loc":{"start":{"line":31,"column":27},"end":{"line":34,"column":5}},"line":31},"4":{"name":"deleteProductById","decl":{"start":{"line":37,"column":15},"end":{"line":37,"column":32}},"loc":{"start":{"line":37,"column":40},"end":{"line":52,"column":1}},"line":37},"5":{"name":"(anonymous_5)","decl":{"start":{"line":43,"column":14},"end":{"line":43,"column":15}},"loc":{"start":{"line":43,"column":28},"end":{"line":46,"column":5}},"line":43},"6":{"name":"(anonymous_6)","decl":{"start":{"line":48,"column":15},"end":{"line":48,"column":16}},"loc":{"start":{"line":48,"column":27},"end":{"line":51,"column":5}},"line":48},"7":{"name":"getProductInfoById","decl":{"start":{"line":53,"column":15},"end":{"line":53,"column":33}},"loc":{"start":{"line":53,"column":41},"end":{"line":68,"column":1}},"line":53},"8":{"name":"(anonymous_8)","decl":{"start":{"line":59,"column":14},"end":{"line":59,"column":15}},"loc":{"start":{"line":59,"column":28},"end":{"line":62,"column":5}},"line":59},"9":{"name":"(anonymous_9)","decl":{"start":{"line":64,"column":15},"end":{"line":64,"column":16}},"loc":{"start":{"line":64,"column":27},"end":{"line":67,"column":5}},"line":64},"10":{"name":"updateProductInfoById","decl":{"start":{"line":69,"column":15},"end":{"line":69,"column":36}},"loc":{"start":{"line":69,"column":44},"end":{"line":90,"column":1}},"line":69},"11":{"name":"(anonymous_11)","decl":{"start":{"line":81,"column":14},"end":{"line":81,"column":15}},"loc":{"start":{"line":81,"column":28},"end":{"line":84,"column":5}},"line":81},"12":{"name":"(anonymous_12)","decl":{"start":{"line":86,"column":15},"end":{"line":86,"column":16}},"loc":{"start":{"line":86,"column":27},"end":{"line":89,"column":5}},"line":86},"13":{"name":"getProductsInfo","decl":{"start":{"line":91,"column":15},"end":{"line":91,"column":30}},"loc":{"start":{"line":91,"column":38},"end":{"line":96,"column":1}},"line":91},"14":{"name":"validateProductInformation","decl":{"start":{"line":98,"column":9},"end":{"line":98,"column":35}},"loc":{"start":{"line":98,"column":42},"end":{"line":100,"column":1}},"line":98}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},{"start":{"line":18,"column":4},"end":{"line":23,"column":5}}],"line":18},"1":{"loc":{"start":{"line":38,"column":4},"end":{"line":39,"column":70}},"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":39,"column":70}},{"start":{"line":38,"column":4},"end":{"line":39,"column":70}}],"line":38},"2":{"loc":{"start":{"line":54,"column":4},"end":{"line":55,"column":71}},"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":55,"column":71}},{"start":{"line":54,"column":4},"end":{"line":55,"column":71}}],"line":54},"3":{"loc":{"start":{"line":70,"column":4},"end":{"line":71,"column":82}},"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":71,"column":82}},{"start":{"line":70,"column":4},"end":{"line":71,"column":82}}],"line":70},"4":{"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":42}},"type":"binary-expr","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":22}},{"start":{"line":70,"column":26},"end":{"line":70,"column":42}}],"line":70},"5":{"loc":{"start":{"line":72,"column":4},"end":{"line":76,"column":10}},"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":76,"column":10}},{"start":{"line":72,"column":4},"end":{"line":76,"column":10}}],"line":72}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/lambda/products-lambda/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { SQLConnectionManager, Router, response } from '/opt/sql-layer';\n\n// set routing\nconst router = new Router();\n\nrouter.post('/', addProduct);\nrouter.delete('/:productId', deleteProductById);\nrouter.get('/:productId', getProductInfoById);\nrouter.put('/:productId', updateProductInfoById);\nrouter.get('/', getProductsInfo);\n\n// handles routing and sends request\nexports.handler = async function (event) {\n  return await router.route(event);\n};\n\n// handlers\nexport async function addProduct(event): Promise<response> {\n  if (!validateProductInformation(event.body)) {\n    return {\n      statusCode: 422,\n      body: 'addProduct - Invalid product information',\n    };\n  }\n\n  const prod = event.body;\n  const sql = 'INSERT INTO dev.product SET ?';\n\n  return SQLConnectionManager.query(sql, [prod])\n    .then((results) => ({\n      statusCode: 201,\n      body: results,\n    }))\n    .catch((error) => ({\n      statusCode: error.statusCode,\n      body: error.message,\n    }));\n}\n\nasync function deleteProductById(event): Promise<response> {\n  if (!event.body.id)\n    return { statusCode: 400, body: 'deleteProductById - No id' };\n\n  const id = event.body.id;\n  const sql = 'DELETE FROM dev.product WHERE id = ?';\n\n  return (\n    SQLConnectionManager.query(sql, [id])\n      .then((results) => ({\n        statusCode: 204,\n        body: results,\n      }))\n      // todo check type of error if it is from invalid id (404) or connection error (599)\n      .catch((error) => ({\n        statusCode: error.statusCode,\n        body: error.message,\n      }))\n  );\n}\n\nasync function getProductInfoById(event): Promise<response> {\n  if (!event.body.id)\n    return { statusCode: 400, body: 'getProductInfoById - No id' };\n\n  const id = event.body.id;\n  const sql = 'SELECT * FROM dev.product WHERE id = ?';\n\n  return (\n    SQLConnectionManager.query(sql, [id])\n      .then((results) => ({\n        statusCode: 200,\n        body: results,\n      }))\n      // todo check type of error if it is from invalid id (404) or connection error (599)\n      .catch((error) => ({\n        statusCode: error.statusCode,\n        body: error.message,\n      }))\n  );\n}\n\nasync function updateProductInfoById(event): Promise<response> {\n  if (!event.body.id || !event.body.info)\n    return { statusCode: 400, body: 'updateProductInfoById - No id or info' };\n  if (!validateProductInformation(event.body.info))\n    return {\n      statusCode: 422,\n      body: 'updateProductInfoById - Invalid product information',\n    };\n\n  const info = event.body.info;\n  const id = event.body.id;\n  const sql = 'UPDATE dev.product SET ? WHERE id = ?';\n\n  return (\n    SQLConnectionManager.query(sql, [info, id])\n      .then((results) => ({\n        statusCode: 200,\n        body: results,\n      }))\n      // todo check type of error if it is from invalid id (404) or connection error (599)\n      .catch((error) => ({\n        statusCode: error.statusCode,\n        body: error.message,\n      }))\n  );\n}\n\nasync function getProductsInfo(event): Promise<response> {\n  const searchOpt = event.body.searchOpt;\n  const order = event.body.order;\n  const pageOpt = event.body.pageOpt;\n  return { statusCode: 300, body: '' };\n}\n\n// todo implement\nfunction validateProductInformation(prod) {\n  return prod === prod;\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/shipping-lambda/index.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/shipping-lambda/index.js","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/lambda/shipping-lambda/index.ts"],"names":[],"mappings":";AAAA,yCAAyC;AACzC,8DAA8D;AAC9D,2FAA2F;AAC3F,8DAA8D;AAC9D,yGAAyG;AACzG,EAAE;AACF,6BAA6B;AAC7B,EAAE;AACF,EAAE;AACF,wHAAwH;AACxH,EAAE;AACF,6CAA6C;AAC7C,qDAAqD;AACrD,kCAAkC;AAClC,oCAAoC;AACpC,sCAAsC;AACtC,uBAAuB;AACvB,gHAAgH;AAChH,+CAA+C;AAC/C,wBAAwB;AACxB,yDAAyD;AACzD,0JAA0J;AAC1J,2DAA2D;AAC3D,EAAE;AACF,qBAAqB;AACrB,0DAA0D;AAC1D,kBAAkB;AAClB,UAAU;AACV,uCAAuC;AACvC,yIAAyI;AACzI,iDAAiD;AACjD,UAAU;AACV,MAAM;AACN,EAAE;AACF,iCAAiC;AACjC,EAAE;AACF,6CAA6C;AAC7C,yCAAyC;AACzC,mBAAmB;AACnB,kBAAkB;AAClB,iDAAiD;AACjD,gGAAgG;AAChG,yCAAyC;AACzC,aAAa;AACb,uBAAuB;AACvB,4EAA4E;AAC5E,OAAO;AACP,KAAK","sourcesContent":["// noinspection SqlNoDataSourceInspection\n// eslint-disable-next-line @typescript-eslint/no-var-requires\n// const {query, Router, createConnection} = require(\"/opt/nodejs/node_modules/sql-layer\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\n// const {createTransporter, formMailOptions, sendEmail} = require(\"/opt/nodejs/node_modules/ses-layer\");\n//\n// const ses = new AWS.SES();\n//\n//\n// createConnection(process.env.RDS_HOSTNAME, process.env.RDS_USERNAME, process.env.RDS_PASSWORD, process.env.RDS_PORT);\n//\n// exports.handler = async function (event) {\n//   const sourceEmail = 'junglecart.test@gmail.com';\n//   const user = event.body.user;\n//   const order = event.body.order;\n//   let sqlCreateShippingStatus = '';\n//   const shipped = 3;\n//   const sqlUpdateOrderStatus = 'UPDATE order_status SET order_status_id = ${shipped} WHERE id = ${order.id}';\n//   let sqlLinkOrderItemToShippingStatus = '';\n//   let lastInsert = 0;\n//   for (let i = 0 ; i < order.order_item.length; i++) {\n//     sqlCreateShippingStatus = `INSERT INTO shipping_status (STATUS, EXPECTED_DELIVERY_DATE) VALUES ('shippied', ${order.order_item[i].expectedDate});`;\n//     query(sqlCreateShippingStatus, (error, results) => {\n//\n//       if (error) {\n//         console.error('Error executing query:', error);\n//         return;\n//       }\n//       lastInsert = results.insertId;\n//       sqlLinkOrderItemToShippingStatus = 'UPDATE order_item SET shipping_status_id = ${lastInsert} WHERE id = ${order.order_item[i]}';\n//       query(sqlLinkOrderItemToShippingStatus);\n//     });\n//   }\n//\n//   query(sqlUpdateOrderStatus);\n//\n//   const transporter = createTransporter();\n//   const mailOptions = formMailOptions(\n//     sourceEmail,\n//     user.email,\n//     \"Thank you! Your order has been shipped.\",\n//     \"Hello!\\nYour order ${order.id} has been shipped. \\n Best Regards, \\n Jungle Cart Team\");\n//   sendEmail(transporter, mailOptions);\n//   return {\n//     statusCode: 200,\n//     body: JSON.stringify({ message: 'Shipping completed successfully' }),\n//   };\n// };\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/index.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/index.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":26},"end":{"line":3,"column":83}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":65}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":60}},"5":{"start":{"line":7,"column":15},"end":{"line":7,"column":39}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":81}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":80}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":99}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":96}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":101}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":99}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":111}},"13":{"start":{"line":19,"column":0},"end":{"line":19,"column":102}},"14":{"start":{"line":20,"column":0},"end":{"line":20,"column":124}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":123}},"16":{"start":{"line":22,"column":0},"end":{"line":22,"column":120}},"17":{"start":{"line":24,"column":0},"end":{"line":24,"column":112}},"18":{"start":{"line":25,"column":0},"end":{"line":25,"column":109}},"19":{"start":{"line":26,"column":0},"end":{"line":26,"column":120}},"20":{"start":{"line":27,"column":0},"end":{"line":27,"column":122}},"21":{"start":{"line":45,"column":0},"end":{"line":52,"column":2}},"22":{"start":{"line":46,"column":4},"end":{"line":46,"column":41}},"23":{"start":{"line":47,"column":4},"end":{"line":47,"column":38}},"24":{"start":{"line":48,"column":4},"end":{"line":48,"column":48}},"25":{"start":{"line":49,"column":26},"end":{"line":49,"column":51}},"26":{"start":{"line":50,"column":4},"end":{"line":50,"column":53}},"27":{"start":{"line":51,"column":4},"end":{"line":51,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":45,"column":18},"end":{"line":45,"column":19}},"loc":{"start":{"line":45,"column":41},"end":{"line":52,"column":1}},"line":45}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/lambda/users-lambda/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { asyncWrap } from '/opt/asyncWrap-layer';\nimport { UserController } from './UserController';\nimport { Router } from '/opt/sql-layer';\nconst userController = new UserController();\nconst router = new Router();\n\n//// router\n\n// admin\nrouter.get('/users', asyncWrap(userController.listUsers));\nrouter.post('/users', asyncWrap(userController.addUser));\n\n// user\nrouter.put('/users/{userId}', asyncWrap(userController.updateUserInfoById));\nrouter.get('/users/{userId}', asyncWrap(userController.getUserInfoById));\n\nrouter.get('/users/{userId}/seller', asyncWrap(userController.getSellerInfo));\nrouter.get('/users/{userId}/buyer', asyncWrap(userController.getBuyerInfo));\n\n// address\nrouter.get(\n  '/users/{userId}/addresses',\n  asyncWrap(userController.getAddressesByUserId)\n);\nrouter.post('/users/{userId}/addresses', asyncWrap(userController.addAddress));\nrouter.get(\n  '/users/{userId}/addresses/{addressId}',\n  asyncWrap(userController.getAddressByAddressId)\n);\nrouter.delete(\n  '/users/{userId}/addresses/{addressId}',\n  asyncWrap(userController.deleteAddressById)\n);\nrouter.put(\n  '/users/{userId}/addresses/{addressId}',\n  asyncWrap(userController.updateAddressById)\n);\n\n// payment\nrouter.get(\n  '/users/{userId}/payments',\n  asyncWrap(userController.getPaymentInfoByUserId)\n);\nrouter.post(\n  '/users/{userId}/payments',\n  asyncWrap(userController.addPaymentByUserId)\n);\nrouter.put(\n  '/users/{userId}/payments/{paymentId}',\n  asyncWrap(userController.addPaymentByUserId)\n);\nrouter.delete(\n  '/users/{userId}/payments/{paymentId}',\n  asyncWrap(userController.deletePaymentById)\n);\n\n// DATABASE CONNECTON : LOCAL\n// createConnection(\n//   databaseLocal.mysql.host,\n//   databaseLocal.mysql.user,\n//   databaseLocal.mysql.password,\n//   databaseLocal.mysql.port,\n//   databaseLocal.mysql.database\n// );\n\n// DATABASE CONNECTION : RDS\n// createConnection(\n//   process.env.RDS_HOSTNAME,\n//   process.env.RDS_USERNAME,\n//   process.env.RDS_PASSWORD,\n//   process.env.RDS_PORT,\n//   process.env.RDS_DB\n// );\n\n// handles routing and sends request\nexports.handler = async function (event) {\n  console.log('<TEST::: USER STACK >');\n  console.log('<event ::: ', event);\n  console.log('<event body ::: ', event.body);\n  const handlerResult = await router.route(event);\n  console.log('handlerResult ::: ', handlerResult);\n  return handlerResult;\n};\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/user-dto.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/user-dto.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":0},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"user-dto.js","sourceRoot":"","sources":["../../../../src/lambda/users-lambda/user-dto.ts"],"names":[],"mappings":"","sourcesContent":["export interface User {\n  id?: number;\n  first_name?: string;\n  last_name?: string;\n  email?: string;\n  department?: string;\n}\n\nexport interface ICreateUserDto {\n  first_name: string;\n  last_name: string;\n  email: string;\n  department?: string;\n}\n\nexport interface IUpdateUserDto {\n  first_name?: string;\n  last_name?: string;\n  email?: string;\n  department?: string;\n}\n\nexport interface ICreateAddressDto {\n  id: number;\n  address_line_1: string;\n  address_line_2: string | null;\n  city: string;\n  province: string;\n  postal_code: string;\n  recipient: string;\n  telephone: string;\n}\n\nexport interface IUpdateAddressDto {\n  id: number;\n  preferred: boolean;\n  address_line_1: string;\n  address_line_2: string | null;\n  city: string;\n  province: string;\n  postal_code: string;\n  recipient: string;\n  telephone: string;\n}\n\nexport interface ICreatePaymentDto {\n  is_paypal?: boolean;\n  paypal_id?: string;\n  is_credit?: boolean;\n  bank_name?: string;\n  card_num?: string;\n  expiration_data: string;\n  first_name: string;\n  last_name: string;\n}\n\nexport interface ICreatePaymentPaypalDto {\n  is_paypal: boolean;\n  paypal_id: string;\n}\n\nexport interface ICreatePaymentCreditCardDto {\n  is_credit: boolean;\n  bank_name?: string;\n  card_num: string;\n  expiration_date: string;\n  first_name: string;\n  last_name: string;\n}\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/UserController.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/UserController.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":46}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":51}},"4":{"start":{"line":11,"column":22},"end":{"line":11,"column":51}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":48}},"6":{"start":{"line":15,"column":24},"end":{"line":15,"column":46}},"7":{"start":{"line":16,"column":21},"end":{"line":16,"column":59}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":47}},"9":{"start":{"line":21,"column":24},"end":{"line":21,"column":46}},"10":{"start":{"line":22,"column":21},"end":{"line":22,"column":55}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":47}},"12":{"start":{"line":26,"column":23},"end":{"line":26,"column":50}},"13":{"start":{"line":27,"column":21},"end":{"line":27,"column":62}},"14":{"start":{"line":28,"column":8},"end":{"line":28,"column":47}},"15":{"start":{"line":31,"column":25},"end":{"line":31,"column":47}},"16":{"start":{"line":32,"column":23},"end":{"line":32,"column":58}},"17":{"start":{"line":33,"column":32},"end":{"line":33,"column":86}},"18":{"start":{"line":34,"column":8},"end":{"line":40,"column":10}},"19":{"start":{"line":43,"column":23},"end":{"line":43,"column":58}},"20":{"start":{"line":44,"column":22},"end":{"line":44,"column":60}},"21":{"start":{"line":45,"column":8},"end":{"line":45,"column":48}},"22":{"start":{"line":48,"column":23},"end":{"line":48,"column":58}},"23":{"start":{"line":49,"column":23},"end":{"line":49,"column":62}},"24":{"start":{"line":50,"column":8},"end":{"line":50,"column":49}},"25":{"start":{"line":54,"column":23},"end":{"line":54,"column":50}},"26":{"start":{"line":55,"column":26},"end":{"line":55,"column":64}},"27":{"start":{"line":56,"column":8},"end":{"line":56,"column":52}},"28":{"start":{"line":59,"column":23},"end":{"line":59,"column":50}},"29":{"start":{"line":60,"column":26},"end":{"line":60,"column":72}},"30":{"start":{"line":61,"column":8},"end":{"line":61,"column":52}},"31":{"start":{"line":64,"column":38},"end":{"line":64,"column":58}},"32":{"start":{"line":65,"column":24},"end":{"line":65,"column":82}},"33":{"start":{"line":66,"column":8},"end":{"line":66,"column":50}},"34":{"start":{"line":69,"column":27},"end":{"line":69,"column":47}},"35":{"start":{"line":70,"column":27},"end":{"line":70,"column":49}},"36":{"start":{"line":71,"column":27},"end":{"line":71,"column":75}},"37":{"start":{"line":72,"column":8},"end":{"line":78,"column":10}},"38":{"start":{"line":81,"column":38},"end":{"line":81,"column":58}},"39":{"start":{"line":82,"column":8},"end":{"line":82,"column":63}},"40":{"start":{"line":83,"column":8},"end":{"line":83,"column":73}},"41":{"start":{"line":86,"column":38},"end":{"line":86,"column":58}},"42":{"start":{"line":87,"column":24},"end":{"line":87,"column":46}},"43":{"start":{"line":88,"column":31},"end":{"line":88,"column":94}},"44":{"start":{"line":89,"column":8},"end":{"line":95,"column":10}},"45":{"start":{"line":99,"column":23},"end":{"line":99,"column":50}},"46":{"start":{"line":100,"column":24},"end":{"line":100,"column":72}},"47":{"start":{"line":101,"column":8},"end":{"line":101,"column":50}},"48":{"start":{"line":104,"column":38},"end":{"line":104,"column":58}},"49":{"start":{"line":105,"column":24},"end":{"line":105,"column":86}},"50":{"start":{"line":106,"column":8},"end":{"line":106,"column":50}},"51":{"start":{"line":109,"column":23},"end":{"line":109,"column":50}},"52":{"start":{"line":110,"column":28},"end":{"line":110,"column":50}},"53":{"start":{"line":111,"column":26},"end":{"line":111,"column":83}},"54":{"start":{"line":112,"column":8},"end":{"line":112,"column":52}},"55":{"start":{"line":115,"column":38},"end":{"line":115,"column":58}},"56":{"start":{"line":116,"column":8},"end":{"line":116,"column":63}},"57":{"start":{"line":117,"column":8},"end":{"line":117,"column":73}},"58":{"start":{"line":120,"column":38},"end":{"line":120,"column":58}},"59":{"start":{"line":121,"column":28},"end":{"line":121,"column":50}},"60":{"start":{"line":122,"column":8},"end":{"line":122,"column":68}},"61":{"start":{"line":123,"column":8},"end":{"line":123,"column":73}},"62":{"start":{"line":126,"column":0},"end":{"line":126,"column":40}},"63":{"start":{"line":127,"column":0},"end":{"line":127,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":27},"end":{"line":13,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":29},"end":{"line":18,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":25},"end":{"line":24,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":33},"end":{"line":29,"column":5}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":36},"end":{"line":41,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":30},"end":{"line":46,"column":5}},"line":42},"7":{"name":"(anonymous_7)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":31},"end":{"line":51,"column":5}},"line":47},"8":{"name":"(anonymous_8)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":30},"end":{"line":57,"column":5}},"line":53},"9":{"name":"(anonymous_9)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":38},"end":{"line":62,"column":5}},"line":58},"10":{"name":"(anonymous_10)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":39},"end":{"line":67,"column":5}},"line":63},"11":{"name":"(anonymous_11)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":28},"end":{"line":79,"column":5}},"line":68},"12":{"name":"(anonymous_12)","decl":{"start":{"line":80,"column":4},"end":{"line":80,"column":5}},"loc":{"start":{"line":80,"column":35},"end":{"line":84,"column":5}},"line":80},"13":{"name":"(anonymous_13)","decl":{"start":{"line":85,"column":4},"end":{"line":85,"column":5}},"loc":{"start":{"line":85,"column":35},"end":{"line":96,"column":5}},"line":85},"14":{"name":"(anonymous_14)","decl":{"start":{"line":98,"column":4},"end":{"line":98,"column":5}},"loc":{"start":{"line":98,"column":40},"end":{"line":102,"column":5}},"line":98},"15":{"name":"(anonymous_15)","decl":{"start":{"line":103,"column":4},"end":{"line":103,"column":5}},"loc":{"start":{"line":103,"column":43},"end":{"line":107,"column":5}},"line":103},"16":{"name":"(anonymous_16)","decl":{"start":{"line":108,"column":4},"end":{"line":108,"column":5}},"loc":{"start":{"line":108,"column":36},"end":{"line":113,"column":5}},"line":108},"17":{"name":"(anonymous_17)","decl":{"start":{"line":114,"column":4},"end":{"line":114,"column":5}},"loc":{"start":{"line":114,"column":35},"end":{"line":118,"column":5}},"line":114},"18":{"name":"(anonymous_18)","decl":{"start":{"line":119,"column":4},"end":{"line":119,"column":5}},"loc":{"start":{"line":119,"column":35},"end":{"line":124,"column":5}},"line":119}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{},"inputSourceMap":{"version":3,"file":"UserController.js","sourceRoot":"","sources":["../../../../src/lambda/users-lambda/UserController.ts"],"names":[],"mappings":"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","sourcesContent":["type res = { statusCode: number; body: object | string };\nimport { UserService } from './UserService';\nconst userService = new UserService();\n\nexport class UserController {\n  constructor() {\n    //\n  }\n  public async listUsers(event) {\n    const users = await userService.listUsers();\n    return { statusCode: 200, body: users };\n  }\n\n  public async addTempUser(event) {\n    const newUser = JSON.parse(event.body);\n    const user = await userService.addTempUser(newUser);\n    return { statusCode: 200, body: user };\n  }\n\n  // user\n  public async addUser(event) {\n    const newUser = JSON.parse(event.body);\n    const user = await userService.addUser(newUser);\n    return { statusCode: 200, body: user };\n  }\n\n  public async getUserInfoById(event) {\n    const userId = event.pathParameters.userId;\n    const user = await userService.getUserInfoById(userId);\n    return { statusCode: 200, body: user };\n  }\n\n  public async updateUserInfoById(event) {\n    const userInfo = JSON.parse(event.body);\n    const userId = Number(event.pathParameters.userId);\n    const updatedUserInfo = await userService.updateUserInfoById(\n      userId,\n      userInfo\n    );\n    return {\n      statusCode: 200,\n      body: {\n        message: 'updated user info',\n        address: updatedUserInfo,\n      },\n    };\n  }\n\n  public async getBuyerInfo(event) {\n    const userId = Number(event.pathParameters.userId);\n    const buyer = await userService.getBuyerInfo(userId);\n    return { statusCode: 200, body: buyer };\n  }\n\n  public async getSellerInfo(event) {\n    const userId = Number(event.pathParameters.userId);\n    const seller = await userService.getSellerInfo(userId);\n    return { statusCode: 200, body: seller };\n  }\n\n  // Address\n  public async getAddresses(event) {\n    const userId = event.pathParameters.userId;\n    const addresses = await userService.getAddresses(userId);\n    return { statusCode: 200, body: addresses };\n  }\n\n  public async getAddressesByUserId(event) {\n    const userId = event.pathParameters.userId;\n    const addresses = await userService.getAddressesByUserId(userId);\n    return { statusCode: 200, body: addresses };\n  }\n\n  public async getAddressByAddressId(event) {\n    const { userId, addressId } = event.pathParameters;\n    const address = await userService.getAddressByAddressId(userId, addressId);\n    return { statusCode: 200, body: address };\n  }\n\n  public async addAddress(event) {\n    const { userId } = event.pathParameters;\n    const addressReq = JSON.parse(event.body);\n    const newAddress = await userService.addAddress(userId, addressReq);\n    return {\n      statusCode: 200,\n      body: {\n        message: 'created address.',\n        address: newAddress,\n      },\n    };\n  }\n\n  public async deleteAddressById(event) {\n    const { userId, addressId } = event.pathParameters;\n    await userService.deleteAddressById(userId, addressId);\n    return { statusCode: 200, body: { message: 'deleted address' } };\n  }\n\n  public async updateAddressById(event) {\n    const { userId, addressId } = event.pathParameters;\n    const addInfo = JSON.parse(event.body);\n    const updatedAddress = await userService.updateAddressById(\n      userId,\n      addressId,\n      addInfo\n    );\n    return {\n      statusCode: 200,\n      body: {\n        message: 'updated address.',\n        address: updatedAddress,\n      },\n    };\n  }\n\n  // payment\n  public async getPaymentInfoByUserId(event) {\n    const userId = event.pathParameters.userId;\n    const payment = await userService.getPaymentInfoByUserId(userId);\n    return { statusCode: 200, body: payment };\n  }\n\n  public async getPaymentInfoByPaymentId(event) {\n    const { userId, paymentId } = event.pathParameters;\n    const payment = await userService.getPaymentInfoByPaymentId(\n      userId,\n      paymentId\n    );\n    return { statusCode: 200, body: payment };\n  }\n\n  public async addPaymentByUserId(event) {\n    const userId = event.pathParameters.userId;\n    const paymentInfo = JSON.parse(event.body);\n    const paymentId = await userService.addPaymentByUserId(userId, paymentInfo);\n    return { statusCode: 200, body: paymentId };\n  }\n\n  public async deletePaymentById(event) {\n    const { userId, paymentId } = event.pathParameters;\n    await userService.deletePaymentById(userId, paymentId);\n    return { statusCode: 200, body: { message: 'deleted payment' } };\n  }\n\n  public async updatePaymentById(event) {\n    const { userId, paymentId } = event.pathParameters;\n    const paymentInfo = JSON.parse(event.body);\n    await userService.updatePaymentById(paymentId, paymentInfo);\n    return { statusCode: 200, body: { message: 'updated payment' } };\n  }\n}\n\nmodule.exports = { UserController };\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/UserModel.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/UserModel.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":29},"end":{"line":4,"column":92}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":65}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":89}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":47}},"6":{"start":{"line":13,"column":22},"end":{"line":13,"column":78}},"7":{"start":{"line":14,"column":22},"end":{"line":14,"column":53}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":32}},"9":{"start":{"line":19,"column":22},"end":{"line":19,"column":79}},"10":{"start":{"line":20,"column":28},"end":{"line":20,"column":59}},"11":{"start":{"line":21,"column":23},"end":{"line":21,"column":53}},"12":{"start":{"line":22,"column":8},"end":{"line":22,"column":43}},"13":{"start":{"line":25,"column":22},"end":{"line":25,"column":95}},"14":{"start":{"line":26,"column":21},"end":{"line":26,"column":52}},"15":{"start":{"line":27,"column":8},"end":{"line":27,"column":30}},"16":{"start":{"line":30,"column":22},"end":{"line":30,"column":87}},"17":{"start":{"line":31,"column":8},"end":{"line":31,"column":47}},"18":{"start":{"line":32,"column":28},"end":{"line":32,"column":59}},"19":{"start":{"line":33,"column":8},"end":{"line":33,"column":50}},"20":{"start":{"line":37,"column":22},"end":{"line":78,"column":5}},"21":{"start":{"line":79,"column":28},"end":{"line":79,"column":59}},"22":{"start":{"line":80,"column":26},"end":{"line":80,"column":63}},"23":{"start":{"line":81,"column":8},"end":{"line":81,"column":40}},"24":{"start":{"line":84,"column":22},"end":{"line":96,"column":26}},"25":{"start":{"line":97,"column":28},"end":{"line":97,"column":59}},"26":{"start":{"line":98,"column":8},"end":{"line":98,"column":65}},"27":{"start":{"line":102,"column":22},"end":{"line":124,"column":41}},"28":{"start":{"line":125,"column":28},"end":{"line":125,"column":59}},"29":{"start":{"line":126,"column":34},"end":{"line":126,"column":78}},"30":{"start":{"line":127,"column":30},"end":{"line":127,"column":70}},"31":{"start":{"line":128,"column":26},"end":{"line":128,"column":62}},"32":{"start":{"line":129,"column":8},"end":{"line":129,"column":40}},"33":{"start":{"line":133,"column":22},"end":{"line":133,"column":81}},"34":{"start":{"line":134,"column":26},"end":{"line":134,"column":57}},"35":{"start":{"line":135,"column":8},"end":{"line":135,"column":40}},"36":{"start":{"line":138,"column":22},"end":{"line":138,"column":105}},"37":{"start":{"line":139,"column":28},"end":{"line":139,"column":59}},"38":{"start":{"line":140,"column":8},"end":{"line":140,"column":40}},"39":{"start":{"line":143,"column":24},"end":{"line":143,"column":41}},"40":{"start":{"line":144,"column":8},"end":{"line":144,"column":36}},"41":{"start":{"line":145,"column":22},"end":{"line":145,"column":108}},"42":{"start":{"line":146,"column":28},"end":{"line":146,"column":59}},"43":{"start":{"line":147,"column":26},"end":{"line":147,"column":56}},"44":{"start":{"line":148,"column":8},"end":{"line":151,"column":9}},"45":{"start":{"line":149,"column":26},"end":{"line":149,"column":114}},"46":{"start":{"line":150,"column":12},"end":{"line":150,"column":44}},"47":{"start":{"line":152,"column":8},"end":{"line":152,"column":48}},"48":{"start":{"line":155,"column":8},"end":{"line":158,"column":9}},"49":{"start":{"line":156,"column":26},"end":{"line":156,"column":114}},"50":{"start":{"line":157,"column":12},"end":{"line":157,"column":44}},"51":{"start":{"line":159,"column":24},"end":{"line":159,"column":41}},"52":{"start":{"line":160,"column":8},"end":{"line":160,"column":36}},"53":{"start":{"line":161,"column":22},"end":{"line":161,"column":95}},"54":{"start":{"line":162,"column":28},"end":{"line":162,"column":59}},"55":{"start":{"line":163,"column":8},"end":{"line":163,"column":23}},"56":{"start":{"line":166,"column":22},"end":{"line":166,"column":96}},"57":{"start":{"line":167,"column":8},"end":{"line":167,"column":47}},"58":{"start":{"line":171,"column":20},"end":{"line":172,"column":114}},"59":{"start":{"line":173,"column":24},"end":{"line":173,"column":53}},"60":{"start":{"line":174,"column":8},"end":{"line":174,"column":36}},"61":{"start":{"line":177,"column":22},"end":{"line":179,"column":10}},"62":{"start":{"line":180,"column":24},"end":{"line":180,"column":55}},"63":{"start":{"line":181,"column":8},"end":{"line":181,"column":36}},"64":{"start":{"line":184,"column":22},"end":{"line":184,"column":92}},"65":{"start":{"line":185,"column":28},"end":{"line":185,"column":59}},"66":{"start":{"line":186,"column":26},"end":{"line":186,"column":56}},"67":{"start":{"line":187,"column":28},"end":{"line":187,"column":111}},"68":{"start":{"line":188,"column":29},"end":{"line":188,"column":66}},"69":{"start":{"line":189,"column":8},"end":{"line":189,"column":27}},"70":{"start":{"line":192,"column":22},"end":{"line":192,"column":100}},"71":{"start":{"line":193,"column":28},"end":{"line":193,"column":59}},"72":{"start":{"line":194,"column":8},"end":{"line":194,"column":27}},"73":{"start":{"line":197,"column":22},"end":{"line":197,"column":103}},"74":{"start":{"line":198,"column":8},"end":{"line":198,"column":47}},"75":{"start":{"line":201,"column":22},"end":{"line":201,"column":86}},"76":{"start":{"line":202,"column":23},"end":{"line":202,"column":54}},"77":{"start":{"line":203,"column":8},"end":{"line":203,"column":48}},"78":{"start":{"line":206,"column":22},"end":{"line":206,"column":102}},"79":{"start":{"line":207,"column":26},"end":{"line":207,"column":57}},"80":{"start":{"line":210,"column":8},"end":{"line":218,"column":9}},"81":{"start":{"line":211,"column":27},"end":{"line":211,"column":87}},"82":{"start":{"line":212,"column":12},"end":{"line":212,"column":26}},"83":{"start":{"line":215,"column":24},"end":{"line":215,"column":29}},"84":{"start":{"line":216,"column":12},"end":{"line":216,"column":19}},"85":{"start":{"line":221,"column":0},"end":{"line":221,"column":30}},"86":{"start":{"line":222,"column":0},"end":{"line":222,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":32},"end":{"line":11,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":22},"end":{"line":16,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":28},"end":{"line":23,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":30},"end":{"line":28,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":47},"end":{"line":34,"column":5}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":27},"end":{"line":82,"column":5}},"line":35},"6":{"name":"(anonymous_6)","decl":{"start":{"line":83,"column":4},"end":{"line":83,"column":5}},"loc":{"start":{"line":83,"column":34},"end":{"line":99,"column":5}},"line":83},"7":{"name":"(anonymous_7)","decl":{"start":{"line":101,"column":4},"end":{"line":101,"column":5}},"loc":{"start":{"line":101,"column":39},"end":{"line":131,"column":5}},"line":101},"8":{"name":"(anonymous_8)","decl":{"start":{"line":132,"column":4},"end":{"line":132,"column":5}},"loc":{"start":{"line":132,"column":32},"end":{"line":136,"column":5}},"line":132},"9":{"name":"(anonymous_9)","decl":{"start":{"line":137,"column":4},"end":{"line":137,"column":5}},"loc":{"start":{"line":137,"column":51},"end":{"line":141,"column":5}},"line":137},"10":{"name":"(anonymous_10)","decl":{"start":{"line":142,"column":4},"end":{"line":142,"column":5}},"loc":{"start":{"line":142,"column":41},"end":{"line":153,"column":5}},"line":142},"11":{"name":"(anonymous_11)","decl":{"start":{"line":154,"column":4},"end":{"line":154,"column":5}},"loc":{"start":{"line":154,"column":59},"end":{"line":164,"column":5}},"line":154},"12":{"name":"(anonymous_12)","decl":{"start":{"line":165,"column":4},"end":{"line":165,"column":5}},"loc":{"start":{"line":165,"column":47},"end":{"line":168,"column":5}},"line":165},"13":{"name":"(anonymous_13)","decl":{"start":{"line":170,"column":4},"end":{"line":170,"column":5}},"loc":{"start":{"line":170,"column":41},"end":{"line":175,"column":5}},"line":170},"14":{"name":"(anonymous_14)","decl":{"start":{"line":176,"column":4},"end":{"line":176,"column":5}},"loc":{"start":{"line":176,"column":55},"end":{"line":182,"column":5}},"line":176},"15":{"name":"(anonymous_15)","decl":{"start":{"line":183,"column":4},"end":{"line":183,"column":5}},"loc":{"start":{"line":183,"column":50},"end":{"line":190,"column":5}},"line":183},"16":{"name":"(anonymous_16)","decl":{"start":{"line":191,"column":4},"end":{"line":191,"column":5}},"loc":{"start":{"line":191,"column":49},"end":{"line":195,"column":5}},"line":191},"17":{"name":"(anonymous_17)","decl":{"start":{"line":196,"column":4},"end":{"line":196,"column":5}},"loc":{"start":{"line":196,"column":47},"end":{"line":199,"column":5}},"line":196},"18":{"name":"(anonymous_18)","decl":{"start":{"line":200,"column":4},"end":{"line":200,"column":5}},"loc":{"start":{"line":200,"column":34},"end":{"line":204,"column":5}},"line":200},"19":{"name":"(anonymous_19)","decl":{"start":{"line":205,"column":4},"end":{"line":205,"column":5}},"loc":{"start":{"line":205,"column":43},"end":{"line":208,"column":5}},"line":205},"20":{"name":"(anonymous_20)","decl":{"start":{"line":209,"column":4},"end":{"line":209,"column":5}},"loc":{"start":{"line":209,"column":36},"end":{"line":219,"column":5}},"line":209}},"branchMap":{"0":{"loc":{"start":{"line":148,"column":8},"end":{"line":151,"column":9}},"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":151,"column":9}},{"start":{"line":148,"column":8},"end":{"line":151,"column":9}}],"line":148},"1":{"loc":{"start":{"line":155,"column":8},"end":{"line":158,"column":9}},"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":158,"column":9}},{"start":{"line":155,"column":8},"end":{"line":158,"column":9}}],"line":155}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"UserModel.js","sourceRoot":"","sources":["../../../../src/lambda/users-lambda/UserModel.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  insertBuilder,\n  deleteBuilder,\n  updateBuilder,\n  selectBuilder,\n} from '/opt/queryBuilder-layer';\nimport { CustomError, errorGenerator } from '/opt/customError-layer';\nimport { SQLConnectionManager } from '/opt/sql-layer';\n\nexport class UserModel {\n  // admin\n  public async addTempUser(userInfo) {\n    const query = insertBuilder(userInfo, 'temporary_user');\n    return await this.sendQueryPool(query);\n  }\n\n  public async listUsers() {\n    const query = selectBuilder(['all'], 'user');\n    const users = await this.sendQueryPool(query);\n    return { users: users };\n  }\n\n  // User\n  public async addUser(userInfo) {\n    const query = insertBuilder(userInfo, 'user');\n    const queryResult = await this.sendQueryPool(query);\n    const userId = { ...queryResult }['insertId'];\n    return { ...userInfo, id: userId };\n  }\n\n  public async getUserInfoById(id) {\n    const query = selectBuilder(['all'], 'user', { id: `${id}` });\n    const user = await this.sendQueryPool(query);\n    return { user: user };\n  }\n\n  public async updateUserInfoById(userId, userInfo) {\n    const query = updateBuilder(userId, userInfo, 'user');\n    return await this.sendQueryPool(query);\n    const queryResult = await this.sendQueryPool(query);\n    return await this.getUserInfoById(userId);\n  }\n\n  public async getBuyerInfo(id) {\n    // language=SQL format=false\n    const query = `\n    SELECT JSON_OBJECT(\n      'address', JSON_OBJECT(\n        'line1', address.address_line_1,\n        'line2', address.address_line_2,\n        'city', address.city,\n        'province', address.province,\n        'postalcode', address.postal_code\n      ),\n      'orders', JSON_ARRAYAGG(\n        JSON_OBJECT(\n          'id', orders.id,\n          'status', order_status.label,\n          'products', (\n            SELECT JSON_ARRAYAGG(\n              JSON_OBJECT(\n                'id', product.id,\n                'name', product.name,\n                'price', ROUND(product.price, 2),\n                'description', product.description,\n                'status', product_status.label,\n                'img', product_multimedia.url\n              )\n            )\n            FROM product\n            LEFT JOIN order_item ON order_item.product_id = product.id\n            LEFT JOIN product_multimedia ON product.id = product_multimedia.product_id\n            JOIN shipping_status ON order_item.shipping_status_id = shipping_status.id\n            JOIN product_status ON product.product_status_id = product_status.id\n            WHERE order_item.order_id = orders.id\n          ),\n          'created_at', orders.created_at\n        )\n      )\n    ) AS buyer_info\n  FROM (select * from buyer where buyer.id=${id}) as buyer\n  JOIN user ON user.id = buyer.id\n  JOIN orders ON orders.buyer_id = buyer.id\n  JOIN order_status ON orders.order_status_id = order_status.id\n  JOIN address ON address.id = buyer.pref_address_id\n  GROUP BY buyer.id;\n    `;\n    const queryResult = await this.sendQueryPool(query);\n    const buyerInfo = JSON.parse(queryResult![0].buyer_info);\n    return { buyerInfo: buyerInfo };\n  }\n\n  public async getSellerInfo(sellerId) {\n    const query = `SELECT JSON_ARRAYAGG(JSON_OBJECT(\n      'id', product.id, \n      'name', product.name, \n      'price', ROUND(product.price, 2), \n      'description', product.description, \n      'status', product_status.label, \n      'img', product_multimedia.url)) as products\n      FROM (select * from product ORDER BY product.id) as product\n      LEFT JOIN product_multimedia ON product.id = product_multimedia.product_id \n      LEFT JOIN seller ON product.seller_id = seller.id\n      JOIN product_status ON product.product_status_id = product_status.id \n      where seller.id = ${sellerId}\n      GROUP BY seller.id;`;\n    const queryResult = await this.sendQueryPool(query);\n    return { products: JSON.parse(queryResult![0].products) };\n  }\n\n  // Address\n  public async getAddressesByUserId(userId) {\n    const query =\n      `SELECT ` +\n      `JSON_OBJECT(` +\n      `'id', preferred_address.id, ` +\n      `'address_line_1', preferred_address.address_line_1, ` +\n      `'address_line_2', preferred_address.address_line_2, ` +\n      `'city', preferred_address.city, ` +\n      `'province', preferred_address.province, ` +\n      `'recipient', preferred_address.recipient, ` +\n      `'telephone', preferred_address.telephone` +\n      `) AS preferred_address, ` +\n      `JSON_ARRAYAGG(JSON_OBJECT(` +\n      `'id', other_address.id, ` +\n      `'address_line_1', other_address.address_line_1, ` +\n      `'address_line_2', other_address.address_line_2, ` +\n      `'city', other_address.city, ` +\n      `'province', other_address.province,` +\n      `'recipient', other_address.recipient, ` +\n      `'telephone', other_address.telephone` +\n      `)) AS other_address ` +\n      `FROM buyer ` +\n      `LEFT JOIN address AS preferred_address ON buyer.pref_address_id = preferred_address.id ` +\n      `LEFT JOIN address AS other_address ON buyer.id = other_address.user_id AND buyer.pref_address_id <> other_address.id ` +\n      `WHERE buyer.id = ${userId};`;\n    const queryResult = await this.sendQueryPool(query);\n    const preferred_address = JSON.parse(queryResult![0].preferred_address);\n    const other_address = JSON.parse(queryResult![0].other_address);\n    const addresses = { preferred_address, other_address };\n    return { addresses: addresses };\n    //return queryResult;\n  }\n\n  public async getAddresses(adminId) {\n    const query = selectBuilder(['all'], 'address');\n    const addresses = await this.sendQueryPool(query);\n    return { addresses: addresses };\n  }\n\n  public async getAddressByAddressId(userId, addressId) {\n    const query = selectBuilder(['all'], 'address', { id: `${addressId}` });\n    const queryResult = await this.sendQueryPool(query);\n    return { address: queryResult };\n  }\n\n  public async addAddress(userId, newAddress) {\n    const updated = { ...newAddress };\n    delete newAddress.preferred;\n\n    const query = insertBuilder({ ...newAddress, user_id: userId }, 'address');\n    const queryResult = await this.sendQueryPool(query);\n    const addressId = { ...queryResult }['insertId'];\n    if (updated.preferred) {\n      const query = updateBuilder(\n        userId,\n        { pref_address_id: addressId },\n        'buyer'\n      );\n      await this.sendQueryPool(query);\n    }\n    return { ...newAddress, id: addressId };\n  }\n\n  public async updateAddressById(userId, addressId, newAddress) {\n    if (newAddress.preferred) {\n      const query = updateBuilder(\n        userId,\n        { pref_address_id: addressId },\n        'buyer'\n      );\n      await this.sendQueryPool(query);\n    }\n    const updated = { ...newAddress };\n    delete newAddress.preferred;\n    const query = updateBuilder(addressId, newAddress, 'address');\n    const queryResult = await this.sendQueryPool(query);\n    return updated;\n  }\n\n  public async deleteAddressById(userId, addressId) {\n    const query = deleteBuilder({ id: `${addressId}` }, 'address');\n    return await this.sendQueryPool(query);\n  }\n\n  // payment\n  public async getPaymentInfoByUserId(userId) {\n    const sql = `\n      SELECT * FROM payment_method JOIN buyer ON payment_method.id = buyer.pref_pm_id where buyer.id = ${userId};`;\n    const payment = await this.sendQueryPool(sql);\n    return { payment: payment };\n  }\n  public async getPaymentInfoByPaymentId(userId, paymentId) {\n    const query = selectBuilder(['all'], 'payment_method', {\n      id: `${paymentId}`,\n    });\n    const payment = await this.sendQueryPool(query);\n    return { payment: payment };\n  }\n\n  public async addPaymentByUserId(userId, paymentInfo) {\n    const query = insertBuilder(paymentInfo, 'payment_method');\n    const queryResult = await this.sendQueryPool(query);\n    const paymentId = { ...queryResult }['insertId'];\n    const updateQuery = updateBuilder(\n      userId,\n      { pref_pm_id: paymentId },\n      'buyer'\n    );\n    const updateResult = await this.sendQueryPool(updateQuery);\n    return paymentInfo;\n  }\n\n  public async updatePaymentById(userId, paymentInfo) {\n    const query = updateBuilder(userId, paymentInfo, 'payment_method');\n    const queryResult = await this.sendQueryPool(query);\n    return paymentInfo;\n  }\n\n  public async deletePaymentById(userId, addressId) {\n    const query = deleteBuilder({ id: `${addressId}` }, 'payment_method');\n    return await this.sendQueryPool(query);\n  }\n  public async checkIdExist(id: number, table: string) {\n    const query = `SELECT EXISTS (SELECT 1 FROM ${table} where id=${id}) ${table}`;\n    const result = await this.sendQueryPool(query);\n    return /^1/.test(result![0][`${table}`]);\n  }\n\n  public async checkBuyerHasPaymentInfo(userId: number) {\n    const query = selectBuilder(['pref_pm_id'], 'buyer', { id: userId });\n    const paymentId = await this.sendQueryPool(query);\n  }\n\n  public async sendQueryPool(query: string, set?) {\n    try {\n      const result = await SQLConnectionManager.queryPool(query, set);\n      return result;\n    } catch (error) {\n      const err = error as typeof CustomError;\n      return;\n      // errorGenerator(err.statusCode, err.message);\n    }\n  }\n}\n\nmodule.exports = { UserModel };\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/UserService.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/lambda/users-lambda/UserService.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":89}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":42}},"4":{"start":{"line":6,"column":18},"end":{"line":6,"column":45}},"5":{"start":{"line":13,"column":8},"end":{"line":13,"column":43}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":52}},"7":{"start":{"line":20,"column":8},"end":{"line":20,"column":45}},"8":{"start":{"line":23,"column":8},"end":{"line":23,"column":48}},"9":{"start":{"line":24,"column":8},"end":{"line":24,"column":48}},"10":{"start":{"line":25,"column":8},"end":{"line":25,"column":68}},"11":{"start":{"line":28,"column":8},"end":{"line":28,"column":48}},"12":{"start":{"line":29,"column":8},"end":{"line":29,"column":55}},"13":{"start":{"line":32,"column":8},"end":{"line":32,"column":50}},"14":{"start":{"line":33,"column":8},"end":{"line":33,"column":53}},"15":{"start":{"line":36,"column":8},"end":{"line":36,"column":52}},"16":{"start":{"line":37,"column":8},"end":{"line":37,"column":55}},"17":{"start":{"line":41,"column":8},"end":{"line":41,"column":48}},"18":{"start":{"line":42,"column":8},"end":{"line":42,"column":48}},"19":{"start":{"line":45,"column":8},"end":{"line":45,"column":48}},"20":{"start":{"line":46,"column":8},"end":{"line":46,"column":60}},"21":{"start":{"line":49,"column":8},"end":{"line":49,"column":48}},"22":{"start":{"line":50,"column":8},"end":{"line":50,"column":54}},"23":{"start":{"line":51,"column":8},"end":{"line":51,"column":72}},"24":{"start":{"line":54,"column":8},"end":{"line":54,"column":48}},"25":{"start":{"line":55,"column":8},"end":{"line":55,"column":54}},"26":{"start":{"line":56,"column":8},"end":{"line":56,"column":68}},"27":{"start":{"line":59,"column":8},"end":{"line":59,"column":48}},"28":{"start":{"line":60,"column":8},"end":{"line":60,"column":54}},"29":{"start":{"line":61,"column":27},"end":{"line":61,"column":66}},"30":{"start":{"line":62,"column":8},"end":{"line":62,"column":80}},"31":{"start":{"line":65,"column":8},"end":{"line":65,"column":48}},"32":{"start":{"line":66,"column":27},"end":{"line":66,"column":66}},"33":{"start":{"line":67,"column":8},"end":{"line":67,"column":62}},"34":{"start":{"line":71,"column":8},"end":{"line":76,"column":9}},"35":{"start":{"line":72,"column":12},"end":{"line":75,"column":15}},"36":{"start":{"line":77,"column":8},"end":{"line":77,"column":15}},"37":{"start":{"line":80,"column":8},"end":{"line":85,"column":9}},"38":{"start":{"line":81,"column":12},"end":{"line":84,"column":15}},"39":{"start":{"line":86,"column":8},"end":{"line":99,"column":9}},"40":{"start":{"line":95,"column":12},"end":{"line":98,"column":15}},"41":{"start":{"line":100,"column":8},"end":{"line":100,"column":35}},"42":{"start":{"line":104,"column":8},"end":{"line":104,"column":48}},"43":{"start":{"line":105,"column":8},"end":{"line":105,"column":62}},"44":{"start":{"line":108,"column":8},"end":{"line":108,"column":48}},"45":{"start":{"line":109,"column":8},"end":{"line":109,"column":61}},"46":{"start":{"line":110,"column":8},"end":{"line":110,"column":76}},"47":{"start":{"line":113,"column":8},"end":{"line":113,"column":48}},"48":{"start":{"line":114,"column":26},"end":{"line":114,"column":74}},"49":{"start":{"line":115,"column":33},"end":{"line":115,"column":73}},"50":{"start":{"line":116,"column":8},"end":{"line":121,"column":9}},"51":{"start":{"line":117,"column":12},"end":{"line":117,"column":79}},"52":{"start":{"line":120,"column":12},"end":{"line":120,"column":80}},"53":{"start":{"line":124,"column":8},"end":{"line":124,"column":61}},"54":{"start":{"line":125,"column":8},"end":{"line":125,"column":68}},"55":{"start":{"line":128,"column":8},"end":{"line":128,"column":61}},"56":{"start":{"line":129,"column":8},"end":{"line":129,"column":73}},"57":{"start":{"line":132,"column":8},"end":{"line":137,"column":9}},"58":{"start":{"line":133,"column":12},"end":{"line":136,"column":15}},"59":{"start":{"line":138,"column":28},"end":{"line":138,"column":39}},"60":{"start":{"line":139,"column":8},"end":{"line":148,"column":9}},"61":{"start":{"line":140,"column":12},"end":{"line":147,"column":15}},"62":{"start":{"line":149,"column":8},"end":{"line":160,"column":9}},"63":{"start":{"line":150,"column":12},"end":{"line":159,"column":13}},"64":{"start":{"line":155,"column":16},"end":{"line":158,"column":19}},"65":{"start":{"line":161,"column":8},"end":{"line":166,"column":9}},"66":{"start":{"line":162,"column":12},"end":{"line":165,"column":15}},"67":{"start":{"line":167,"column":8},"end":{"line":167,"column":23}},"68":{"start":{"line":170,"column":23},"end":{"line":170,"column":62}},"69":{"start":{"line":171,"column":8},"end":{"line":176,"column":9}},"70":{"start":{"line":172,"column":12},"end":{"line":175,"column":15}},"71":{"start":{"line":177,"column":8},"end":{"line":177,"column":15}},"72":{"start":{"line":180,"column":8},"end":{"line":180,"column":51}},"73":{"start":{"line":183,"column":0},"end":{"line":183,"column":34}},"74":{"start":{"line":184,"column":0},"end":{"line":184,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":10,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":22},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":31},"end":{"line":17,"column":5}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":24},"end":{"line":21,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":47},"end":{"line":26,"column":5}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":34},"end":{"line":30,"column":5}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":32},"end":{"line":34,"column":5}},"line":31},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":34},"end":{"line":38,"column":5}},"line":35},"8":{"name":"(anonymous_8)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":27},"end":{"line":43,"column":5}},"line":40},"9":{"name":"(anonymous_9)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":39},"end":{"line":47,"column":5}},"line":44},"10":{"name":"(anonymous_10)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":51},"end":{"line":52,"column":5}},"line":48},"11":{"name":"(anonymous_11)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":47},"end":{"line":57,"column":5}},"line":53},"12":{"name":"(anonymous_12)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":60},"end":{"line":63,"column":5}},"line":58},"13":{"name":"(anonymous_13)","decl":{"start":{"line":64,"column":4},"end":{"line":64,"column":5}},"loc":{"start":{"line":64,"column":42},"end":{"line":68,"column":5}},"line":64},"14":{"name":"(anonymous_14)","decl":{"start":{"line":69,"column":4},"end":{"line":69,"column":5}},"loc":{"start":{"line":69,"column":33},"end":{"line":78,"column":5}},"line":69},"15":{"name":"(anonymous_15)","decl":{"start":{"line":79,"column":4},"end":{"line":79,"column":5}},"loc":{"start":{"line":79,"column":39},"end":{"line":101,"column":5}},"line":79},"16":{"name":"(anonymous_16)","decl":{"start":{"line":103,"column":4},"end":{"line":103,"column":5}},"loc":{"start":{"line":103,"column":41},"end":{"line":106,"column":5}},"line":103},"17":{"name":"(anonymous_17)","decl":{"start":{"line":107,"column":4},"end":{"line":107,"column":5}},"loc":{"start":{"line":107,"column":55},"end":{"line":111,"column":5}},"line":107},"18":{"name":"(anonymous_18)","decl":{"start":{"line":112,"column":4},"end":{"line":112,"column":5}},"loc":{"start":{"line":112,"column":50},"end":{"line":122,"column":5}},"line":112},"19":{"name":"(anonymous_19)","decl":{"start":{"line":123,"column":4},"end":{"line":123,"column":5}},"loc":{"start":{"line":123,"column":47},"end":{"line":126,"column":5}},"line":123},"20":{"name":"(anonymous_20)","decl":{"start":{"line":127,"column":4},"end":{"line":127,"column":5}},"loc":{"start":{"line":127,"column":52},"end":{"line":130,"column":5}},"line":127},"21":{"name":"(anonymous_21)","decl":{"start":{"line":131,"column":4},"end":{"line":131,"column":5}},"loc":{"start":{"line":131,"column":34},"end":{"line":168,"column":5}},"line":131},"22":{"name":"(anonymous_22)","decl":{"start":{"line":169,"column":4},"end":{"line":169,"column":5}},"loc":{"start":{"line":169,"column":34},"end":{"line":178,"column":5}},"line":169},"23":{"name":"(anonymous_23)","decl":{"start":{"line":179,"column":4},"end":{"line":179,"column":5}},"loc":{"start":{"line":179,"column":17},"end":{"line":181,"column":5}},"line":179}},"branchMap":{"0":{"loc":{"start":{"line":71,"column":8},"end":{"line":76,"column":9}},"type":"if","locations":[{"start":{"line":71,"column":8},"end":{"line":76,"column":9}},{"start":{"line":71,"column":8},"end":{"line":76,"column":9}}],"line":71},"1":{"loc":{"start":{"line":71,"column":12},"end":{"line":71,"column":68}},"type":"binary-expr","locations":[{"start":{"line":71,"column":12},"end":{"line":71,"column":34}},{"start":{"line":71,"column":38},"end":{"line":71,"column":68}}],"line":71},"2":{"loc":{"start":{"line":80,"column":8},"end":{"line":85,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":85,"column":9}},{"start":{"line":80,"column":8},"end":{"line":85,"column":9}}],"line":80},"3":{"loc":{"start":{"line":80,"column":12},"end":{"line":80,"column":77}},"type":"binary-expr","locations":[{"start":{"line":80,"column":12},"end":{"line":80,"column":37}},{"start":{"line":80,"column":41},"end":{"line":80,"column":77}}],"line":80},"4":{"loc":{"start":{"line":86,"column":8},"end":{"line":99,"column":9}},"type":"if","locations":[{"start":{"line":86,"column":8},"end":{"line":99,"column":9}},{"start":{"line":86,"column":8},"end":{"line":99,"column":9}}],"line":86},"5":{"loc":{"start":{"line":86,"column":12},"end":{"line":94,"column":61}},"type":"binary-expr","locations":[{"start":{"line":86,"column":12},"end":{"line":86,"column":62}},{"start":{"line":87,"column":12},"end":{"line":87,"column":66}},{"start":{"line":88,"column":13},"end":{"line":88,"column":56}},{"start":{"line":89,"column":16},"end":{"line":89,"column":70}},{"start":{"line":90,"column":12},"end":{"line":90,"column":56}},{"start":{"line":91,"column":12},"end":{"line":91,"column":60}},{"start":{"line":92,"column":12},"end":{"line":92,"column":63}},{"start":{"line":93,"column":12},"end":{"line":93,"column":61}},{"start":{"line":94,"column":12},"end":{"line":94,"column":61}}],"line":86},"6":{"loc":{"start":{"line":116,"column":8},"end":{"line":121,"column":9}},"type":"if","locations":[{"start":{"line":116,"column":8},"end":{"line":121,"column":9}},{"start":{"line":116,"column":8},"end":{"line":121,"column":9}}],"line":116},"7":{"loc":{"start":{"line":132,"column":8},"end":{"line":137,"column":9}},"type":"if","locations":[{"start":{"line":132,"column":8},"end":{"line":137,"column":9}},{"start":{"line":132,"column":8},"end":{"line":137,"column":9}}],"line":132},"8":{"loc":{"start":{"line":132,"column":12},"end":{"line":132,"column":77}},"type":"binary-expr","locations":[{"start":{"line":132,"column":12},"end":{"line":132,"column":37}},{"start":{"line":132,"column":41},"end":{"line":132,"column":77}}],"line":132},"9":{"loc":{"start":{"line":139,"column":8},"end":{"line":148,"column":9}},"type":"if","locations":[{"start":{"line":139,"column":8},"end":{"line":148,"column":9}},{"start":{"line":139,"column":8},"end":{"line":148,"column":9}}],"line":139},"10":{"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":52}},"type":"binary-expr","locations":[{"start":{"line":139,"column":12},"end":{"line":139,"column":30}},{"start":{"line":139,"column":34},"end":{"line":139,"column":52}}],"line":139},"11":{"loc":{"start":{"line":149,"column":8},"end":{"line":160,"column":9}},"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":160,"column":9}},{"start":{"line":149,"column":8},"end":{"line":160,"column":9}}],"line":149},"12":{"loc":{"start":{"line":150,"column":12},"end":{"line":159,"column":13}},"type":"if","locations":[{"start":{"line":150,"column":12},"end":{"line":159,"column":13}},{"start":{"line":150,"column":12},"end":{"line":159,"column":13}}],"line":150},"13":{"loc":{"start":{"line":150,"column":16},"end":{"line":154,"column":53}},"type":"binary-expr","locations":[{"start":{"line":150,"column":16},"end":{"line":150,"column":53}},{"start":{"line":151,"column":16},"end":{"line":151,"column":52}},{"start":{"line":152,"column":16},"end":{"line":152,"column":59}},{"start":{"line":153,"column":16},"end":{"line":153,"column":54}},{"start":{"line":154,"column":16},"end":{"line":154,"column":53}}],"line":150},"14":{"loc":{"start":{"line":161,"column":8},"end":{"line":166,"column":9}},"type":"if","locations":[{"start":{"line":161,"column":8},"end":{"line":166,"column":9}},{"start":{"line":161,"column":8},"end":{"line":166,"column":9}}],"line":161},"15":{"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":70}},"type":"binary-expr","locations":[{"start":{"line":161,"column":12},"end":{"line":161,"column":29}},{"start":{"line":161,"column":33},"end":{"line":161,"column":70}}],"line":161},"16":{"loc":{"start":{"line":171,"column":8},"end":{"line":176,"column":9}},"type":"if","locations":[{"start":{"line":171,"column":8},"end":{"line":176,"column":9}},{"start":{"line":171,"column":8},"end":{"line":176,"column":9}}],"line":171},"17":{"loc":{"start":{"line":180,"column":27},"end":{"line":180,"column":36}},"type":"binary-expr","locations":[{"start":{"line":180,"column":27},"end":{"line":180,"column":30}},{"start":{"line":180,"column":34},"end":{"line":180,"column":36}}],"line":180}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0,0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"inputSourceMap":{"version":3,"file":"UserService.js","sourceRoot":"","sources":["../../../../src/lambda/users-lambda/UserService.ts"],"names":[],"mappings":";;;AAAA,8DAAwD;AACxD,2CAAwC;AACxC,MAAM,SAAS,GAAG,IAAI,qBAAS,EAAE,CAAC;AAGlC,MAAa,WAAW;IACtB;QACE,EAAE;IACJ,CAAC;IACD,QAAQ;IACD,KAAK,CAAC,SAAS;QACpB,OAAO,MAAM,SAAS,CAAC,SAAS,EAAE,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,OAAO;QAC9B,OAAO,MAAM,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAC9C,CAAC;IAED,OAAO;IACA,KAAK,CAAC,OAAO,CAAC,IAAI;QACvB,OAAO,MAAM,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE,QAAQ;QAC9C,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,MAAM,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QACxC,OAAO,MAAM,SAAS,CAAC,kBAAkB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC9D,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,MAAc;QACzC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,OAAO,MAAM,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,OAAO;QAC/B,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC1C,OAAO,MAAM,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;IAC/C,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,QAAQ;QACjC,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC5C,OAAO,MAAM,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACjD,CAAC;IAED,UAAU;IACH,KAAK,CAAC,YAAY,CAAC,EAAE;QAC1B,MAAM,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC;QACxC,OAAO,MAAM,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;IAC1C,CAAC;IAEM,KAAK,CAAC,oBAAoB,CAAC,MAAM;QACtC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,OAAO,MAAM,SAAS,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;IACtD,CAAC;IAEM,KAAK,CAAC,qBAAqB,CAAC,MAAM,EAAE,SAAS;QAClD,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAC9C,OAAO,MAAM,SAAS,CAAC,qBAAqB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IAClE,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS;QAC9C,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAC9C,OAAO,MAAM,SAAS,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IAC9D,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS,EAAE,WAAW;QAC3D,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAC9C,MAAM,UAAU,GACd,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;QAC1C,OAAO,MAAM,SAAS,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;IAC1E,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,WAAW;QACzC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,MAAM,UAAU,GACd,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;QAC1C,OAAO,MAAM,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IACxD,CAAC;IAEO,kBAAkB,CAAC,QAAQ;QACjC,OAAO;QACP,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE;YAC5D,IAAA,kCAAc,EAAC;gBACb,UAAU,EAAE,GAAG;gBACf,OAAO,EAAE,kCAAkC,GAAG,QAAQ;aACvD,CAAC,CAAC;SACJ;QACD,OAAO;IACT,CAAC;IAEO,qBAAqB,CAAC,WAAW;QACvC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE;YACrE,IAAA,kCAAc,EAAC;gBACb,UAAU,EAAE,GAAG;gBACf,OAAO,EAAE,mCAAmC,GAAG,WAAW;aAC3D,CAAC,CAAC;SACJ;QACD,IACE,OAAO,WAAW,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS;YAClD,OAAO,WAAW,CAAC,OAAO,CAAC,cAAc,KAAK,QAAQ;YACtD,CAAC,WAAW,CAAC,OAAO,CAAC,cAAc,KAAK,IAAI;gBAC1C,OAAO,WAAW,CAAC,OAAO,CAAC,cAAc,KAAK,QAAQ,CAAC;YACzD,OAAO,WAAW,CAAC,OAAO,CAAC,IAAI,KAAK,QAAQ;YAC5C,OAAO,WAAW,CAAC,OAAO,CAAC,QAAQ,KAAK,QAAQ;YAChD,OAAO,WAAW,CAAC,OAAO,CAAC,WAAW,KAAK,QAAQ;YACnD,OAAO,WAAW,CAAC,OAAO,CAAC,SAAS,KAAK,QAAQ;YACjD,OAAO,WAAW,CAAC,OAAO,CAAC,SAAS,KAAK,QAAQ,EACjD;YACA,IAAA,kCAAc,EAAC;gBACb,UAAU,EAAE,GAAG;gBACf,OAAO,EAAE,4CAA4C;aACtD,CAAC,CAAC;SACJ;QACD,OAAO,WAAW,CAAC,OAAO,CAAC;IAC7B,CAAC;IAED,UAAU;IACH,KAAK,CAAC,sBAAsB,CAAC,MAAM;QACxC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,OAAO,MAAM,SAAS,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;IACxD,CAAC;IAEM,KAAK,CAAC,yBAAyB,CAAC,MAAM,EAAE,SAAS;QACtD,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;QAErD,OAAO,MAAM,SAAS,CAAC,yBAAyB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IACtE,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE,WAAW;QACjD,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,MAAM,SAAS,GAAG,MAAM,SAAS,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC;QACnE,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAClE,IAAI,SAAS,IAAI,IAAI,EAAE;YACrB,OAAO,MAAM,SAAS,CAAC,iBAAiB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;SACpE;aAAM;YACL,OAAO,MAAM,SAAS,CAAC,kBAAkB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;SACrE;IACH,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS;QAC9C,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;QACrD,OAAO,MAAM,SAAS,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IAC9D,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW;QACnD,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;QACrD,OAAO,MAAM,SAAS,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;IACnE,CAAC;IAEO,gBAAgB,CAAC,WAAW;QAClC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE;YACrE,IAAA,kCAAc,EAAC;gBACb,UAAU,EAAE,GAAG;gBACf,OAAO,EAAE,mCAAmC,GAAG,WAAW;aAC3D,CAAC,CAAC;SACJ;QACD,MAAM,EAAE,OAAO,EAAE,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YAC5C,IAAA,kCAAc,EAAC;gBACb,UAAU,EAAE,GAAG;gBACf,OAAO,EACL,6EAA6E;oBAC7E,SAAS;oBACT,OAAO,CAAC,SAAS;oBACjB,YAAY;oBACZ,OAAO,CAAC,SAAS;aACpB,CAAC,CAAC;SACJ;QACD,IAAI,OAAO,CAAC,SAAS,EAAE;YACrB,IACE,OAAO,OAAO,CAAC,SAAS,KAAK,QAAQ;gBACrC,OAAO,OAAO,CAAC,QAAQ,KAAK,QAAQ;gBACpC,OAAO,OAAO,CAAC,eAAe,KAAK,QAAQ;gBAC3C,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ;gBACtC,OAAO,OAAO,CAAC,SAAS,KAAK,QAAQ,EACrC;gBACA,IAAA,kCAAc,EAAC;oBACb,UAAU,EAAE,GAAG;oBACf,OAAO,EAAE,mDAAmD;iBAC7D,CAAC,CAAC;aACJ;SACF;QACD,IAAI,OAAO,CAAC,SAAS,IAAI,OAAO,OAAO,CAAC,SAAS,KAAK,QAAQ,EAAE;YAC9D,IAAA,kCAAc,EAAC;gBACb,UAAU,EAAE,GAAG;gBACf,OAAO,EAAE,+CAA+C;aACzD,CAAC,CAAC;SACJ;QAED,OAAO,OAAO,CAAC;IACjB,CAAC;IAEO,KAAK,CAAC,YAAY,CAAC,EAAU,EAAE,KAAa;QAClD,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,YAAY,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;QACvD,IAAI,CAAC,MAAM,EAAE;YACX,IAAA,kCAAc,EAAC;gBACb,OAAO,EAAE,oBAAoB,KAAK,IAAI,EAAE,YAAY;gBACpD,UAAU,EAAE,GAAG;aAChB,CAAC,CAAC;SACJ;QACD,OAAO;IACT,CAAC;IAEO,OAAO,CAAC,GAA4B;QAC1C,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;IAC7C,CAAC;CACF;AA7MD,kCA6MC;AAED,MAAM,CAAC,OAAO,GAAG,EAAE,WAAW,EAAE,CAAC","sourcesContent":["import { errorGenerator } from '/opt/customError-layer';\nimport { UserModel } from './UserModel';\nconst userModel = new UserModel();\nimport { ICreateAddressDto, IUpdateAddressDto } from './user-dto';\n\nexport class UserService {\n  constructor() {\n    //\n  }\n  // admin\n  public async listUsers() {\n    return await userModel.listUsers();\n  }\n\n  public async addTempUser(newUser) {\n    return await userModel.addTempUser(newUser);\n  }\n\n  // user\n  public async addUser(info) {\n    return await userModel.addUser(info);\n  }\n\n  public async updateUserInfoById(userId, userInfo) {\n    await this.checkIdExist(userId, 'user');\n    await this.validUpdateUserDto(userInfo);\n    return await userModel.updateUserInfoById(userId, userInfo);\n  }\n\n  public async getUserInfoById(userId: number) {\n    await this.checkIdExist(userId, 'user');\n    return await userModel.getUserInfoById(userId);\n  }\n\n  public async getBuyerInfo(buyerId) {\n    await this.checkIdExist(buyerId, 'buyer');\n    return await userModel.getBuyerInfo(buyerId);\n  }\n\n  public async getSellerInfo(sellerId) {\n    await this.checkIdExist(sellerId, 'seller');\n    return await userModel.getSellerInfo(sellerId);\n  }\n\n  // address\n  public async getAddresses(id) {\n    await this.checkIdExist(id, 'address ');\n    return await userModel.getAddresses(id);\n  }\n\n  public async getAddressesByUserId(userId) {\n    await this.checkIdExist(userId, 'user');\n    return await userModel.getAddressesByUserId(userId);\n  }\n\n  public async getAddressByAddressId(userId, addressId) {\n    await this.checkIdExist(userId, 'user');\n    await this.checkIdExist(addressId, 'address');\n    return await userModel.getAddressByAddressId(userId, addressId);\n  }\n\n  public async deleteAddressById(userId, addressId) {\n    await this.checkIdExist(userId, 'user');\n    await this.checkIdExist(addressId, 'address');\n    return await userModel.deleteAddressById(userId, addressId);\n  }\n\n  public async updateAddressById(userId, addressId, addressInfo) {\n    await this.checkIdExist(userId, 'user');\n    await this.checkIdExist(addressId, 'address');\n    const newAddress: IUpdateAddressDto =\n      this.validUpdateAddressDto(addressInfo);\n    return await userModel.updateAddressById(userId, addressId, newAddress);\n  }\n\n  public async addAddress(userId, addressInfo) {\n    await this.checkIdExist(userId, 'user');\n    const newAddress: IUpdateAddressDto =\n      this.validUpdateAddressDto(addressInfo);\n    return await userModel.addAddress(userId, newAddress);\n  }\n\n  private validUpdateUserDto(userInfo) {\n    // TODO\n    if (this.isEmpty(userInfo) || this.isEmpty(userInfo['user'])) {\n      errorGenerator({\n        statusCode: 400,\n        message: 'Invalid Request. check req body ' + userInfo,\n      });\n    }\n    return;\n  }\n\n  private validUpdateAddressDto(addressInfo) {\n    if (this.isEmpty(addressInfo) || this.isEmpty(addressInfo['address'])) {\n      errorGenerator({\n        statusCode: 400,\n        message: 'Invalid Request. check req body: ' + addressInfo,\n      });\n    }\n    if (\n      typeof addressInfo.address.preferred !== 'boolean' ||\n      typeof addressInfo.address.address_line_1 !== 'string' ||\n      (addressInfo.address.address_line_2 !== null &&\n        typeof addressInfo.address.address_line_2 !== 'string') ||\n      typeof addressInfo.address.city !== 'string' ||\n      typeof addressInfo.address.province !== 'string' ||\n      typeof addressInfo.address.postal_code !== 'string' ||\n      typeof addressInfo.address.recipient !== 'string' ||\n      typeof addressInfo.address.telephone !== 'string'\n    ) {\n      errorGenerator({\n        statusCode: 400,\n        message: 'Invalid Request. req body is not in format',\n      });\n    }\n    return addressInfo.address;\n  }\n\n  // payment\n  public async getPaymentInfoByUserId(userId) {\n    await this.checkIdExist(userId, 'user');\n    return await userModel.getPaymentInfoByUserId(userId);\n  }\n\n  public async getPaymentInfoByPaymentId(userId, paymentId) {\n    await this.checkIdExist(userId, 'user');\n    await this.checkIdExist(paymentId, 'payment_method');\n\n    return await userModel.getPaymentInfoByPaymentId(userId, paymentId);\n  }\n\n  public async addPaymentByUserId(userId, paymentInfo) {\n    await this.checkIdExist(userId, 'user');\n    const paymentId = await userModel.checkBuyerHasPaymentInfo(userId);\n    const validPaymentInfo = await this.validPaymentInfo(paymentInfo);\n    if (paymentId != null) {\n      return await userModel.updatePaymentById(userId, validPaymentInfo);\n    } else {\n      return await userModel.addPaymentByUserId(userId, validPaymentInfo);\n    }\n  }\n\n  public async deletePaymentById(userId, paymentId) {\n    await this.checkIdExist(paymentId, 'payment_method');\n    return await userModel.deletePaymentById(userId, paymentId);\n  }\n\n  public async updatePaymentById(paymentId, paymentInfo) {\n    await this.checkIdExist(paymentId, 'payment_method');\n    return await userModel.updatePaymentById(paymentId, paymentInfo);\n  }\n\n  private validPaymentInfo(paymentInfo) {\n    if (this.isEmpty(paymentInfo) || this.isEmpty(paymentInfo['payment'])) {\n      errorGenerator({\n        statusCode: 400,\n        message: 'Invalid Request. check req body: ' + paymentInfo,\n      });\n    }\n    const { payment } = paymentInfo;\n    if (!payment.is_credit && !payment.is_paypal) {\n      errorGenerator({\n        statusCode: 400,\n        message:\n          'Invalid Request. either paypal or creditcard inforamtion must be provided: ' +\n          'credit ' +\n          payment.is_credit +\n          ' paypal : ' +\n          payment.is_paypal,\n      });\n    }\n    if (payment.is_credit) {\n      if (\n        typeof payment.bank_name !== 'string' ||\n        typeof payment.card_num !== 'string' ||\n        typeof payment.expiration_date !== 'string' ||\n        typeof payment.first_name !== 'string' ||\n        typeof payment.last_name !== 'string'\n      ) {\n        errorGenerator({\n          statusCode: 400,\n          message: 'Invalid Request. creditcard info is not in format',\n        });\n      }\n    }\n    if (payment.is_paypal && typeof payment.paypal_id !== 'string') {\n      errorGenerator({\n        statusCode: 400,\n        message: 'Invalid Request. paypal info is not in format',\n      });\n    }\n\n    return payment;\n  }\n\n  private async checkIdExist(id: number, table: string) {\n    const result = await userModel.checkIdExist(id, table);\n    if (!result) {\n      errorGenerator({\n        message: `INVALID REQUEST: ${table} ${id} not exist`,\n        statusCode: 422,\n      });\n    }\n    return;\n  }\n\n  private isEmpty(obj: Record<string, unknown>) {\n    return Object.keys(obj || {}).length === 0;\n  }\n}\n\nmodule.exports = { UserService };\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/asyncWrap-layer/asyncWrap-layer.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/asyncWrap-layer/asyncWrap-layer.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":59}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":55}},"6":{"start":{"line":16,"column":4},"end":{"line":35,"column":6}},"7":{"start":{"line":17,"column":8},"end":{"line":34,"column":9}},"8":{"start":{"line":18,"column":12},"end":{"line":18,"column":38}},"9":{"start":{"line":19,"column":27},"end":{"line":19,"column":47}},"10":{"start":{"line":20,"column":12},"end":{"line":20,"column":53}},"11":{"start":{"line":21,"column":12},"end":{"line":24,"column":14}},"12":{"start":{"line":27,"column":26},"end":{"line":27,"column":29}},"13":{"start":{"line":28,"column":12},"end":{"line":33,"column":14}},"14":{"start":{"line":37,"column":0},"end":{"line":37,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":37},"end":{"line":10,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":5}},"line":11},"2":{"name":"asyncWrap","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":28},"end":{"line":36,"column":1}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":11},"end":{"line":16,"column":12}},"loc":{"start":{"line":16,"column":28},"end":{"line":35,"column":5}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":28},"end":{"line":22,"column":52}},"type":"binary-expr","locations":[{"start":{"line":22,"column":28},"end":{"line":22,"column":45}},{"start":{"line":22,"column":49},"end":{"line":22,"column":52}}],"line":22},"1":{"loc":{"start":{"line":29,"column":28},"end":{"line":29,"column":51}},"type":"binary-expr","locations":[{"start":{"line":29,"column":28},"end":{"line":29,"column":44}},{"start":{"line":29,"column":48},"end":{"line":29,"column":51}}],"line":29},"2":{"loc":{"start":{"line":31,"column":29},"end":{"line":31,"column":69}},"type":"binary-expr","locations":[{"start":{"line":31,"column":29},"end":{"line":31,"column":42}},{"start":{"line":31,"column":46},"end":{"line":31,"column":69}}],"line":31}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"f":{"0":0,"1":0,"2":0,"3":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"asyncWrap-layer.js","sourceRoot":"","sources":["../../../../src/layer/asyncWrap-layer/asyncWrap-layer.ts"],"names":[],"mappings":";;;AAAA,MAAM,WAAY,SAAQ,KAAK;IAC7B,UAAU,CAAS;IACnB,YAAY,OAAe,EAAE,UAAkB;QAC7C,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC;IACrD,CAAC;IAED,eAAe;QACb,OAAO,wBAAwB,GAAG,IAAI,CAAC,OAAO,CAAC;IACjD,CAAC;CACF;AAED,SAAgB,SAAS,CAAC,OAAO;IAC/B,OAAO,KAAK,EAAE,KAAK,EAAE,EAAE;QACrB,IAAI;YACF,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC1B,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;YACzC,OAAO;gBACL,UAAU,EAAE,MAAM,CAAC,UAAU,IAAI,GAAG;gBACpC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC;aAClC,CAAC;SACH;QAAC,OAAO,GAAG,EAAE;YACZ,MAAM,KAAK,GAAG,GAAkB,CAAC;YACjC,OAAO;gBACL,UAAU,EAAE,KAAK,CAAC,UAAU,IAAI,GAAG;gBACnC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;oBACnB,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,uBAAuB;iBAClD,CAAC;aACH,CAAC;SACH;IACH,CAAC,CAAC;AACJ,CAAC;AApBD,8BAoBC;AAED,iCAAiC","sourcesContent":["class CustomError extends Error {\n  statusCode: number;\n  constructor(message: string, statusCode: number) {\n    super(message);\n    this.statusCode = statusCode;\n    Object.setPrototypeOf(this, CustomError.prototype);\n  }\n\n  getErrorMessage() {\n    return 'Something went wrong: ' + this.message;\n  }\n}\n\nexport function asyncWrap(handler) {\n  return async (event) => {\n    try {\n      console.log('async >>> ');\n      const result = await handler(event);\n      console.log('async result ::: ', result);\n      return {\n        statusCode: result.statusCode || 200,\n        body: JSON.stringify(result.body),\n      };\n    } catch (err) {\n      const error = err as CustomError;\n      return {\n        statusCode: error.statusCode || 500,\n        body: JSON.stringify({\n          message: error.message || 'Internal Server Error',\n        }),\n      };\n    }\n  };\n}\n\n// module.exports = { asyncWrap }\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/customError-layer/customError-layer.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/customError-layer/customError-layer.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":59}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":55}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":34}},"7":{"start":{"line":16,"column":23},"end":{"line":20,"column":1}},"8":{"start":{"line":17,"column":18},"end":{"line":17,"column":40}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":38}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":16}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":37},"end":{"line":10,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":32},"end":{"line":20,"column":1}},"line":16}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"f":{"0":0,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"customError-layer.js","sourceRoot":"","sources":["../../../../src/layer/customError-layer/customError-layer.ts"],"names":[],"mappings":";;;AAQA,MAAa,WAAY,SAAQ,KAAK;IACpC,UAAU,CAAS;IACnB,YAAY,OAAe,EAAE,UAAkB;QAC7C,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC;IACrD,CAAC;IAED,eAAe;QACb,OAAO,wBAAwB,GAAG,IAAI,CAAC,OAAO,CAAC;IACjD,CAAC;CACF;AAXD,kCAWC;AAEM,MAAM,cAAc,GAAG,CAAC,GAAsB,EAAE,EAAE;IACvD,MAAM,KAAK,GAAiB,IAAI,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACnD,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;IAClC,MAAM,KAAK,CAAC;AACd,CAAC,CAAC;AAJW,QAAA,cAAc,kBAIzB","sourcesContent":["export interface ICustomErrorSetup {\n  statusCode: number;\n  message: string;\n}\nexport interface ICustomError extends Error {\n  statusCode?: number;\n  message: string;\n}\nexport class CustomError extends Error {\n  statusCode: number;\n  constructor(message: string, statusCode: number) {\n    super(message);\n    this.statusCode = statusCode;\n    Object.setPrototypeOf(this, CustomError.prototype);\n  }\n\n  getErrorMessage() {\n    return 'Something went wrong: ' + this.message;\n  }\n}\n\nexport const errorGenerator = (obj: ICustomErrorSetup) => {\n  const error: ICustomError = new Error(obj.message);\n  error.statusCode = obj.statusCode;\n  throw error;\n};\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/queryBuilder-layer/queryBuilder-layer.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/queryBuilder-layer/queryBuilder-layer.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":134}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":80}},"3":{"start":{"line":5,"column":26},"end":{"line":7,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":56}},"5":{"start":{"line":8,"column":34},"end":{"line":16,"column":1}},"6":{"start":{"line":9,"column":19},"end":{"line":9,"column":21}},"7":{"start":{"line":10,"column":4},"end":{"line":14,"column":5}},"8":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":58}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":18}},"11":{"start":{"line":17,"column":32},"end":{"line":22,"column":1}},"12":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":19}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":35}},"15":{"start":{"line":23,"column":32},"end":{"line":37,"column":1}},"16":{"start":{"line":24,"column":25},"end":{"line":24,"column":55}},"17":{"start":{"line":25,"column":22},"end":{"line":25,"column":24}},"18":{"start":{"line":26,"column":22},"end":{"line":26,"column":24}},"19":{"start":{"line":27,"column":20},"end":{"line":27,"column":48}},"20":{"start":{"line":28,"column":4},"end":{"line":30,"column":7}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":38}},"22":{"start":{"line":31,"column":4},"end":{"line":33,"column":7}},"23":{"start":{"line":32,"column":8},"end":{"line":32,"column":40}},"24":{"start":{"line":34,"column":4},"end":{"line":34,"column":24}},"25":{"start":{"line":35,"column":4},"end":{"line":35,"column":24}},"26":{"start":{"line":36,"column":4},"end":{"line":36,"column":48}},"27":{"start":{"line":38,"column":32},"end":{"line":46,"column":1}},"28":{"start":{"line":39,"column":25},"end":{"line":39,"column":55}},"29":{"start":{"line":40,"column":22},"end":{"line":40,"column":24}},"30":{"start":{"line":41,"column":20},"end":{"line":41,"column":48}},"31":{"start":{"line":42,"column":4},"end":{"line":44,"column":7}},"32":{"start":{"line":43,"column":8},"end":{"line":43,"column":54}},"33":{"start":{"line":45,"column":4},"end":{"line":45,"column":32}},"34":{"start":{"line":47,"column":32},"end":{"line":58,"column":1}},"35":{"start":{"line":48,"column":25},"end":{"line":48,"column":55}},"36":{"start":{"line":49,"column":22},"end":{"line":49,"column":24}},"37":{"start":{"line":50,"column":20},"end":{"line":50,"column":48}},"38":{"start":{"line":51,"column":4},"end":{"line":53,"column":7}},"39":{"start":{"line":52,"column":8},"end":{"line":52,"column":54}},"40":{"start":{"line":54,"column":4},"end":{"line":56,"column":5}},"41":{"start":{"line":55,"column":8},"end":{"line":55,"column":41}},"42":{"start":{"line":57,"column":4},"end":{"line":57,"column":21}},"43":{"start":{"line":59,"column":24},"end":{"line":79,"column":1}},"44":{"start":{"line":60,"column":26},"end":{"line":60,"column":28}},"45":{"start":{"line":61,"column":4},"end":{"line":68,"column":5}},"46":{"start":{"line":64,"column":8},"end":{"line":67,"column":11}},"47":{"start":{"line":69,"column":4},"end":{"line":77,"column":5}},"48":{"start":{"line":70,"column":29},"end":{"line":70,"column":66}},"49":{"start":{"line":71,"column":26},"end":{"line":71,"column":28}},"50":{"start":{"line":72,"column":24},"end":{"line":72,"column":52}},"51":{"start":{"line":73,"column":8},"end":{"line":75,"column":11}},"52":{"start":{"line":74,"column":12},"end":{"line":74,"column":58}},"53":{"start":{"line":76,"column":8},"end":{"line":76,"column":77}},"54":{"start":{"line":78,"column":4},"end":{"line":78,"column":27}},"55":{"start":{"line":80,"column":22},"end":{"line":86,"column":1}},"56":{"start":{"line":81,"column":18},"end":{"line":83,"column":11}},"57":{"start":{"line":84,"column":4},"end":{"line":84,"column":34}},"58":{"start":{"line":85,"column":4},"end":{"line":85,"column":17}},"59":{"start":{"line":87,"column":0},"end":{"line":87,"column":38}},"60":{"start":{"line":88,"column":22},"end":{"line":95,"column":1}},"61":{"start":{"line":89,"column":18},"end":{"line":93,"column":3}},"62":{"start":{"line":94,"column":4},"end":{"line":94,"column":17}},"63":{"start":{"line":96,"column":0},"end":{"line":96,"column":38}},"64":{"start":{"line":97,"column":22},"end":{"line":101,"column":1}},"65":{"start":{"line":98,"column":18},"end":{"line":99,"column":82}},"66":{"start":{"line":100,"column":4},"end":{"line":100,"column":17}},"67":{"start":{"line":102,"column":0},"end":{"line":102,"column":38}},"68":{"start":{"line":103,"column":29},"end":{"line":111,"column":1}},"69":{"start":{"line":104,"column":18},"end":{"line":109,"column":4}},"70":{"start":{"line":110,"column":4},"end":{"line":110,"column":17}},"71":{"start":{"line":112,"column":0},"end":{"line":112,"column":52}},"72":{"start":{"line":113,"column":22},"end":{"line":118,"column":1}},"73":{"start":{"line":114,"column":18},"end":{"line":116,"column":3}},"74":{"start":{"line":117,"column":4},"end":{"line":117,"column":17}},"75":{"start":{"line":119,"column":0},"end":{"line":119,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":26},"end":{"line":5,"column":27}},"loc":{"start":{"line":5,"column":35},"end":{"line":7,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":34},"end":{"line":8,"column":35}},"loc":{"start":{"line":8,"column":43},"end":{"line":16,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":32},"end":{"line":17,"column":33}},"loc":{"start":{"line":17,"column":51},"end":{"line":22,"column":1}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":32},"end":{"line":23,"column":33}},"loc":{"start":{"line":23,"column":41},"end":{"line":37,"column":1}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":20},"end":{"line":28,"column":21}},"loc":{"start":{"line":28,"column":31},"end":{"line":30,"column":5}},"line":28},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":20},"end":{"line":31,"column":21}},"loc":{"start":{"line":31,"column":31},"end":{"line":33,"column":5}},"line":31},"6":{"name":"(anonymous_6)","decl":{"start":{"line":38,"column":32},"end":{"line":38,"column":33}},"loc":{"start":{"line":38,"column":41},"end":{"line":46,"column":1}},"line":38},"7":{"name":"(anonymous_7)","decl":{"start":{"line":42,"column":20},"end":{"line":42,"column":21}},"loc":{"start":{"line":42,"column":31},"end":{"line":44,"column":5}},"line":42},"8":{"name":"(anonymous_8)","decl":{"start":{"line":47,"column":32},"end":{"line":47,"column":33}},"loc":{"start":{"line":47,"column":52},"end":{"line":58,"column":1}},"line":47},"9":{"name":"(anonymous_9)","decl":{"start":{"line":51,"column":20},"end":{"line":51,"column":21}},"loc":{"start":{"line":51,"column":31},"end":{"line":53,"column":5}},"line":51},"10":{"name":"(anonymous_10)","decl":{"start":{"line":59,"column":24},"end":{"line":59,"column":25}},"loc":{"start":{"line":59,"column":61},"end":{"line":79,"column":1}},"line":59},"11":{"name":"(anonymous_11)","decl":{"start":{"line":73,"column":24},"end":{"line":73,"column":25}},"loc":{"start":{"line":73,"column":35},"end":{"line":75,"column":9}},"line":73},"12":{"name":"(anonymous_12)","decl":{"start":{"line":80,"column":22},"end":{"line":80,"column":23}},"loc":{"start":{"line":80,"column":84},"end":{"line":86,"column":1}},"line":80},"13":{"name":"(anonymous_13)","decl":{"start":{"line":88,"column":22},"end":{"line":88,"column":23}},"loc":{"start":{"line":88,"column":39},"end":{"line":95,"column":1}},"line":88},"14":{"name":"(anonymous_14)","decl":{"start":{"line":97,"column":22},"end":{"line":97,"column":23}},"loc":{"start":{"line":97,"column":50},"end":{"line":101,"column":1}},"line":97},"15":{"name":"(anonymous_15)","decl":{"start":{"line":103,"column":29},"end":{"line":103,"column":30}},"loc":{"start":{"line":103,"column":57},"end":{"line":111,"column":1}},"line":103},"16":{"name":"(anonymous_16)","decl":{"start":{"line":113,"column":22},"end":{"line":113,"column":23}},"loc":{"start":{"line":113,"column":50},"end":{"line":118,"column":1}},"line":113}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},{"start":{"line":11,"column":8},"end":{"line":13,"column":9}}],"line":11},"1":{"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},{"start":{"line":18,"column":4},"end":{"line":20,"column":5}}],"line":18},"2":{"loc":{"start":{"line":54,"column":4},"end":{"line":56,"column":5}},"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":56,"column":5}},{"start":{"line":54,"column":4},"end":{"line":56,"column":5}}],"line":54},"3":{"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":49}},"type":"binary-expr","locations":[{"start":{"line":54,"column":8},"end":{"line":54,"column":27}},{"start":{"line":54,"column":31},"end":{"line":54,"column":49}}],"line":54},"4":{"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":40}},"type":"default-arg","locations":[{"start":{"line":59,"column":38},"end":{"line":59,"column":40}}],"line":59},"5":{"loc":{"start":{"line":59,"column":42},"end":{"line":59,"column":56}},"type":"default-arg","locations":[{"start":{"line":59,"column":54},"end":{"line":59,"column":56}}],"line":59},"6":{"loc":{"start":{"line":61,"column":4},"end":{"line":68,"column":5}},"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":68,"column":5}},{"start":{"line":61,"column":4},"end":{"line":68,"column":5}}],"line":61},"7":{"loc":{"start":{"line":61,"column":8},"end":{"line":63,"column":26}},"type":"binary-expr","locations":[{"start":{"line":61,"column":8},"end":{"line":61,"column":42}},{"start":{"line":62,"column":8},"end":{"line":62,"column":27}},{"start":{"line":63,"column":8},"end":{"line":63,"column":26}}],"line":61},"8":{"loc":{"start":{"line":69,"column":4},"end":{"line":77,"column":5}},"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":77,"column":5}},{"start":{"line":69,"column":4},"end":{"line":77,"column":5}}],"line":69},"9":{"loc":{"start":{"line":80,"column":45},"end":{"line":80,"column":60}},"type":"default-arg","locations":[{"start":{"line":80,"column":58},"end":{"line":80,"column":60}}],"line":80},"10":{"loc":{"start":{"line":80,"column":62},"end":{"line":80,"column":79}},"type":"default-arg","locations":[{"start":{"line":80,"column":77},"end":{"line":80,"column":79}}],"line":80}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0],"5":[0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0],"10":[0]},"inputSourceMap":{"version":3,"file":"queryBuilder-layer.js","sourceRoot":"","sources":["../../../../src/layer/queryBuilder-layer/queryBuilder-layer.ts"],"names":[],"mappings":"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","sourcesContent":["import { errorGenerator } from '/opt/customError-layer';\n\nconst camelToUnderscore = (key: string) => {\n  return key.replace(/([A-Z])/g, '_$1').toLowerCase();\n};\n\nconst convertObjKeysToSnakeCase = (obj: {\n  [key in string]: number | string | Date | boolean | null | undefined;\n}) => {\n  const newObj: {\n    [key in string]: number | string | Date | boolean | null | undefined;\n  } = {};\n  for (const camel in obj) {\n    if (obj[camel] !== undefined) {\n      newObj[camelToUnderscore(camel)] = obj[camel];\n    }\n  }\n  return newObj;\n};\n\nconst buildSqlParamsForSelect = (inquiryColumn: string[]) => {\n  if (inquiryColumn[0] === 'all') {\n    return '*';\n  }\n  return inquiryColumn.join(`,`);\n};\n\nconst buildSqlParamsForInsert = (obj: {\n  [key in string]: number | string | Date | boolean | null;\n}) => {\n  const convertedObj = convertObjKeysToSnakeCase(obj);\n  const setParams: Array<string> = [];\n  const setValues: Array<string> = [];\n  const entries = Object.entries(convertedObj);\n  entries.forEach((entry) => {\n    setParams.push(`${entry[0]}`);\n  });\n  entries.forEach((entry) => {\n    setValues.push(`\"${entry[1]}\"`);\n  });\n  setParams.join(`,`);\n  setValues.join(`,`);\n  return setParams + ') VALUES (' + setValues;\n};\n\nconst buildSqlParamsForUpdate = (obj: {\n  [key in string]: number | string | Date | null | undefined;\n}) => {\n  const convertedObj = convertObjKeysToSnakeCase(obj);\n  const resultArr: Array<any> = [];\n  const entries = Object.entries(convertedObj);\n  entries.forEach((entry) => {\n    resultArr.push(`${entry[0]} = \"${entry[1]}\"`);\n  });\n  return resultArr.join(', ');\n};\n\nconst buildSqlParamsForDelete = (\n  obj: { [key in string]: number | string | Date },\n  condition?: string | null\n) => {\n  const convertedObj = convertObjKeysToSnakeCase(obj);\n  const resultArr: Array<string> = [];\n  const entries = Object.entries(convertedObj);\n  entries.forEach((entry) => {\n    resultArr.push(`${entry[0]} = \"${entry[1]}\"`);\n  });\n  if (condition === 'AND' || condition === 'OR') {\n    resultArr.join(` ${condition} `);\n  }\n  return resultArr;\n};\n\nconst buildInquiryOpt = (\n  inquiryOpt: { [key in string]: number | string | Date } = {},\n  condition = ''\n) => {\n  let inquiryOptQuery = '';\n  if (\n    Object.keys(inquiryOpt).length > 1 &&\n    condition !== 'AND' &&\n    condition !== 'OR'\n  ) {\n    errorGenerator({\n      message: 'INVALID buildInquiryOpt Condition',\n      statusCode: 400,\n    });\n  }\n  if (Object.keys(inquiryOpt).length !== 0) {\n    const convertedObj = convertObjKeysToSnakeCase(inquiryOpt);\n    const resultArr: Array<string> = [];\n    const entries = Object.entries(convertedObj);\n    entries.forEach((entry) => {\n      resultArr.push(`${entry[0]} = \"${entry[1]}\"`);\n    });\n    inquiryOptQuery = `\\nWHERE ` + `${resultArr.join(` ${condition} `)}`;\n  }\n  return inquiryOptQuery;\n};\nexport const selectBuilder = (\n  inquiryColumn: string[],\n  table: string,\n  inquiryOpt: { [key in string]: number | string | Date } = {},\n  optCondition = ''\n) => {\n  const query =\n    `SELECT ${buildSqlParamsForSelect(inquiryColumn)}\\nFROM ${table}` +\n    `${buildInquiryOpt(inquiryOpt, optCondition)}` +\n    `;`;\n  console.log('query: ', query);\n  return query;\n};\n\nexport const insertBuilder = (\n  data: { [key in string]: number | string | Date | boolean | null },\n  table: string\n) => {\n  const query = `\n    INSERT INTO ${table} (\n      ${buildSqlParamsForInsert(data)}\n    );\n  `;\n  return query;\n};\n\nexport const updateBuilder = (\n  inquiryId: number,\n  data: { [key in string]: number | string | Date | null | undefined },\n  table: string\n) => {\n  const query = `\n    UPDATE ${table} SET ${buildSqlParamsForUpdate(\n    data\n  )} WHERE id = ${inquiryId};`;\n  return query;\n};\n\nexport const updateBetweenBuilder = (\n  inquiryId: number,\n  data: { [key in string]: number | string | Date },\n  table: string\n) => {\n  const query = `\n    UPDATE ${table} SET ${buildSqlParamsForUpdate(data)} \n    WHERE id = ${inquiryId}\n    AND\n    WHERE id BETWEEN \n  ;`;\n  return query;\n};\n\nexport const deleteBuilder = (\n  data: { [key in string]: number | string | Date },\n  table: string,\n  condition?: string | null\n) => {\n  const query = `\n    DELETE FROM ${table} WHERE ${buildSqlParamsForDelete(data, condition)};\n  `;\n  return query;\n};\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/sql-layer/sql-layer.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/layer/sql-layer/sql-layer.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":144}},"26":{"start":{"line":27,"column":14},"end":{"line":27,"column":44}},"27":{"start":{"line":28,"column":28},"end":{"line":28,"column":80}},"28":{"start":{"line":33,"column":8},"end":{"line":33,"column":122}},"29":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"30":{"start":{"line":37,"column":12},"end":{"line":37,"column":19}},"31":{"start":{"line":39,"column":8},"end":{"line":48,"column":11}},"32":{"start":{"line":51,"column":8},"end":{"line":61,"column":11}},"33":{"start":{"line":64,"column":8},"end":{"line":74,"column":9}},"34":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"35":{"start":{"line":66,"column":16},"end":{"line":66,"column":112}},"36":{"start":{"line":69,"column":16},"end":{"line":69,"column":65}},"37":{"start":{"line":73,"column":12},"end":{"line":73,"column":20}},"38":{"start":{"line":77,"column":8},"end":{"line":93,"column":11}},"39":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"40":{"start":{"line":79,"column":16},"end":{"line":79,"column":76}},"41":{"start":{"line":89,"column":12},"end":{"line":92,"column":15}},"42":{"start":{"line":91,"column":16},"end":{"line":91,"column":78}},"43":{"start":{"line":96,"column":8},"end":{"line":120,"column":11}},"44":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"45":{"start":{"line":98,"column":16},"end":{"line":98,"column":69}},"46":{"start":{"line":99,"column":16},"end":{"line":99,"column":23}},"47":{"start":{"line":101,"column":12},"end":{"line":101,"column":40}},"48":{"start":{"line":102,"column":12},"end":{"line":119,"column":15}},"49":{"start":{"line":103,"column":16},"end":{"line":108,"column":17}},"50":{"start":{"line":105,"column":20},"end":{"line":105,"column":47}},"51":{"start":{"line":106,"column":20},"end":{"line":106,"column":71}},"52":{"start":{"line":107,"column":20},"end":{"line":107,"column":27}},"53":{"start":{"line":109,"column":16},"end":{"line":118,"column":19}},"54":{"start":{"line":111,"column":20},"end":{"line":111,"column":56}},"55":{"start":{"line":112,"column":20},"end":{"line":115,"column":21}},"56":{"start":{"line":113,"column":24},"end":{"line":113,"column":62}},"57":{"start":{"line":114,"column":24},"end":{"line":114,"column":31}},"58":{"start":{"line":116,"column":20},"end":{"line":116,"column":35}},"59":{"start":{"line":117,"column":20},"end":{"line":117,"column":37}},"60":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"61":{"start":{"line":124,"column":12},"end":{"line":124,"column":34}},"62":{"start":{"line":128,"column":0},"end":{"line":128,"column":32}},"63":{"start":{"line":131,"column":18},"end":{"line":131,"column":20}},"64":{"start":{"line":133,"column":8},"end":{"line":133,"column":52}},"65":{"start":{"line":136,"column":8},"end":{"line":136,"column":49}},"66":{"start":{"line":139,"column":8},"end":{"line":139,"column":50}},"67":{"start":{"line":142,"column":8},"end":{"line":142,"column":49}},"68":{"start":{"line":145,"column":8},"end":{"line":145,"column":38}},"69":{"start":{"line":146,"column":8},"end":{"line":148,"column":9}},"70":{"start":{"line":147,"column":12},"end":{"line":147,"column":80}},"71":{"start":{"line":149,"column":21},"end":{"line":149,"column":54}},"72":{"start":{"line":150,"column":23},"end":{"line":150,"column":54}},"73":{"start":{"line":151,"column":8},"end":{"line":156,"column":9}},"74":{"start":{"line":152,"column":12},"end":{"line":155,"column":14}},"75":{"start":{"line":158,"column":8},"end":{"line":158,"column":107}},"76":{"start":{"line":161,"column":8},"end":{"line":161,"column":38}},"77":{"start":{"line":162,"column":18},"end":{"line":162,"column":20}},"78":{"start":{"line":163,"column":8},"end":{"line":166,"column":9}},"79":{"start":{"line":164,"column":12},"end":{"line":164,"column":52}},"80":{"start":{"line":165,"column":12},"end":{"line":165,"column":87}},"81":{"start":{"line":167,"column":21},"end":{"line":167,"column":54}},"82":{"start":{"line":168,"column":23},"end":{"line":168,"column":54}},"83":{"start":{"line":169,"column":8},"end":{"line":171,"column":9}},"84":{"start":{"line":170,"column":12},"end":{"line":170,"column":60}},"85":{"start":{"line":172,"column":8},"end":{"line":173,"column":87}},"86":{"start":{"line":173,"column":12},"end":{"line":173,"column":87}},"87":{"start":{"line":175,"column":8},"end":{"line":175,"column":107}},"88":{"start":{"line":178,"column":8},"end":{"line":180,"column":9}},"89":{"start":{"line":179,"column":12},"end":{"line":179,"column":48}},"90":{"start":{"line":181,"column":8},"end":{"line":181,"column":58}},"91":{"start":{"line":184,"column":0},"end":{"line":184,"column":24}},"92":{"start":{"line":188,"column":8},"end":{"line":188,"column":19}},"93":{"start":{"line":191,"column":0},"end":{"line":191,"column":36}},"94":{"start":{"line":193,"column":17},"end":{"line":193,"column":20}},"95":{"start":{"line":195,"column":0},"end":{"line":195,"column":38}},"96":{"start":{"line":197,"column":17},"end":{"line":197,"column":20}},"97":{"start":{"line":199,"column":0},"end":{"line":199,"column":32}},"98":{"start":{"line":201,"column":17},"end":{"line":201,"column":20}},"99":{"start":{"line":204,"column":17},"end":{"line":204,"column":20}},"100":{"start":{"line":206,"column":0},"end":{"line":206,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":18},"end":{"line":34,"column":5}},"line":32},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":48},"end":{"line":49,"column":5}},"line":35},"8":{"name":"(anonymous_8)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":67},"end":{"line":62,"column":5}},"line":50},"9":{"name":"(anonymous_9)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":73},"end":{"line":75,"column":5}},"line":63},"10":{"name":"(anonymous_10)","decl":{"start":{"line":76,"column":4},"end":{"line":76,"column":5}},"loc":{"start":{"line":76,"column":22},"end":{"line":94,"column":5}},"line":76},"11":{"name":"(anonymous_11)","decl":{"start":{"line":77,"column":27},"end":{"line":77,"column":28}},"loc":{"start":{"line":77,"column":48},"end":{"line":93,"column":9}},"line":77},"12":{"name":"(anonymous_12)","decl":{"start":{"line":89,"column":46},"end":{"line":89,"column":47}},"loc":{"start":{"line":89,"column":66},"end":{"line":92,"column":13}},"line":89},"13":{"name":"(anonymous_13)","decl":{"start":{"line":95,"column":4},"end":{"line":95,"column":5}},"loc":{"start":{"line":95,"column":26},"end":{"line":121,"column":5}},"line":95},"14":{"name":"(anonymous_14)","decl":{"start":{"line":96,"column":27},"end":{"line":96,"column":28}},"loc":{"start":{"line":96,"column":48},"end":{"line":120,"column":9}},"line":96},"15":{"name":"(anonymous_15)","decl":{"start":{"line":102,"column":36},"end":{"line":102,"column":37}},"loc":{"start":{"line":102,"column":53},"end":{"line":119,"column":13}},"line":102},"16":{"name":"(anonymous_16)","decl":{"start":{"line":109,"column":39},"end":{"line":109,"column":40}},"loc":{"start":{"line":109,"column":59},"end":{"line":118,"column":17}},"line":109},"17":{"name":"(anonymous_17)","decl":{"start":{"line":122,"column":4},"end":{"line":122,"column":5}},"loc":{"start":{"line":122,"column":22},"end":{"line":126,"column":5}},"line":122},"18":{"name":"(anonymous_18)","decl":{"start":{"line":132,"column":4},"end":{"line":132,"column":5}},"loc":{"start":{"line":132,"column":31},"end":{"line":134,"column":5}},"line":132},"19":{"name":"(anonymous_19)","decl":{"start":{"line":135,"column":4},"end":{"line":135,"column":5}},"loc":{"start":{"line":135,"column":28},"end":{"line":137,"column":5}},"line":135},"20":{"name":"(anonymous_20)","decl":{"start":{"line":138,"column":4},"end":{"line":138,"column":5}},"loc":{"start":{"line":138,"column":29},"end":{"line":140,"column":5}},"line":138},"21":{"name":"(anonymous_21)","decl":{"start":{"line":141,"column":4},"end":{"line":141,"column":5}},"loc":{"start":{"line":141,"column":28},"end":{"line":143,"column":5}},"line":141},"22":{"name":"(anonymous_22)","decl":{"start":{"line":144,"column":4},"end":{"line":144,"column":5}},"loc":{"start":{"line":144,"column":23},"end":{"line":159,"column":5}},"line":144},"23":{"name":"(anonymous_23)","decl":{"start":{"line":160,"column":4},"end":{"line":160,"column":5}},"loc":{"start":{"line":160,"column":33},"end":{"line":176,"column":5}},"line":160},"24":{"name":"(anonymous_24)","decl":{"start":{"line":177,"column":4},"end":{"line":177,"column":5}},"loc":{"start":{"line":177,"column":45},"end":{"line":182,"column":5}},"line":177},"25":{"name":"(anonymous_25)","decl":{"start":{"line":187,"column":4},"end":{"line":187,"column":5}},"loc":{"start":{"line":187,"column":21},"end":{"line":189,"column":5}},"line":187}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},{"start":{"line":36,"column":8},"end":{"line":38,"column":9}}],"line":36},"17":{"loc":{"start":{"line":63,"column":21},"end":{"line":63,"column":39}},"type":"default-arg","locations":[{"start":{"line":63,"column":34},"end":{"line":63,"column":39}}],"line":63},"18":{"loc":{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":70,"column":13}},{"start":{"line":65,"column":12},"end":{"line":70,"column":13}}],"line":65},"19":{"loc":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},{"start":{"line":78,"column":12},"end":{"line":80,"column":13}}],"line":78},"20":{"loc":{"start":{"line":91,"column":16},"end":{"line":91,"column":77}},"type":"cond-expr","locations":[{"start":{"line":91,"column":24},"end":{"line":91,"column":58}},{"start":{"line":91,"column":61},"end":{"line":91,"column":77}}],"line":91},"21":{"loc":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},{"start":{"line":97,"column":12},"end":{"line":100,"column":13}}],"line":97},"22":{"loc":{"start":{"line":103,"column":16},"end":{"line":108,"column":17}},"type":"if","locations":[{"start":{"line":103,"column":16},"end":{"line":108,"column":17}},{"start":{"line":103,"column":16},"end":{"line":108,"column":17}}],"line":103},"23":{"loc":{"start":{"line":112,"column":20},"end":{"line":115,"column":21}},"type":"if","locations":[{"start":{"line":112,"column":20},"end":{"line":115,"column":21}},{"start":{"line":112,"column":20},"end":{"line":115,"column":21}}],"line":112},"24":{"loc":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},{"start":{"line":123,"column":8},"end":{"line":125,"column":9}}],"line":123},"25":{"loc":{"start":{"line":146,"column":8},"end":{"line":148,"column":9}},"type":"if","locations":[{"start":{"line":146,"column":8},"end":{"line":148,"column":9}},{"start":{"line":146,"column":8},"end":{"line":148,"column":9}}],"line":146},"26":{"loc":{"start":{"line":151,"column":8},"end":{"line":156,"column":9}},"type":"if","locations":[{"start":{"line":151,"column":8},"end":{"line":156,"column":9}},{"start":{"line":151,"column":8},"end":{"line":156,"column":9}}],"line":151},"27":{"loc":{"start":{"line":151,"column":12},"end":{"line":151,"column":70}},"type":"binary-expr","locations":[{"start":{"line":151,"column":12},"end":{"line":151,"column":35}},{"start":{"line":151,"column":39},"end":{"line":151,"column":70}}],"line":151},"28":{"loc":{"start":{"line":163,"column":8},"end":{"line":166,"column":9}},"type":"if","locations":[{"start":{"line":163,"column":8},"end":{"line":166,"column":9}},{"start":{"line":163,"column":8},"end":{"line":166,"column":9}}],"line":163},"29":{"loc":{"start":{"line":169,"column":8},"end":{"line":171,"column":9}},"type":"if","locations":[{"start":{"line":169,"column":8},"end":{"line":171,"column":9}},{"start":{"line":169,"column":8},"end":{"line":171,"column":9}}],"line":169},"30":{"loc":{"start":{"line":169,"column":12},"end":{"line":169,"column":70}},"type":"binary-expr","locations":[{"start":{"line":169,"column":12},"end":{"line":169,"column":35}},{"start":{"line":169,"column":39},"end":{"line":169,"column":70}}],"line":169},"31":{"loc":{"start":{"line":172,"column":8},"end":{"line":173,"column":87}},"type":"if","locations":[{"start":{"line":172,"column":8},"end":{"line":173,"column":87}},{"start":{"line":172,"column":8},"end":{"line":173,"column":87}}],"line":172},"32":{"loc":{"start":{"line":178,"column":8},"end":{"line":180,"column":9}},"type":"if","locations":[{"start":{"line":178,"column":8},"end":{"line":180,"column":9}},{"start":{"line":178,"column":8},"end":{"line":180,"column":9}}],"line":178}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0]},"inputSourceMap":{"version":3,"file":"sql-layer.js","sourceRoot":"","sources":["../../../../src/layer/sql-layer/sql-layer.ts"],"names":[],"mappings":"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","sourcesContent":["import * as mysql from 'mysql';\nimport { MysqlError, Query } from 'mysql';\nimport { errorGenerator } from '/opt/customError-layer';\n\nexport class SQLManager {\n  private connection: null | mysql.Connection;\n  private pool: null | mysql.Pool;\n  constructor() {\n    this.createConnectionPool(\n      'sqldb.cyg4txabxn5r.us-west-2.rds.amazonaws.com',\n      'admin',\n      'password',\n      '3306',\n      'sqlDB'\n    );\n  }\n\n  private connectToDB(\n    hostname: string,\n    user: string,\n    password: string,\n    port: string\n  ): void {\n    if (this.connection?.state === 'connected') {\n      return;\n    }\n    this.connection = mysql.createConnection({\n      host: hostname,\n      user: user,\n      password: password,\n      port: Number(port),\n      multipleStatements: true,\n      connectTimeout: 60 * 60 * 1000,\n      timeout: 60 * 60 * 1000,\n      debug: false,\n    });\n  }\n\n  createConnectionPool(\n    hostname: string,\n    user: string,\n    password: string,\n    port: string,\n    database: string\n  ): void {\n    this.pool = mysql.createPool({\n      host: hostname,\n      user: user,\n      database: database,\n      password: password,\n      port: Number(port),\n      waitForConnections: true,\n      connectionLimit: 10,\n      queueLimit: 0,\n      debug: true,\n    });\n  }\n\n  createConnection(\n    useDefault = false,\n    hostname?: string,\n    user?: string,\n    password?: string,\n    port?: string\n  ): void {\n    try {\n      if (useDefault) {\n        this.connectToDB(\n          'sqldb.cyg4txabxn5r.us-west-2.rds.amazonaws.com',\n          'admin',\n          'password',\n          '3306'\n        );\n      } else {\n        this.connectToDB(hostname!, user!, password!, port!);\n      }\n    } catch (e) {\n      throw e as Error;\n    }\n  }\n\n  query(query: string, set?): Promise<Query | any[]> {\n    return new Promise((resolve, reject) => {\n      if (!this.connection) {\n        return reject(new FailedDependencyError('Connection Null'));\n      }\n      // if (this.connection.state !== 'connected') {\n      //   this.connection.connect((error: MysqlError) => {\n      //     if (error) {\n      //       // 599\n      //       reject(new NetworkConnectTimeoutError(error.code));\n      //     }\n      //   });\n      // }\n\n      this.connection.query(query, set, (error, results) => {\n        // todo find types of query errors to return correct status code\n        error ? reject(new BadRequest(error.code)) : resolve(results);\n      });\n    });\n  }\n\n  queryPool(query: string, set?): Promise<Query> {\n    return new Promise((resolve, reject) => {\n      if (!this.pool) {\n        reject(new FailedDependencyError('Connection Null'));\n        return;\n      }\n      console.log('in queryPool');\n\n      this.pool.getConnection((error: MysqlError, conn) => {\n        if (error) {\n          // 599\n          console.log('err1', error);\n          reject(new NetworkConnectTimeoutError(error.code));\n          return;\n        }\n        conn.query(query, set, (error, results) => {\n          // todo find types of query errors to return correct status code\n          console.log('<<query :::: ', query);\n\n          if (error) {\n            reject(new BadRequest('Bad Request'));\n            return;\n          }\n          conn.release();\n          resolve(results);\n        });\n      });\n    });\n  }\n\n  closeConnection(): void {\n    if (this.connection) {\n      this.connection.end();\n    }\n  }\n}\n\n// Promise<{ statusCode: number; body: string } |\nexport type handler = (event?) => Promise<any>;\nexport type response = Promise<any>;\ntype Dict<T> = { [key: string]: T };\n\n// A router to manage routes in the style of express\nexport class Router {\n  private route_table: Dict<Dict<handler>> = {};\n\n  public delete(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'DELETE', func);\n  }\n\n  public get(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'GET', func);\n  }\n\n  public post(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'POST', func);\n  }\n\n  public put(resourcePath: string, func: handler) {\n    this.addRoute(resourcePath, 'PUT', func);\n  }\n\n  public async route(event): Promise<{ statusCode: number; body: string }> {\n    console.log(this.route_table);\n    if (!event.requestContext) {\n      return { statusCode: 407, body: 'ROUTE - expected requestContext' };\n    }\n\n    const path = event.requestContext.resourcePath;\n    const method = event.requestContext.httpMethod;\n\n    if (!this.route_table[path] || !this.route_table[path][method]) {\n      return {\n        statusCode: 405,\n        body: 'ROUTE - Invalid route: ' + path + method,\n      };\n    }\n\n    // calls the function assigned based on the path and method\n    return this.route_table[event.requestContext.resourcePath][\n      event.requestContext.httpMethod\n    ](event);\n  }\n\n  public async routeThrowError(\n    event\n  ): Promise<{ statusCode: number; body: string }> {\n    console.log(this.route_table);\n    let msg = '';\n    if (!event.requestContext) {\n      msg = 'ROUTE - expected requestContext';\n      errorGenerator({ statusCode: 406, message: msg });\n    }\n\n    const path = event.requestContext.resourcePath;\n    const method = event.requestContext.httpMethod;\n\n    if (!this.route_table[path] || !this.route_table[path][method]) {\n      msg = 'ROUTE - Invalid route: ' + path + method;\n    }\n    if (msg != '') errorGenerator({ statusCode: 405, message: msg });\n\n    // calls the function assigned based on the path and method\n    return this.route_table[event.requestContext.resourcePath][\n      event.requestContext.httpMethod\n    ](event);\n  }\n\n  private addRoute(resourcePath: string, httpMethod: string, func: handler) {\n    if (!this.route_table[resourcePath]) {\n      this.route_table[resourcePath] = {};\n    }\n\n    this.route_table[resourcePath][httpMethod] = func;\n  }\n}\n\nexport class NetworkError extends Error {\n  statusCode: number;\n\n  constructor(msg: string) {\n    super(msg);\n  }\n}\n\nexport class NotFoundError extends NetworkError {\n  statusCode = 404;\n}\n\nexport class BadRequest extends NetworkError {\n  statusCode = 400;\n}\n\nclass NetworkConnectTimeoutError extends NetworkError {\n  statusCode = 599;\n}\n\nclass FailedDependencyError extends NetworkError {\n  statusCode = 424;\n}\n\nexport const SQLConnectionManager = new SQLManager();\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/utils/types.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/src/utils/types.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":0},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../src/utils/types.ts"],"names":[],"mappings":"","sourcesContent":["export type User = {\n  id?: number;\n  first_name?: string;\n  last_name?: string;\n  email: string;\n  department?: string;\n  created_at?: Date;\n};\n\nexport type Address = {\n  id: number;\n  user_id: number;\n  address_line_1: string;\n  address_line_2: string | null;\n  city: string;\n  province: string;\n  postal_code: string;\n  recipient: string;\n  telephone: string;\n};\n\nexport type Buyer = {\n  id: number;\n  pref_address_id: number;\n  pref_pm_id: number;\n};\n\nexport type Payment_method = {\n  id: number;\n  is_paypal: boolean;\n  paypal_id: string | null;\n  is_credit: boolean | null;\n  bank_name: string | null;\n  card_num: string | null;\n  expiration_date: string | null;\n  first_name: string | null;\n  last_name: string | null;\n};\n\nexport type Seller = {\n  id: number;\n  banking_name: string;\n  account_num: string;\n};\n\nexport type Order = {\n  id: number;\n  buyer_id: number;\n  status: string;\n  date: string;\n};\n\nexport type Shipping_status = {\n  id: number;\n  status: string;\n  expected_delivery_date: string;\n};\n\nexport type Order_item = {\n  order_id: number;\n  product_id: number;\n  shippings: number;\n  quantity: number;\n};\n\nexport type Product = {\n  id: number;\n  seller_id: number;\n  name: string;\n  price: number;\n  discount: number | null;\n  description: string | null;\n  address: string;\n  status: string;\n  shipping_method: string;\n  created_at: Date;\n  updated_at: Date;\n  total_quantity: number;\n  category_id: number;\n};\n\nexport type Shipping_constraint = {\n  product_id: number;\n  region: string | null;\n  distance: number | null;\n};\n\nexport type Category = {\n  id: number;\n  name: string;\n};\n\nexport type Product_multimedia = {\n  id: number;\n  url: string;\n  product_id: number;\n};\n\nexport type Cart_item = {\n  buyer_id: number;\n  product_id: number;\n  quantity: number;\n};\n\nexport type Admin = {\n  id: number;\n  email: string;\n  first_name: string;\n  last_name: string;\n  department: string;\n  role: string;\n};\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/integration/lambda/auth-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/integration/lambda/auth-lambda/index.test.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":22},"end":{"line":29,"column":67}},"28":{"start":{"line":30,"column":14},"end":{"line":30,"column":83}},"29":{"start":{"line":31,"column":14},"end":{"line":31,"column":83}},"30":{"start":{"line":32,"column":13},"end":{"line":32,"column":42}},"31":{"start":{"line":33,"column":27},"end":{"line":33,"column":71}},"32":{"start":{"line":34,"column":15},"end":{"line":34,"column":30}},"33":{"start":{"line":35,"column":20},"end":{"line":35,"column":75}},"34":{"start":{"line":36,"column":0},"end":{"line":36,"column":37}},"35":{"start":{"line":37,"column":0},"end":{"line":50,"column":3}},"36":{"start":{"line":38,"column":4},"end":{"line":41,"column":7}},"37":{"start":{"line":39,"column":22},"end":{"line":39,"column":27}},"38":{"start":{"line":40,"column":8},"end":{"line":40,"column":95}},"39":{"start":{"line":42,"column":4},"end":{"line":45,"column":7}},"40":{"start":{"line":43,"column":22},"end":{"line":43,"column":27}},"41":{"start":{"line":44,"column":8},"end":{"line":44,"column":99}},"42":{"start":{"line":46,"column":4},"end":{"line":46,"column":59}},"43":{"start":{"line":47,"column":4},"end":{"line":49,"column":7}},"44":{"start":{"line":48,"column":8},"end":{"line":48,"column":59}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":49},"end":{"line":37,"column":50}},"loc":{"start":{"line":37,"column":61},"end":{"line":50,"column":1}},"line":37},"8":{"name":"(anonymous_8)","decl":{"start":{"line":38,"column":62},"end":{"line":38,"column":63}},"loc":{"start":{"line":38,"column":74},"end":{"line":41,"column":5}},"line":38},"9":{"name":"(anonymous_9)","decl":{"start":{"line":42,"column":59},"end":{"line":42,"column":60}},"loc":{"start":{"line":42,"column":71},"end":{"line":45,"column":5}},"line":42},"10":{"name":"(anonymous_10)","decl":{"start":{"line":47,"column":10},"end":{"line":47,"column":11}},"loc":{"start":{"line":47,"column":22},"end":{"line":49,"column":5}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/integration/lambda/auth-lambda/index.test.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uDAAuD;AACvD,wEAA0D;AAC1D,wEAA0D;AAC1D,2CAA6B;AAC7B,wEAA8C;AAC9C,+BAA8B;AAC9B,8CAAsD;AACtD,IAAI,CAAC,GAAG,CAAC,0BAAc,CAAC,CAAC;AAEzB,QAAQ,CAAC,sCAAsC,EAAE;IAC/C,EAAE,CAAC,qDAAqD,EAAE,KAAK,IAAI,EAAE;QACnE,MAAM,KAAK,GAAG,KAAK,CAAC;QACpB,IAAA,aAAM,EAAC,IAAA,4BAAc,EAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC;IAC1D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;QAChE,MAAM,KAAK,GAAG,KAAK,CAAC;QACpB,IAAA,aAAM,EAAC,IAAA,4BAAc,EAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC;IAC9D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kDAAkD,CAAC,CAAC;IAEvD,KAAK,CAAC,KAAK,IAAI,EAAE;QACf,gCAAoB,CAAC,eAAe,EAAE,CAAC;IACzC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { authorizeLogin } from '@/lambdas/auth-lambda';\nimport * as data2 from 'tests/events/event-sign-in2.json';\nimport * as data3 from 'tests/events/event-sign-in3.json';\nimport * as chai from 'chai';\nimport chaiAsPromised from 'chai-as-promised';\nimport { expect } from 'chai';\nimport { SQLConnectionManager } from '/opt/sql-layer';\nchai.use(chaiAsPromised);\n\ndescribe('Integration tests for Authentication', function () {\n  it('should throw if user email is not a registered user', async () => {\n    const event = data2;\n    expect(authorizeLogin(event)).to.eventually.be.rejected;\n  });\n\n  it('should return if user email is a registered user', async () => {\n    const event = data3;\n    expect(authorizeLogin(event)).to.not.eventually.be.rejected;\n  });\n\n  it('should throw an error if server user query fails');\n\n  after(async () => {\n    SQLConnectionManager.closeConnection();\n  });\n});\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/integration/lambda/products-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/integration/lambda/products-lambda/index.test.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":13},"end":{"line":29,"column":42}},"28":{"start":{"line":30,"column":27},"end":{"line":30,"column":71}},"29":{"start":{"line":31,"column":0},"end":{"line":31,"column":37}},"30":{"start":{"line":32,"column":0},"end":{"line":45,"column":3}},"31":{"start":{"line":33,"column":4},"end":{"line":35,"column":7}},"32":{"start":{"line":34,"column":8},"end":{"line":34,"column":15}},"33":{"start":{"line":36,"column":4},"end":{"line":38,"column":7}},"34":{"start":{"line":37,"column":8},"end":{"line":37,"column":15}},"35":{"start":{"line":39,"column":4},"end":{"line":41,"column":7}},"36":{"start":{"line":40,"column":8},"end":{"line":40,"column":15}},"37":{"start":{"line":42,"column":4},"end":{"line":44,"column":7}},"38":{"start":{"line":43,"column":8},"end":{"line":43,"column":15}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":32,"column":36},"end":{"line":32,"column":37}},"loc":{"start":{"line":32,"column":48},"end":{"line":45,"column":1}},"line":32},"8":{"name":"(anonymous_8)","decl":{"start":{"line":33,"column":38},"end":{"line":33,"column":39}},"loc":{"start":{"line":33,"column":50},"end":{"line":35,"column":5}},"line":33},"9":{"name":"(anonymous_9)","decl":{"start":{"line":36,"column":37},"end":{"line":36,"column":38}},"loc":{"start":{"line":36,"column":49},"end":{"line":38,"column":5}},"line":36},"10":{"name":"(anonymous_10)","decl":{"start":{"line":39,"column":39},"end":{"line":39,"column":40}},"loc":{"start":{"line":39,"column":45},"end":{"line":41,"column":5}},"line":39},"11":{"name":"(anonymous_11)","decl":{"start":{"line":42,"column":39},"end":{"line":42,"column":40}},"loc":{"start":{"line":42,"column":45},"end":{"line":44,"column":5}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/integration/lambda/products-lambda/index.test.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAA6B;AAC7B,wEAA8C;AAC9C,IAAI,CAAC,GAAG,CAAC,0BAAc,CAAC,CAAC;AAEzB,QAAQ,CAAC,yBAAyB,EAAE;IAClC,QAAQ,CAAC,uBAAuB,EAAE;QAChC,OAAO;IACT,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,sBAAsB,EAAE;QAC/B,OAAO;IACT,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,OAAO;IACT,CAAC,CAAC,CAAC;IACH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,OAAO;IACT,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import * as chai from 'chai';\nimport chaiAsPromised from 'chai-as-promised';\nchai.use(chaiAsPromised);\n\ndescribe('Unit tests for Products', function () {\n  describe('When getting Products', function () {\n    return;\n  });\n\n  describe('When adding Products', function () {\n    return;\n  });\n\n  describe('When deleting Products', () => {\n    return;\n  });\n  describe('When updating Products', () => {\n    return;\n  });\n});\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/admin-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/admin-lambda/index.test.js","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/unit/lambda/admin-lambda/index.test.ts"],"names":[],"mappings":"","sourcesContent":[""]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/auth-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/auth-lambda/index.test.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":22},"end":{"line":29,"column":67}},"28":{"start":{"line":30,"column":13},"end":{"line":30,"column":81}},"29":{"start":{"line":31,"column":13},"end":{"line":31,"column":42}},"30":{"start":{"line":32,"column":27},"end":{"line":32,"column":71}},"31":{"start":{"line":33,"column":15},"end":{"line":33,"column":30}},"32":{"start":{"line":34,"column":0},"end":{"line":34,"column":37}},"33":{"start":{"line":35,"column":14},"end":{"line":35,"column":44}},"34":{"start":{"line":36,"column":20},"end":{"line":36,"column":75}},"35":{"start":{"line":37,"column":0},"end":{"line":49,"column":3}},"36":{"start":{"line":39,"column":4},"end":{"line":41,"column":7}},"37":{"start":{"line":40,"column":8},"end":{"line":40,"column":80}},"38":{"start":{"line":42,"column":4},"end":{"line":45,"column":7}},"39":{"start":{"line":43,"column":22},"end":{"line":43,"column":26}},"40":{"start":{"line":44,"column":8},"end":{"line":44,"column":95}},"41":{"start":{"line":46,"column":4},"end":{"line":48,"column":7}},"42":{"start":{"line":47,"column":8},"end":{"line":47,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":42},"end":{"line":37,"column":43}},"loc":{"start":{"line":37,"column":54},"end":{"line":49,"column":1}},"line":37},"8":{"name":"(anonymous_8)","decl":{"start":{"line":39,"column":11},"end":{"line":39,"column":12}},"loc":{"start":{"line":39,"column":17},"end":{"line":41,"column":5}},"line":39},"9":{"name":"(anonymous_9)","decl":{"start":{"line":42,"column":68},"end":{"line":42,"column":69}},"loc":{"start":{"line":42,"column":80},"end":{"line":45,"column":5}},"line":42},"10":{"name":"(anonymous_10)","decl":{"start":{"line":46,"column":10},"end":{"line":46,"column":11}},"loc":{"start":{"line":46,"column":16},"end":{"line":48,"column":5}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/unit/lambda/auth-lambda/index.test.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uDAAuD;AACvD,sEAAwD;AACxD,2CAA6B;AAC7B,wEAA8C;AAC9C,+BAA8B;AAC9B,IAAI,CAAC,GAAG,CAAC,0BAAc,CAAC,CAAC;AACzB,6CAA+B;AAC/B,8CAAsD;AAEtD,QAAQ,CAAC,+BAA+B,EAAE;IACxC,IAAI,IAAI,CAAC;IAET,MAAM,CAAC,GAAG,EAAE;QACV,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,gCAAoB,EAAE,kBAAkB,CAAC,CAAC;IAC9D,CAAC,CAAC,CAAC;IACH,EAAE,CAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;QACzE,MAAM,KAAK,GAAG,IAAI,CAAC;QACnB,IAAA,aAAM,EAAC,IAAA,4BAAc,EAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC;IAC1D,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,GAAG,EAAE;QACT,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { authorizeLogin } from '@/lambdas/auth-lambda';\nimport * as data from 'tests/events/event-sign-in.json';\nimport * as chai from 'chai';\nimport chaiAsPromised from 'chai-as-promised';\nimport { expect } from 'chai';\nchai.use(chaiAsPromised);\nimport * as sinon from 'sinon';\nimport { SQLConnectionManager } from '/opt/sql-layer';\n\ndescribe('Unit tests for Authentication', function () {\n  let stub;\n\n  before(() => {\n    stub = sinon.stub(SQLConnectionManager, 'createConnection');\n  });\n  it('should throw an error if user email is missing from event', async () => {\n    const event = data;\n    expect(authorizeLogin(event)).to.eventually.be.rejected;\n  });\n\n  after(() => {\n    stub.restore();\n  });\n});\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/carts-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/carts-lambda/index.test.js","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/unit/lambda/carts-lambda/index.test.ts"],"names":[],"mappings":"","sourcesContent":[""]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/products-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/products-lambda/index.test.js","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":26},"end":{"line":29,"column":75}},"28":{"start":{"line":30,"column":13},"end":{"line":30,"column":42}},"29":{"start":{"line":31,"column":27},"end":{"line":31,"column":71}},"30":{"start":{"line":32,"column":15},"end":{"line":32,"column":30}},"31":{"start":{"line":33,"column":0},"end":{"line":33,"column":37}},"32":{"start":{"line":34,"column":14},"end":{"line":34,"column":44}},"33":{"start":{"line":35,"column":13},"end":{"line":35,"column":73}},"34":{"start":{"line":36,"column":20},"end":{"line":36,"column":75}},"35":{"start":{"line":37,"column":0},"end":{"line":62,"column":3}},"36":{"start":{"line":39,"column":4},"end":{"line":41,"column":7}},"37":{"start":{"line":40,"column":8},"end":{"line":40,"column":80}},"38":{"start":{"line":42,"column":4},"end":{"line":48,"column":7}},"39":{"start":{"line":43,"column":8},"end":{"line":46,"column":11}},"40":{"start":{"line":44,"column":26},"end":{"line":44,"column":30}},"41":{"start":{"line":45,"column":12},"end":{"line":45,"column":99}},"42":{"start":{"line":47,"column":8},"end":{"line":47,"column":51}},"43":{"start":{"line":49,"column":4},"end":{"line":52,"column":7}},"44":{"start":{"line":50,"column":8},"end":{"line":50,"column":73}},"45":{"start":{"line":51,"column":8},"end":{"line":51,"column":48}},"46":{"start":{"line":53,"column":4},"end":{"line":55,"column":7}},"47":{"start":{"line":54,"column":8},"end":{"line":54,"column":15}},"48":{"start":{"line":56,"column":4},"end":{"line":58,"column":7}},"49":{"start":{"line":57,"column":8},"end":{"line":57,"column":15}},"50":{"start":{"line":59,"column":4},"end":{"line":61,"column":7}},"51":{"start":{"line":60,"column":8},"end":{"line":60,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":36},"end":{"line":37,"column":37}},"loc":{"start":{"line":37,"column":48},"end":{"line":62,"column":1}},"line":37},"8":{"name":"(anonymous_8)","decl":{"start":{"line":39,"column":11},"end":{"line":39,"column":12}},"loc":{"start":{"line":39,"column":17},"end":{"line":41,"column":5}},"line":39},"9":{"name":"(anonymous_9)","decl":{"start":{"line":42,"column":38},"end":{"line":42,"column":39}},"loc":{"start":{"line":42,"column":50},"end":{"line":48,"column":5}},"line":42},"10":{"name":"(anonymous_10)","decl":{"start":{"line":43,"column":61},"end":{"line":43,"column":62}},"loc":{"start":{"line":43,"column":73},"end":{"line":46,"column":9}},"line":43},"11":{"name":"(anonymous_11)","decl":{"start":{"line":49,"column":37},"end":{"line":49,"column":38}},"loc":{"start":{"line":49,"column":49},"end":{"line":52,"column":5}},"line":49},"12":{"name":"(anonymous_12)","decl":{"start":{"line":53,"column":39},"end":{"line":53,"column":40}},"loc":{"start":{"line":53,"column":45},"end":{"line":55,"column":5}},"line":53},"13":{"name":"(anonymous_13)","decl":{"start":{"line":56,"column":39},"end":{"line":56,"column":40}},"loc":{"start":{"line":56,"column":45},"end":{"line":58,"column":5}},"line":56},"14":{"name":"(anonymous_14)","decl":{"start":{"line":59,"column":10},"end":{"line":59,"column":11}},"loc":{"start":{"line":59,"column":16},"end":{"line":61,"column":5}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/unit/lambda/products-lambda/index.test.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+DAAuD;AACvD,2CAA6B;AAC7B,wEAA8C;AAC9C,+BAA8B;AAC9B,IAAI,CAAC,GAAG,CAAC,0BAAc,CAAC,CAAC;AACzB,6CAA+B;AAC/B,0EAA4D;AAC5D,8CAAsD;AAEtD,QAAQ,CAAC,yBAAyB,EAAE;IAClC,IAAI,IAAI,CAAC;IAET,MAAM,CAAC,GAAG,EAAE;QACV,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,gCAAoB,EAAE,kBAAkB,CAAC,CAAC;IAC9D,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,uBAAuB,EAAE;QAChC,EAAE,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;YAC9D,MAAM,KAAK,GAAG,IAAI,CAAC;YACnB,IAAA,aAAM,EAAC,IAAA,4BAAU,EAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC;QACtD,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,sCAAsC,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,sBAAsB,EAAE;QAC/B,EAAE,CAAC,4DAA4D,CAAC,CAAC;QACjE,EAAE,CAAC,mCAAmC,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,OAAO;IACT,CAAC,CAAC,CAAC;IACH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,OAAO;IACT,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,GAAG,EAAE;QACT,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { addProduct } from '@/lambdas/products-lambda';\nimport * as chai from 'chai';\nimport chaiAsPromised from 'chai-as-promised';\nimport { expect } from 'chai';\nchai.use(chaiAsPromised);\nimport * as sinon from 'sinon';\nimport * as data from '../../../events/get_product_id.json';\nimport { SQLConnectionManager } from '/opt/sql-layer';\n\ndescribe('Unit tests for Products', function () {\n  let stub;\n\n  before(() => {\n    stub = sinon.stub(SQLConnectionManager, 'createConnection');\n  });\n\n  describe('When getting Products', function () {\n    it('should throw an error if product id is missing', async () => {\n      const event = data;\n      expect(addProduct(event)).to.eventually.be.rejected;\n    });\n    it('should successfully get product info');\n  });\n\n  describe('When adding Products', function () {\n    it('should throw an error if product information is incomplete');\n    it('should successfully add a product');\n  });\n\n  describe('When deleting Products', () => {\n    return;\n  });\n  describe('When updating Products', () => {\n    return;\n  });\n\n  after(() => {\n    stub.restore();\n  });\n});\n"]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/shipping-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/shipping-lambda/index.test.js","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/unit/lambda/shipping-lambda/index.test.ts"],"names":[],"mappings":"","sourcesContent":[""]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/users-lambda/index.test.js":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/dist/tests/unit/lambda/users-lambda/index.test.js","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../../../../tests/unit/lambda/users-lambda/index.test.ts"],"names":[],"mappings":"","sourcesContent":[""]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/database/mock/data.ts":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/database/mock/data.ts","statementMap":{"0":{"start":{"line":3,"column":20},"end":{"line":38,"column":1}},"1":{"start":{"line":40,"column":21},"end":{"line":112,"column":1}},"2":{"start":{"line":114,"column":22},"end":{"line":180,"column":1}},"3":{"start":{"line":182,"column":22},"end":{"line":288,"column":1}},"4":{"start":{"line":290,"column":23},"end":{"line":621,"column":1}},"5":{"start":{"line":623,"column":24},"end":{"line":877,"column":1}}},"fnMap":{},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},"f":{},"b":{},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/admin-lambda/index.ts":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/admin-lambda/index.ts","statementMap":{"0":{"start":{"line":9,"column":15},"end":{"line":9,"column":27}},"1":{"start":{"line":11,"column":0},"end":{"line":15,"column":2}},"2":{"start":{"line":12,"column":24},"end":{"line":12,"column":45}},"3":{"start":{"line":13,"column":2},"end":{"line":13,"column":50}},"4":{"start":{"line":14,"column":2},"end":{"line":14,"column":23}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":53}},"6":{"start":{"line":18,"column":0},"end":{"line":18,"column":59}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":59}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":73}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":72}},"10":{"start":{"line":25,"column":2},"end":{"line":36,"column":4}},"11":{"start":{"line":26,"column":4},"end":{"line":35,"column":5}},"12":{"start":{"line":27,"column":21},"end":{"line":27,"column":41}},"13":{"start":{"line":28,"column":6},"end":{"line":31,"column":8}},"14":{"start":{"line":33,"column":6},"end":{"line":33,"column":23}},"15":{"start":{"line":34,"column":6},"end":{"line":34,"column":13}},"16":{"start":{"line":40,"column":2},"end":{"line":40,"column":29}},"17":{"start":{"line":41,"column":2},"end":{"line":41,"column":31}},"18":{"start":{"line":45,"column":2},"end":{"line":45,"column":29}},"19":{"start":{"line":46,"column":2},"end":{"line":46,"column":27}},"20":{"start":{"line":50,"column":2},"end":{"line":50,"column":29}},"21":{"start":{"line":51,"column":2},"end":{"line":51,"column":26}},"22":{"start":{"line":55,"column":2},"end":{"line":55,"column":29}},"23":{"start":{"line":56,"column":2},"end":{"line":56,"column":33}},"24":{"start":{"line":60,"column":2},"end":{"line":60,"column":29}},"25":{"start":{"line":61,"column":2},"end":{"line":61,"column":36}},"26":{"start":{"line":65,"column":2},"end":{"line":73,"column":3}},"27":{"start":{"line":66,"column":4},"end":{"line":67,"column":42}},"28":{"start":{"line":67,"column":6},"end":{"line":67,"column":42}},"29":{"start":{"line":68,"column":9},"end":{"line":73,"column":3}},"30":{"start":{"line":69,"column":4},"end":{"line":70,"column":43}},"31":{"start":{"line":70,"column":6},"end":{"line":70,"column":43}},"32":{"start":{"line":72,"column":4},"end":{"line":72,"column":71}},"33":{"start":{"line":72,"column":35},"end":{"line":72,"column":71}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":18},"end":{"line":11,"column":19}},"loc":{"start":{"line":11,"column":31},"end":{"line":15,"column":1}},"line":11},"1":{"name":"handling","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":17}},"loc":{"start":{"line":24,"column":27},"end":{"line":37,"column":1}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":10}},"loc":{"start":{"line":25,"column":26},"end":{"line":36,"column":3}},"line":25},"3":{"name":"getAdminL","decl":{"start":{"line":39,"column":15},"end":{"line":39,"column":24}},"loc":{"start":{"line":39,"column":28},"end":{"line":42,"column":1}},"line":39},"4":{"name":"getUsersL","decl":{"start":{"line":44,"column":15},"end":{"line":44,"column":24}},"loc":{"start":{"line":44,"column":28},"end":{"line":47,"column":1}},"line":44},"5":{"name":"addUserL","decl":{"start":{"line":49,"column":15},"end":{"line":49,"column":23}},"loc":{"start":{"line":49,"column":27},"end":{"line":52,"column":1}},"line":49},"6":{"name":"deleteUserL","decl":{"start":{"line":54,"column":15},"end":{"line":54,"column":26}},"loc":{"start":{"line":54,"column":30},"end":{"line":57,"column":1}},"line":54},"7":{"name":"getAdminDashboardL","decl":{"start":{"line":59,"column":15},"end":{"line":59,"column":33}},"loc":{"start":{"line":59,"column":37},"end":{"line":62,"column":1}},"line":59},"8":{"name":"requestValidation","decl":{"start":{"line":64,"column":15},"end":{"line":64,"column":32}},"loc":{"start":{"line":64,"column":36},"end":{"line":74,"column":1}},"line":64}},"branchMap":{"0":{"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":44}},"type":"binary-expr","locations":[{"start":{"line":29,"column":20},"end":{"line":29,"column":37}},{"start":{"line":29,"column":41},"end":{"line":29,"column":44}}],"line":29},"1":{"loc":{"start":{"line":65,"column":2},"end":{"line":73,"column":3}},"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":73,"column":3}},{"start":{"line":65,"column":2},"end":{"line":73,"column":3}}],"line":65},"2":{"loc":{"start":{"line":65,"column":6},"end":{"line":65,"column":53}},"type":"binary-expr","locations":[{"start":{"line":65,"column":6},"end":{"line":65,"column":28}},{"start":{"line":65,"column":32},"end":{"line":65,"column":53}}],"line":65},"3":{"loc":{"start":{"line":66,"column":4},"end":{"line":67,"column":42}},"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":67,"column":42}},{"start":{"line":66,"column":4},"end":{"line":67,"column":42}}],"line":66},"4":{"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":44}},"type":"binary-expr","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":33}},{"start":{"line":66,"column":37},"end":{"line":66,"column":44}}],"line":66},"5":{"loc":{"start":{"line":68,"column":9},"end":{"line":73,"column":3}},"type":"if","locations":[{"start":{"line":68,"column":9},"end":{"line":73,"column":3}},{"start":{"line":68,"column":9},"end":{"line":73,"column":3}}],"line":68},"6":{"loc":{"start":{"line":69,"column":4},"end":{"line":70,"column":43}},"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":43}},{"start":{"line":69,"column":4},"end":{"line":70,"column":43}}],"line":69},"7":{"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":61}},"type":"binary-expr","locations":[{"start":{"line":69,"column":8},"end":{"line":69,"column":33}},{"start":{"line":69,"column":37},"end":{"line":69,"column":61}}],"line":69},"8":{"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":71}},"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":71}},{"start":{"line":72,"column":4},"end":{"line":72,"column":71}}],"line":72}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/dummy.ts":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/dummy.ts","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/shipping-lambda/index.ts":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/shipping-lambda/index.ts","statementMap":{},"fnMap":{},"branchMap":{},"s":{},"f":{},"b":{},"all":true},"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/users-lambda/index.ts":{"path":"/Users/mgbalantzyan/projects/cpsc319/JungleCart/backend/src/lambda/users-lambda/index.ts","statementMap":{"0":{"start":{"line":4,"column":23},"end":{"line":4,"column":43}},"1":{"start":{"line":5,"column":15},"end":{"line":5,"column":27}},"2":{"start":{"line":10,"column":0},"end":{"line":10,"column":58}},"3":{"start":{"line":11,"column":0},"end":{"line":11,"column":57}},"4":{"start":{"line":14,"column":0},"end":{"line":14,"column":76}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":73}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":78}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":76}},"8":{"start":{"line":21,"column":0},"end":{"line":24,"column":2}},"9":{"start":{"line":25,"column":0},"end":{"line":25,"column":79}},"10":{"start":{"line":26,"column":0},"end":{"line":29,"column":2}},"11":{"start":{"line":30,"column":0},"end":{"line":33,"column":2}},"12":{"start":{"line":34,"column":0},"end":{"line":37,"column":2}},"13":{"start":{"line":40,"column":0},"end":{"line":43,"column":2}},"14":{"start":{"line":44,"column":0},"end":{"line":47,"column":2}},"15":{"start":{"line":48,"column":0},"end":{"line":51,"column":2}},"16":{"start":{"line":52,"column":0},"end":{"line":55,"column":2}},"17":{"start":{"line":76,"column":0},"end":{"line":83,"column":2}},"18":{"start":{"line":77,"column":2},"end":{"line":77,"column":39}},"19":{"start":{"line":78,"column":2},"end":{"line":78,"column":36}},"20":{"start":{"line":79,"column":2},"end":{"line":79,"column":46}},"21":{"start":{"line":80,"column":24},"end":{"line":80,"column":49}},"22":{"start":{"line":81,"column":2},"end":{"line":81,"column":51}},"23":{"start":{"line":82,"column":2},"end":{"line":82,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":76,"column":18},"end":{"line":76,"column":19}},"loc":{"start":{"line":76,"column":41},"end":{"line":83,"column":1}},"line":76}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"f":{"0":0},"b":{},"all":true}}